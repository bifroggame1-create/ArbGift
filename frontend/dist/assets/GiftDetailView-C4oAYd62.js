import{d as C,k as N,c as l,h as x,b as a,t as r,s as i,n as B,e as u,F as L,g as V,w as G,r as d,a as $,f as j,o as t,u as F,y as z}from"./vue-Bx9zvuFS.js";import{g as A,a as D}from"./client-WsuO9Up5.js";import{_ as g,a as p}from"./PriceTag.vue_vue_type_script_setup_true_lang-C-p_hdMF.js";import{u as P}from"./index-BlBVbgz5.js";const T={class:"max-w-4xl mx-auto px-4 py-6"},q={key:1},E={class:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl overflow-hidden mb-6"},I={class:"aspect-square max-w-md mx-auto p-8"},M=["src","alt"],R={key:1,class:"flex items-center justify-center h-full text-9xl"},S={class:"bg-gray-800 rounded-2xl p-6 mb-6"},H={class:"flex items-start justify-between mb-4"},J={class:"text-2xl font-bold mb-2"},K={key:0,class:"text-gray-400 text-sm"},O={key:0,class:"text-gray-300 mb-4"},Q={key:1,class:"flex flex-wrap gap-2 mb-4"},U={key:0,class:"px-3 py-1 bg-gray-700 rounded-full text-sm"},W={key:1,class:"px-3 py-1 bg-gray-700 rounded-full text-sm"},X={key:2,class:"border-t border-gray-700 pt-4"},Y={class:"bg-gray-800 rounded-2xl p-6"},Z={class:"text-xl font-bold mb-4"},ee={key:1,class:"space-y-3"},te=["href"],se={class:"flex items-center justify-between"},ae={class:"font-semibold text-lg mb-1"},le={class:"text-gray-400 text-xs truncate"},oe={class:"text-right"},re={key:2,class:"text-center py-8 text-gray-400"},ie={key:2,class:"text-center py-16"},ve=C({__name:"GiftDetailView",setup(ne){const m=j(),{hapticImpact:y}=P(),e=d(null),c=d([]),_=d(!0),v=d(!0),f=async()=>{try{const o=Number(m.params.id);e.value=await A(o)}catch(o){console.error("Failed to load gift:",o)}finally{_.value=!1}},b=async()=>{try{const o=Number(m.params.id),s=await D(o);c.value=s.listings||[]}catch(o){console.error("Failed to load listings:",o)}finally{v.value=!1}},h=o=>o?`${o.slice(0,6)}...${o.slice(-4)}`:"",k=o=>{const s={common:"bg-gray-600 text-gray-100",uncommon:"bg-green-600 text-green-100",rare:"bg-blue-600 text-blue-100",epic:"bg-purple-600 text-purple-100",legendary:"bg-yellow-600 text-yellow-100"};return s[o.toLowerCase()]||s.common};return N(async()=>{await Promise.all([f(),b()])}),(o,s)=>{const w=$("router-link");return t(),l("div",T,[_.value?(t(),x(p,{key:0,"full-height":!0})):e.value?(t(),l("div",q,[a("div",E,[a("div",I,[e.value.image_url?(t(),l("img",{key:0,src:e.value.image_url,alt:e.value.name,class:"w-full h-full object-contain"},null,8,M)):(t(),l("div",R," üéÅ "))])]),a("div",S,[a("div",H,[a("div",null,[a("h1",J,r(e.value.name),1),e.value.collection_name?(t(),l("p",K,r(e.value.collection_name),1)):i("",!0)]),e.value.rarity?(t(),l("div",{key:0,class:B(["px-3 py-1 rounded-full text-sm font-semibold",k(e.value.rarity)])},r(e.value.rarity),3)):i("",!0)]),e.value.description?(t(),l("p",O,r(e.value.description),1)):i("",!0),e.value.backdrop||e.value.model?(t(),l("div",Q,[e.value.backdrop?(t(),l("span",U," üé® "+r(e.value.backdrop),1)):i("",!0),e.value.model?(t(),l("span",W," üéÅ "+r(e.value.model),1)):i("",!0)])):i("",!0),e.value.min_price_ton?(t(),l("div",X,[s[1]||(s[1]=a("div",{class:"text-gray-400 text-sm mb-1"},"Best Price",-1)),u(g,{price:e.value.min_price_ton,class:"text-2xl"},null,8,["price"])])):i("",!0)]),a("div",Y,[a("h2",Z," Available Listings ("+r(c.value.length)+") ",1),v.value?(t(),x(p,{key:0,size:"sm"})):c.value.length>0?(t(),l("div",ee,[(t(!0),l(L,null,V(c.value,n=>(t(),l("a",{key:n.id,href:n.listing_url,target:"_blank",class:"block bg-gray-900 rounded-xl p-4 hover:ring-2 hover:ring-blue-500 transition-all",onClick:s[0]||(s[0]=ce=>F(y)("medium"))},[a("div",se,[a("div",null,[a("div",ae,r(n.market_name),1),a("div",le,r(h(n.seller_address)),1)]),a("div",oe,[u(g,{price:n.price_ton},null,8,["price"]),s[2]||(s[2]=a("div",{class:"text-xs text-blue-400 mt-1"},"View ‚Üí",-1))])])],8,te))),128))])):(t(),l("div",re," No active listings "))])])):(t(),l("div",ie,[s[4]||(s[4]=a("div",{class:"text-6xl mb-4"},"üòï",-1)),s[5]||(s[5]=a("h3",{class:"text-xl font-semibold mb-2"},"Gift not found",-1)),u(w,{to:"/",class:"text-blue-400 hover:text-blue-300"},{default:G(()=>[...s[3]||(s[3]=[z(" ‚Üê Back to all gifts ",-1)])]),_:1})]))])}}});export{ve as default};
