import{u as va,a as ua}from"./index-6vjp85YO.js";import{d as pa,e as ga}from"./client-pJ2CWAUX.js";import{d as ha,j as ma,y as ka,c as wa,b as a,t as o,I as l,a as v,G as S,g as fa,w as ba,k as r,r as t,l as T,e as ya,o as xa}from"./vue-Dr6T3rTv.js";const Ba={class:"earn-view"},Ca={class:"earn-header"},La={class:"earn-header__content"},Ma={class:"countdown"},Pa={class:"countdown__group"},Ra={class:"countdown__digit"},Ea={class:"countdown__digit"},Sa={class:"countdown__group"},Ta={class:"countdown__digit"},$a={class:"countdown__digit"},ja={class:"countdown__group"},Va={class:"countdown__digit"},Fa={class:"countdown__digit"},Ia={class:"countdown__group"},Da={class:"countdown__digit"},Ga={class:"countdown__digit"},Na={class:"farming-pool"},Aa={class:"farming-pool__amount"},Ha={class:"farming-pool__value"},Ua={class:"action-buttons"},za={class:"user-card"},Oa={class:"user-card__top"},Wa={class:"user-card__info"},Za={class:"user-card__avatar"},qa={class:"user-card__details"},Ja={class:"user-card__name"},Ka={class:"user-card__balance"},Qa={class:"user-card__rank"},Xa={class:"user-card__rank-total"},Ya={class:"modules"},as={class:"modules__list"},ss={class:"module-card__header"},ts={class:"module-card__bp"},os={class:"module-card__subtitle"},es={class:"module-card__progress"},ds={class:"progress-bar progress-bar--staking"},ls={class:"module-card__header"},ns={class:"module-card__badge"},is={class:"module-card__progress"},rs={class:"progress-bar"},cs={class:"module-card__subtitle"},_s={class:"module-card__header"},vs={class:"module-card__badge"},us={class:"module-card__rate"},ps={class:"module-card__progress"},gs={class:"progress-bar"},hs={class:"module-card__earned"},ms={class:"module-card__header"},ks={class:"module-card__badge"},ws={class:"module-card__rate"},fs={class:"module-card__progress"},bs={class:"progress-bar"},ys={class:"module-card__earned"},xs={class:"module-card__header"},Bs={class:"module-card__badge"},Cs={class:"module-card__rate"},Ls={class:"module-card__progress"},Ms={class:"progress-bar"},Ps={class:"module-card__earned"},Rs={class:"module-card__header"},Es={class:"module-card__badge"},Ss={class:"module-card__rate"},Ts={class:"module-card__progress"},$s={class:"progress-bar"},js={class:"module-card__earned"},Vs={class:"module-card__header"},Fs={class:"module-card__badge"},Is={class:"module-card__rate"},Ds={class:"module-card__progress"},Gs={class:"progress-bar"},Ns={class:"module-card__earned"},As=ha({__name:"EarnView",setup(Hs){const{user:i,initWebApp:$,hapticImpact:d}=va(),f=t(3441.017),j=t(Date.now()+3*24*60*60*1e3),b=t(Date.now());let p=null;const n=T(()=>{const c=Math.max(0,j.value-b.value),s=Math.floor(c/1e3),u=Math.floor(s/86400),e=Math.floor(s%86400/3600),h=Math.floor(s%3600/60),w=s%60,_=_a=>String(_a).padStart(2,"0"),M=_(u),P=_(e),R=_(h),E=_(w);return{d1:M[0],d2:M[1],h1:P[0],h2:P[1],m1:R[0],m2:R[1],s1:E[0],s2:E[1]}}),g=t("user"),V=T(()=>(g.value[0]||"U").toUpperCase()),y=t(0),F=t(0),I=t(0),m=t(0),x=t(0),B=t(0),k=t(0),C=t(10),D=t(0),G=t(0),L=t(0),N=t(0),A=t(0),H=t(50),U=t(.5),z=t(1),O=t(0),W=t(0),Z=t(0),q=t(0),J=t(0),K=t(0),Q=t(0),X=t(0),Y=t(0),aa=t(0),sa=t(0),ta=t(0),oa=t(0),ea=t(0),da=t(0),la=t(0),na=t(0),ia=t(0),ra=t(0),ca=t(0);return ma(async()=>{if($(),p=setInterval(()=>{b.value=Date.now()},1e3),i.value?.username?g.value=i.value.username:i.value?.first_name&&(g.value=i.value.first_name),!!i.value?.id)try{const[c,s]=await Promise.all([pa(i.value.id),ga(i.value.id,"active")]);if(m.value=parseFloat(c.total_rewards_earned_ton||"0"),f.value=parseFloat(c.total_staked_ton||"3441.017"),s.length>0){const u=s.reduce((e,h)=>{const w=parseFloat(h.estimated_reward_ton||"0"),_=h.period_days||30;return e+w/_},0);x.value=parseFloat(u.toFixed(4)),D.value=Math.min(Math.floor(s.length/2),10),G.value=Math.round(x.value*100),N.value=Math.round(m.value*100),L.value=Math.min(100,s.length/10*100)}y.value=Math.round(m.value*100),s.length>0&&(k.value=Math.min(s.length,C.value),B.value=k.value*10)}catch{}}),ka(()=>{p&&(clearInterval(p),p=null)}),(c,s)=>{const u=ya("router-link");return xa(),wa("div",Ba,[a("div",Ca,[a("div",La,[a("div",Ma,[a("div",Pa,[a("span",Ra,o(n.value.d1),1),a("span",Ea,o(n.value.d2),1)]),s[11]||(s[11]=a("span",{class:"countdown__sep"},":",-1)),a("div",Sa,[a("span",Ta,o(n.value.h1),1),a("span",$a,o(n.value.h2),1)]),s[12]||(s[12]=a("span",{class:"countdown__sep"},":",-1)),a("div",ja,[a("span",Va,o(n.value.m1),1),a("span",Fa,o(n.value.m2),1)]),s[13]||(s[13]=a("span",{class:"countdown__sep"},":",-1)),a("div",Ia,[a("span",Da,o(n.value.s1),1),a("span",Ga,o(n.value.s2),1)])]),a("div",Na,[s[15]||(s[15]=a("div",{class:"farming-pool__label"},"Farming Pool",-1)),a("div",Aa,[s[14]||(s[14]=a("svg",{class:"farming-pool__ton-icon",viewBox:"0 0 56 56",fill:"none"},[a("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),a("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),a("span",Ha,o(f.value.toFixed(3)),1)])]),a("div",Ua,[a("button",{class:"action-btn",onClick:s[0]||(s[0]=e=>l(d)("light"))},[...s[16]||(s[16]=[v('<div class="action-btn__icon" data-v-65aa8a3d><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" data-v-65aa8a3d></path><polyline points="14 2 14 8 20 8" data-v-65aa8a3d></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-65aa8a3d></line><line x1="16" y1="17" x2="8" y2="17" data-v-65aa8a3d></line><line x1="10" y1="9" x2="8" y2="9" data-v-65aa8a3d></line></svg></div><span class="action-btn__label" data-v-65aa8a3d>Onboarding</span>',2)])]),a("button",{class:"action-btn",onClick:s[1]||(s[1]=e=>l(d)("light"))},[...s[17]||(s[17]=[v('<div class="action-btn__icon" data-v-65aa8a3d><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><path d="M8 21h8" data-v-65aa8a3d></path><path d="M12 17v4" data-v-65aa8a3d></path><path d="M7 4h10" data-v-65aa8a3d></path><path d="M5 8h14" data-v-65aa8a3d></path><rect x="3" y="12" width="18" height="5" rx="1" data-v-65aa8a3d></rect></svg></div><span class="action-btn__label" data-v-65aa8a3d>Leaderboard</span>',2)])])])])]),a("div",za,[a("div",Oa,[a("div",Wa,[a("div",Za,[a("span",null,o(V.value),1)]),a("div",qa,[a("div",Ja,"@"+o(g.value),1),a("div",Ka,[s[18]||(s[18]=S("Balance: ",-1)),a("span",null,o(y.value)+" BP",1)])])]),a("div",Qa,[S(" Top "+o(F.value)+" ",1),a("span",Xa,"/"+o(I.value),1)])]),a("button",{class:"user-card__cta",onClick:s[2]||(s[2]=e=>l(d)("medium"))}," Farm more to win the prize ")]),a("div",Ya,[s[38]||(s[38]=a("h2",{class:"modules__title"},"Modules",-1)),a("div",as,[a("div",{class:"module-card module-card--tasks",onClick:s[3]||(s[3]=e=>l(d)("light"))},[a("div",ss,[s[19]||(s[19]=a("div",{class:"module-card__icon-wrap module-card__icon-wrap--tasks"},[a("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M9 11l3 3L22 4"}),a("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})])],-1)),a("div",ts,o(B.value)+" BP",1)]),s[20]||(s[20]=a("div",{class:"module-card__title"},"Tasks",-1)),a("div",os,o(k.value)+" / "+o(C.value)+" tasks completed",1),s[21]||(s[21]=a("div",{class:"module-card__link"},"Open Tasks",-1))]),fa(u,{to:"/staking",class:"module-card module-card--staking",onClick:s[4]||(s[4]=e=>l(d)("medium"))},{default:ba(()=>[s[22]||(s[22]=a("div",{class:"module-card__header"},[a("div",{class:"module-card__icon-wrap module-card__icon-wrap--staking"}," ðŸŽ "),a("div",{class:"module-card__apr"},"ðŸ”¥ 600% APR")],-1)),s[23]||(s[23]=a("div",{class:"module-card__title"},"Gift Staking",-1)),s[24]||(s[24]=a("div",{class:"module-card__subtitle--hot"},"Stake gifts, earn up to 3000% effective APR!",-1)),a("div",es,[a("div",ds,[a("div",{class:"progress-bar__fill progress-bar__fill--staking",style:r({width:L.value+"%"})},null,4)])]),s[25]||(s[25]=a("div",{class:"module-card__link"},"Open Staking â†’",-1))]),_:1}),a("div",{class:"module-card",onClick:s[5]||(s[5]=e=>l(d)("light"))},[a("div",ls,[s[26]||(s[26]=a("div",{class:"module-card__icon-wrap"},[a("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})])],-1)),a("div",ns,"LvL "+o(A.value),1)]),s[27]||(s[27]=a("div",{class:"module-card__title"},"Ice Arena",-1)),a("div",is,[a("div",rs,[a("div",{class:"progress-bar__fill",style:r({width:H.value+"%"})},null,4)])]),a("div",cs,o(U.value)+" / "+o(z.value)+" TON next LvL",1)]),a("div",{class:"module-card",onClick:s[6]||(s[6]=e=>l(d)("light"))},[a("div",_s,[s[28]||(s[28]=v('<div class="module-card__icon-wrap" data-v-65aa8a3d><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><circle cx="12" cy="12" r="10" data-v-65aa8a3d></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" data-v-65aa8a3d></path><path d="M2 12h20" data-v-65aa8a3d></path></svg></div>',1)),a("div",vs,"LvL "+o(O.value),1)]),s[29]||(s[29]=a("div",{class:"module-card__title"},"Ball Race",-1)),a("div",us,o(W.value)+" BP/h",1),a("div",ps,[a("div",gs,[a("div",{class:"progress-bar__fill",style:r({width:Z.value+"%"})},null,4)])]),a("div",hs,"+"+o(q.value)+" BP",1)]),a("div",{class:"module-card",onClick:s[7]||(s[7]=e=>l(d)("light"))},[a("div",ms,[s[30]||(s[30]=a("div",{class:"module-card__icon-wrap"},[a("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),a("polyline",{points:"16 7 22 7 22 13"})])],-1)),a("div",ks,"LvL "+o(J.value),1)]),s[31]||(s[31]=a("div",{class:"module-card__title"},"Trading PnL",-1)),a("div",ws,o(K.value)+" BP/h",1),a("div",fs,[a("div",bs,[a("div",{class:"progress-bar__fill",style:r({width:Q.value+"%"})},null,4)])]),a("div",ys,"+"+o(X.value)+" BP",1)]),a("div",{class:"module-card",onClick:s[8]||(s[8]=e=>l(d)("light"))},[a("div",xs,[s[32]||(s[32]=v('<div class="module-card__icon-wrap" data-v-65aa8a3d><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" data-v-65aa8a3d></path><polyline points="16 17 21 12 16 7" data-v-65aa8a3d></polyline><line x1="21" y1="12" x2="9" y2="12" data-v-65aa8a3d></line></svg></div>',1)),a("div",Bs,"LvL "+o(Y.value),1)]),s[33]||(s[33]=a("div",{class:"module-card__title"},"Ball Escape",-1)),a("div",Cs,o(aa.value)+" BP/h",1),a("div",Ls,[a("div",Ms,[a("div",{class:"progress-bar__fill",style:r({width:sa.value+"%"})},null,4)])]),a("div",Ps,"+"+o(ta.value)+" BP",1)]),a("div",{class:"module-card",onClick:s[9]||(s[9]=e=>l(d)("light"))},[a("div",Rs,[s[34]||(s[34]=v('<div class="module-card__icon-wrap" data-v-65aa8a3d><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><circle cx="12" cy="12" r="10" data-v-65aa8a3d></circle><line x1="12" y1="8" x2="12" y2="12" data-v-65aa8a3d></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-65aa8a3d></line></svg></div>',1)),a("div",Es,"LvL "+o(oa.value),1)]),s[35]||(s[35]=a("div",{class:"module-card__title"},"Gift Plinko",-1)),a("div",Ss,o(ea.value)+" BP/h",1),a("div",Ts,[a("div",$s,[a("div",{class:"progress-bar__fill",style:r({width:da.value+"%"})},null,4)])]),a("div",js,"+"+o(la.value)+" BP",1)]),a("div",{class:"module-card",onClick:s[10]||(s[10]=e=>l(d)("light"))},[a("div",Vs,[s[36]||(s[36]=v('<div class="module-card__icon-wrap" data-v-65aa8a3d><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-65aa8a3d><path d="M17 8h1a4 4 0 1 1 0 8h-1" data-v-65aa8a3d></path><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V8z" data-v-65aa8a3d></path><line x1="6" y1="2" x2="6" y2="4" data-v-65aa8a3d></line><line x1="10" y1="2" x2="10" y2="4" data-v-65aa8a3d></line><line x1="14" y1="2" x2="14" y2="4" data-v-65aa8a3d></line></svg></div>',1)),a("div",Fs,"LvL "+o(na.value),1)]),s[37]||(s[37]=a("div",{class:"module-card__title"},"Gonka",-1)),a("div",Is,o(ia.value)+" BP/h",1),a("div",Ds,[a("div",Gs,[a("div",{class:"progress-bar__fill",style:r({width:ra.value+"%"})},null,4)])]),a("div",Ns,"+"+o(ca.value)+" BP",1)])])]),s[39]||(s[39]=a("div",{class:"earn-view__spacer"},null,-1))])}}}),Ws=ua(As,[["__scopeId","data-v-65aa8a3d"]]);export{Ws as default};
