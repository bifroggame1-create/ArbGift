import{f as q,s as G,h as Q,a as n,b as t,F as C,k,t as i,u as g,p as w,v as U,x as W,j as u,r as c,c as L,g as J,o,n as B,y as m}from"./vue-DpDB_xhb.js";import{u as K}from"./useTonConnect-Dk5kDw1P.js";import{p as X}from"./client-Byqmzb3A.js";import{a as Y}from"./index-DCUERR7g.js";import"./index-D5GkNzM3.js";const ee={class:"inventory-view"},te={class:"stars-bg"},se={class:"inv-header"},le={class:"header-title"},ne={class:"items-count"},oe={class:"header-right"},ie={class:"wallet-address"},ae={class:"header-balance"},re={class:"balance-value"},ce={class:"inv-tabs"},de=["onClick"],ue={class:"tab-icon"},ve={class:"tab-label"},pe={class:"tab-count"},he={class:"filter-bar"},ge={class:"search-box"},me={key:0,class:"items-grid"},ye=["onClick"],fe={key:0,width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},be=["src","alt"],_e={class:"item-info"},Ce={class:"item-name"},ke={class:"item-price"},we={key:1,class:"empty-state"},xe={key:2,class:"empty-state"},Me={key:3,class:"empty-state"},$e={key:4,class:"empty-state"},Le={key:5,class:"action-bar"},Be={class:"action-info"},Fe={class:"selected-count"},Ie={class:"selected-value"},Se={width:"10",height:"10",viewBox:"0 0 56 56",fill:"none",style:{"vertical-align":"middle","margin-right":"2px"}},Te=q({__name:"InventoryView",setup(Ne){const F=J(),{init:I,connect:S,isConnected:d,address:x,shortAddress:T}=K(),y=c(0),v=c("all"),p=c(""),f=c(!1),a=c([]),b=c(!1),h=c(null),N=[{id:"all",label:"–í—Å–µ",icon:"üì¶"},{id:"gift",label:"–ì–∏—Ñ—Ç—ã",icon:"üéÅ"}],r=c([]),V=s=>s>=10?"legendary":s>=3?"epic":s>=.5?"rare":"common",_=async()=>{if(x.value){b.value=!0,h.value=null;try{const s=await X(x.value);r.value=s.map(e=>{const l=e.price_ton?parseFloat(e.price_ton):0;return{id:e.address,name:e.name,image:e.image_url||"/gifts/default.webp",price:l,rarity:V(l),bgColor:"#1a1a2e",type:"gift",collectionName:e.collection_name}}),y.value=r.value.reduce((e,l)=>e+l.price,0)}catch(s){h.value=s.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å",console.error("Inventory fetch error:",s)}finally{b.value=!1}}};G(d,s=>{s?_():(r.value=[],y.value=0)}),Q(async()=>{await I(),d.value&&_()});const A=s=>s==="all"?r.value.length:r.value.filter(e=>e.type===s).length,M=L(()=>{let s=r.value;if(v.value!=="all"&&(s=s.filter(e=>e.type===v.value)),p.value){const e=p.value.toLowerCase();s=s.filter(l=>l.name.toLowerCase().includes(e))}return s=[...s].sort((e,l)=>f.value?e.price-l.price:l.price-e.price),s}),P=L(()=>r.value.filter(s=>a.value.includes(s.id)).reduce((s,e)=>s+e.price,0)),D=s=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`}),E=()=>{f.value=!f.value},z=s=>{const e=a.value.indexOf(s);e===-1?a.value.push(s):a.value.splice(e,1)},H=()=>{alert("–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ —Ä–µ–ª–µ–µ—Ä –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ")},Z=()=>{alert("–§—É–Ω–∫—Ü–∏—è –ø–æ–¥–∞—Ä–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ")},j=()=>{const s=a.value.join(",");F.push(`/pvp?gifts=${s}`)},O=async()=>{try{await S()}catch(s){console.error("Failed to connect wallet:",s)}},$=()=>{_()};return(s,e)=>(o(),n("div",ee,[t("div",te,[(o(),n(C,null,k(20,l=>t("div",{key:l,class:"star",style:B(D())},null,4)),64))]),t("header",se,[t("div",le,[e[2]||(e[2]=t("h1",null,"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å",-1)),t("span",ne,i(g(d)?`${r.value.length} NFT`:"–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ"),1)]),t("div",oe,[g(d)?(o(),n("div",{key:0,class:"wallet-badge",onClick:$},[e[3]||(e[3]=t("span",{class:"wallet-icon"},"üëõ",-1)),t("span",ie,i(g(T)),1)])):w("",!0),t("div",ae,[e[4]||(e[4]=t("svg",{class:"balance-icon-svg",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),t("span",re,i(y.value.toFixed(2)),1)])])]),t("div",ce,[(o(),n(C,null,k(N,l=>t("button",{key:l.id,class:m(["tab-btn",{active:v.value===l.id}]),onClick:R=>v.value=l.id},[t("span",ue,i(l.icon),1),t("span",ve,i(l.label),1),t("span",pe,i(A(l.id)),1)],10,de)),64))]),t("div",he,[t("div",ge,[e[5]||(e[5]=t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"M21 21l-4.35-4.35"})],-1)),U(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."},null,512),[[W,p.value]])]),t("button",{class:"sort-btn",onClick:E},[...e[6]||(e[6]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l4 4 4-4M7 3v18"})],-1)])])]),M.value.length>0?(o(),n("div",me,[(o(!0),n(C,null,k(M.value,l=>(o(),n("div",{key:l.id,class:m(["item-card",{selected:a.value.includes(l.id)}]),onClick:R=>z(l.id)},[t("div",{class:m(["item-checkbox",{checked:a.value.includes(l.id)}])},[a.value.includes(l.id)?(o(),n("svg",fe,[...e[7]||(e[7]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):w("",!0)],2),t("div",{class:"item-image",style:B({background:l.bgColor})},[t("img",{src:l.image,alt:l.name},null,8,be)],4),t("div",_e,[t("span",Ce,i(l.name),1),t("span",ke,[e[8]||(e[8]=t("svg",{class:"price-icon-svg",width:"10",height:"10",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),u(" "+i(l.price),1)])]),t("div",{class:m(["item-rarity",l.rarity])},i(l.rarity),3)],10,ye))),128))])):b.value?(o(),n("div",we,[...e[9]||(e[9]=[t("div",{class:"loading-spinner"},null,-1),t("h3",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è...",-1),t("p",null,"–ü–æ–ª—É—á–∞–µ–º NFT –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞",-1)])])):g(d)?h.value?(o(),n("div",Me,[e[13]||(e[13]=t("div",{class:"empty-icon"},"‚ö†Ô∏è",-1)),e[14]||(e[14]=t("h3",null,"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",-1)),t("p",null,i(h.value),1),t("button",{class:"btn-shop",onClick:$}," –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ ")])):(o(),n("div",$e,[e[15]||(e[15]=t("div",{class:"empty-icon"},"üì¶",-1)),e[16]||(e[16]=t("h3",null,"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç",-1)),e[17]||(e[17]=t("p",null,"–ö—É–ø–∏—Ç–µ –≥–∏—Ñ—Ç—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ –∏–ª–∏ –≤—ã–∏–≥—Ä–∞–π—Ç–µ –≤ –∏–≥—Ä–∞—Ö",-1)),t("button",{class:"btn-shop",onClick:e[1]||(e[1]=l=>s.$router.push("/shop"))}," –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω ")])):(o(),n("div",xe,[e[10]||(e[10]=t("div",{class:"empty-icon"},"üîó",-1)),e[11]||(e[11]=t("h3",null,"–ö–æ—à–µ–ª—ë–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω",-1)),e[12]||(e[12]=t("p",null,"–ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON –∫–æ—à–µ–ª—ë–∫ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –≥–∏—Ñ—Ç—ã",-1)),t("button",{class:"btn-connect",onClick:O}," –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫ ")])),a.value.length>0?(o(),n("div",Le,[t("div",Be,[t("span",Fe,i(a.value.length)+" –≤—ã–±—Ä–∞–Ω–æ",1),t("span",Ie,[(o(),n("svg",Se,[...e[18]||(e[18]=[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"},null,-1),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"},null,-1)])])),u(" "+i(P.value.toFixed(2)),1)])]),t("div",{class:"action-buttons"},[t("button",{class:"btn-sell",onClick:H},[...e[19]||(e[19]=[t("span",null,"üí∞",-1),u(" –ü—Ä–æ–¥–∞—Ç—å ",-1)])]),t("button",{class:"btn-gift",onClick:Z},[...e[20]||(e[20]=[t("span",null,"üéÅ",-1),u(" –ü–æ–¥–∞—Ä–∏—Ç—å ",-1)])]),t("button",{class:"btn-pvp",onClick:j},[...e[21]||(e[21]=[t("span",null,"‚öîÔ∏è",-1),u(" –í PvP ",-1)])])])])):w("",!0)]))}}),ze=Y(Te,[["__scopeId","data-v-5e8c7a3e"]]);export{ze as default};
