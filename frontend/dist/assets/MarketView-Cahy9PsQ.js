const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lottie-DzwejvuX.js","assets/_commonjsHelpers-BosuxZz1.js"])))=>i.map(i=>d[i]);
import{d as j,x as Se,j as q,y as Ge,o as g,c as v,k as ne,z as P,r as k,b as e,h as H,n as O,t as C,A as N,l as x,a as $e,F as A,f as D,B as Le,C as Ae,D as De,g as z,w as I,T as Z,E as ee,G as Fe,H as Ee}from"./vue-DZ84P2GM.js";import{_ as Oe,a as R,u as ae}from"./index-EIDb-e0t.js";import{s as Te,g as te,a as ze}from"./client-pJ2CWAUX.js";const Ve={Gunmetal:{center:5004643,edge:3095362},"Electric Indigo":{center:11108595,edge:5989080},"Ranger Green":{center:6256713,edge:3952443},Lemongrass:{center:11450458,edge:5608261},Lavender:{center:12028388,edge:9067196},"Hunter Green":{center:9416312,edge:4948571},"Khaki Green":{center:11382896,edge:7044436},Raspberry:{center:14711685,edge:11950464},Cyberpunk:{center:8753139,edge:8806355},"Pacific Green":{center:7325587,edge:3906692},"Sky Blue":{center:5813448,edge:5475266},"Roman Silver":{center:10725557,edge:8159370},"Pine Green":{center:7055740,edge:4094320},"Coral Red":{center:14322027,edge:12870991},"French Violet":{center:12738790,edge:9522905},"Electric Purple":{center:13267142,edge:9855700},"Pacific Cyan":{center:5947046,edge:4036026},"Pure Gold":{center:13413185,edge:9993010},Copper:{center:13665878,edge:10315057},Mustard:{center:13932557,edge:12875538},"Onyx Black":{center:5067348,edge:3225144},"English Violet":{center:11634363,edge:8870545},"Battleship Grey":{center:9211013,edge:7105638},"Light Olive":{center:12758884,edge:8945221},Cappuccino:{center:11636862,edge:8151894},Platinum:{center:11710119,edge:8946814},Rosewood:{center:12024439,edge:8473682},"Navy Blue":{center:7118557,edge:6057673},Tomato:{center:15104318,edge:13913663},"Steel Grey":{center:9937580,edge:6517372},"Midnight Blue":{center:6056325,edge:3489879},"Mint Green":{center:8309634,edge:4562522},Chocolate:{center:10776152,edge:7619643},Emerald:{center:7914885,edge:4366705},"Cobalt Blue":{center:6326479,edge:5333688},"Desert Sand":{center:11771778,edge:8287067},Persimmon:{center:15181658,edge:12937055},"Mexican Pink":{center:14902930,edge:13191548},Strawberry:{center:14519919,edge:12016224},Sapphire:{center:5809096,edge:5470658},Turquoise:{center:6209720,edge:4035214},"Carrot Juice":{center:14391399,edge:13070159},"French Blue":{center:6069188,edge:3634074},Fandango:{center:14846646,edge:10770571},Carmine:{center:14702410,edge:11024443},"Burnt Sienna":{center:14053180,edge:11881261},Feldgrau:{center:9015944,edge:6187875},"Jade Green":{center:5620892,edge:3905911},Moonstone:{center:8303028,edge:5800848},Pistachio:{center:9941116,edge:6062412},"Rifle Green":{center:6580572,edge:4936257},Amber:{center:14332741,edge:11632682},"Satin Gold":{center:12557127,edge:9271097},"Azure Blue":{center:6140363,edge:4492203},"Tactical Pine":{center:4489835,edge:3105641},"Fire Engine":{center:15753039,edge:12859721},"Indigo Dye":{center:5470609,edge:4285561},Grape:{center:10319041,edge:7949728},Black:{center:3553080,edge:921359},Burgundy:{center:10706534,edge:7160138},"Shamrock Green":{center:9089379,edge:5608261},"Mystic Pearl":{center:13667181,edge:11556720},"Dark Lilac":{center:11632037,edge:9197434},Chestnut:{center:12480340,edge:10045496},Malachite:{center:9811031,edge:4036437},Aquamarine:{center:6336917,edge:4631476},"Ivory White":{center:12236465,edge:10591639},"Old Gold":{center:11898168,edge:9726245},"Gunship Green":{center:5605989,edge:4023895},"Deep Cyan":{center:3257770,edge:1611161},"Seal Brown":{center:6704453,edge:4666926},"Camo Green":{center:7705677,edge:5534529},Orange:{center:13736506,edge:12611399},"Celtic Blue":{center:4569325,edge:3704537},Purple:{center:11431086,edge:8669060},"Neon Blue":{center:7706361,edge:6841060},"Dark Green":{center:5333825,edge:2835759},"Marine Blue":{center:5138588,edge:3885946},Caramel:{center:13670706,edge:12022833},"Silver Blue":{center:8430776,edge:6323345}};function re(s){return"#"+(s&16777215).toString(16).padStart(6,"0")}function He(s){if(!s)return"linear-gradient(180deg, #3A3A3A 0%, #282727 100%)";const a=Ve[s];if(a)return`linear-gradient(180deg, ${re(a.center)} 0%, ${re(a.edge)} 100%)`;let r=0;for(let h=0;h<s.length;h++)r=(r<<5)-r+s.charCodeAt(h)|0;const d=Math.abs(r)%360;return`linear-gradient(180deg, hsl(${d}, 25%, 28%) 0%, hsl(${d}, 30%, 18%) 100%)`}const Ne=["src","alt"],je=j({__name:"LottieGift",props:{src:{},fallbackSrc:{},alt:{default:"Gift"},size:{default:100},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!0}},setup(s){let a=null;const r=async()=>(a||(a=await Oe(()=>import("./lottie-DzwejvuX.js").then(w=>w.l),__vite__mapDeps([0,1]))),a.default),d=s,h=k(null),m=k(!1);let p=null;async function y(){if(!h.value||!d.src){m.value=!0;return}p&&(p.destroy(),p=null),m.value=!1;try{const w=await r();if(!h.value)return;p=w.loadAnimation({container:h.value,renderer:"svg",loop:d.loop,autoplay:d.autoplay,path:d.src}),p.addEventListener("data_failed",()=>{m.value=!0,p?.destroy(),p=null}),p.addEventListener("error",()=>{m.value=!0,p?.destroy(),p=null})}catch{m.value=!0}}return Se(()=>d.src,()=>{y()}),q(()=>{y()}),Ge(()=>{p&&(p.destroy(),p=null)}),(w,S)=>(g(),v("div",{ref_key:"container",ref:h,class:"lottie-gift",style:ne({width:s.size+"px",height:s.size+"px"})},[m.value&&s.fallbackSrc?(g(),v("img",{key:0,src:s.fallbackSrc,alt:s.alt,class:"lottie-gift__fallback",loading:"lazy",draggable:"false"},null,8,Ne)):P("",!0)],4))}}),Re=R(je,[["__scopeId","data-v-66204c08"]]),Ke={class:"gift-card__image"},Ie=["src","alt"],Ze={key:2,class:"gift-card__placeholder"},We={key:3,class:"gift-card__source"},Je={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},Ue={class:"gift-card__meta"},qe={class:"gift-card__name"},Qe={class:"gift-card__serial"},Ye={class:"gift-card__actions"},Xe=j({__name:"GiftCard",props:{gift:{},selectable:{type:Boolean},isSelected:{type:Boolean}},emits:["click","buy","select"],setup(s,{emit:a}){const r=s,d=a,{hapticImpact:h}=ae(),m=k(!1),p=x(()=>{if(r.gift.animation_url)return r.gift.animation_url;if(r.gift.lottie_url)return r.gift.lottie_url;const i=r.gift.image_url;return i&&i.includes("nft.fragment.com/gift/")?i.replace(/\.(webp|jpg|png|medium\.jpg|large\.jpg|small\.jpg)$/i,".lottie.json"):null}),y=x(()=>Math.round(Math.min(window.innerWidth/2-20,180))),w=x(()=>r.gift.tg_id?r.gift.tg_id:r.gift.index?r.gift.index:r.gift.id),S=x(()=>{const i=r.gift.lowest_price_ton||r.gift.min_price_ton||r.gift.price||0,c=Number(i);return c<=0?null:c.toFixed(2).replace(/\.?0+$/,"")}),$=x(()=>({"--card-bg":He(r.gift.backdrop)})),G=()=>{h("light"),r.selectable?d("select",r.gift):d("click",r.gift)},u=()=>{h("medium"),d("buy",r.gift)};return(i,c)=>(g(),v("div",{class:"gift-card",style:ne($.value),onClick:G},[e("div",Ke,[p.value?(g(),H(Re,{key:0,src:p.value,"fallback-src":s.gift.image_url,alt:s.gift.name,size:y.value,class:"gift-card__lottie"},null,8,["src","fallback-src","alt","size"])):s.gift.image_url&&!m.value?(g(),v("img",{key:1,src:s.gift.image_url,alt:s.gift.name,loading:"lazy",draggable:"false",onError:c[0]||(c[0]=b=>m.value=!0)},null,40,Ie)):(g(),v("div",Ze,[...c[1]||(c[1]=[e("span",{class:"gift-card__placeholder-emoji"},"ðŸŽ",-1)])])),s.gift.lowest_price_market?(g(),v("div",We,[...c[2]||(c[2]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M2 12h20"}),e("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1)])])):P("",!0),s.selectable?(g(),v("div",{key:4,class:O(["gift-card__checkbox",{"gift-card__checkbox--selected":s.isSelected}])},[s.isSelected?(g(),v("svg",Je,[...c[3]||(c[3]=[e("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):P("",!0)],2)):P("",!0)]),e("div",Ue,[e("span",qe,C(s.gift.name),1),e("span",Qe,"#"+C(w.value),1)]),e("div",Ye,[S.value?(g(),v("button",{key:0,class:"gift-card__price",onClick:N(u,["stop"])},[c[4]||(c[4]=e("svg",{class:"gift-card__ton",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),e("span",null,C(S.value),1)])):P("",!0),e("button",{class:"gift-card__cart",onClick:N(u,["stop"])},[...c[5]||(c[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),e("path",{d:"M3 6h18"}),e("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)])])])],4))}}),et=R(Xe,[["__scopeId","data-v-e165cffb"]]),tt={class:"skeleton-card"},rt=j({__name:"SkeletonCard",setup(s){return(a,r)=>(g(),v("div",tt,[...r[0]||(r[0]=[$e('<div class="skeleton-card__image skeleton" data-v-ef5d93a6></div><div class="skeleton-card__body" data-v-ef5d93a6><div class="skeleton-card__title skeleton" data-v-ef5d93a6></div><div class="skeleton-card__serial skeleton" data-v-ef5d93a6></div><div class="skeleton-card__price skeleton" data-v-ef5d93a6></div></div>',2)])]))}}),nt=R(rt,[["__scopeId","data-v-ef5d93a6"]]),W="market_prices_cache",J=5*60*1e3;function U(s){return s.length===0?0:Math.min(...s.map(a=>a.price))}function le(s){if(s.length===0)return 0;const a=[...s].sort((d,h)=>d.price-h.price),r=Math.floor(a.length/2);return a.length%2!==0?a[r].price:(a[r-1].price+a[r].price)/2}function se(s){return s.length===0?null:s.reduce((a,r)=>r.price<a.price?r:a)}class at{cache={};constructor(){this.loadCache()}loadCache(){try{const a=localStorage.getItem(W);a&&(this.cache=JSON.parse(a),this.cleanExpiredCache())}catch(a){console.warn("Failed to load price cache:",a),this.cache={}}}persistCache(){try{localStorage.setItem(W,JSON.stringify(this.cache))}catch(a){console.warn("Failed to persist price cache:",a)}}cleanExpiredCache(){const a=Date.now();for(const[r,d]of Object.entries(this.cache))a-d.timestamp>J&&delete this.cache[r]}clearCache(){this.cache={},localStorage.removeItem(W)}getCachedPrice(a){const r=this.cache[a];return r?Date.now()-r.timestamp>J?(delete this.cache[a],0):U(r.prices):0}setCachedPrice(a,r){this.cache[a]={prices:r,timestamp:Date.now()}}async fetchFromApi(a){try{const r=await fetch(`/api/v1/gifts/${a}`);if(!r.ok)return null;const d=await r.json();return d.min_price_ton&&parseFloat(d.min_price_ton)>0?{source:"api",price:parseFloat(d.min_price_ton),currency:"TON",updatedAt:new Date}:null}catch{return null}}async getAggregatedPrice(a){const r=this.cache[a];if(r&&Date.now()-r.timestamp<J)return r.prices;const h=(await Promise.allSettled([this.fetchFromApi(a)])).filter(m=>m.status==="fulfilled").map(m=>m.value).filter(m=>m!==null&&m.price>0);return h.length>0&&this.setCachedPrice(a,h),h}async getAggregatedGifts(a){const r=new Map,d=10;for(let h=0;h<a.length;h+=d){const m=a.slice(h,h+d);await Promise.all(m.map(async p=>{const y=await this.getAggregatedPrice(p);y.length>0&&r.set(p,{giftId:p,name:"",model:"",prices:y,minPrice:U(y),medianPrice:le(y),bestDeal:se(y)})}))}return r}}const F=new at;function lt(){const s=k(!1),a=k(null),r=k([]),d=k(new Map);q(()=>{F.loadCache()});const h=u=>F.getCachedPrice(u),m=async u=>{s.value=!0,a.value=null;try{d.value=await F.getAggregatedGifts(u),F.persistCache()}catch(i){a.value="Failed to load prices",console.error("Preload prices error:",i)}finally{s.value=!1}};return{isLoading:s,error:a,gifts:r,aggregatedData:d,getCachedPrice:h,preloadPrices:m,getGiftPrices:async u=>{try{return await F.getAggregatedPrice(u)}catch(i){return console.error("Get gift prices error:",i),[]}},getBestPrice:u=>{const i=h(u);if(i>0)return i;const c=d.value.get(u);return c?c.minPrice:0},getPriceDisplay:u=>{const i=d.value.get(u);if(i&&i.bestDeal)return{price:i.minPrice.toFixed(2),source:i.bestDeal.source};const c=h(u);return c>0?{price:c.toFixed(2),source:"cached"}:{price:"â€”",source:"unavailable"}},enrichGiftsWithPrices:u=>u.map(i=>{const c=i.id||i.gift_id||"",b=d.value.get(c);let B=0,T=[],E=null,o="api";if(b)B=b.minPrice,T=b.prices,E=b.bestDeal,o=E?.source||"aggregated";else if(i.floor_price)B=typeof i.floor_price=="string"?parseFloat(i.floor_price):i.floor_price,o="api";else{const M=h(c);M>0&&(B=M,o="cached")}return{id:c,name:i.name||"",model:i.model||"",image:i.image,floorPrice:B,prices:T,bestDeal:E,priceSource:o}}),refreshPrices:async u=>{F.clearCache(),await m(u)},getPriceComparison:u=>{const i=d.value.get(u);return!i||i.prices.length===0?null:{min:i.minPrice,median:i.medianPrice,sources:i.prices.map(c=>c.source)}},calculateMinPrice:U,calculateMedianPrice:le,getBestDeal:se}}const st={class:"market-view"},it={class:"tabs"},ot=["onClick"],ct={class:"search-row"},dt={class:"search-box"},ut={class:"filters"},gt=["onClick"],ht={class:"grid-wrap"},ft={key:0,class:"grid"},vt={key:1,class:"grid"},pt={key:2,class:"pagination"},mt=["disabled"],_t={class:"pagination__info"},kt=["disabled"],yt={key:3,class:"empty"},bt={class:"cart-bar"},wt={class:"cart-bar__counter"},Ct=["disabled"],Pt={class:"cart-bar__count"},Bt=["disabled"],xt={class:"sort-menu"},Mt=["onClick"],St={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Gt={key:0,class:"filter-sheet"},$t={class:"filter-sheet__header"},Lt={class:"filter-sheet__title"},At={class:"filter-sheet__body"},Dt={class:"filter-chips"},Ft=["onClick"],Et={class:"filter-sheet__footer"},V=50,Ot=j({__name:"MarketView",setup(s){const a=Ee(),{hapticImpact:r}=ae(),{preloadPrices:d,enrichGiftsWithPrices:h}=lt(),m=[{id:"all",label:"Gifts"},{id:"upgrades",label:"Upgrades"}],p=k("all"),y=k(!0),w=k([]),S=k(""),$=k("listed_at desc"),G=k(!1),u=k(null),i=k(!1),c=k([]),b=k(1),B=k(50),T=k("1.33"),E=k("247.5K"),o=Fe({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),M=k([]),ie=x(()=>[...new Set(M.value.map(l=>l.name).filter(Boolean))].sort()),oe=x(()=>[...new Set(M.value.map(l=>l.model).filter(Boolean))].sort()),ce=x(()=>[...new Set(M.value.map(l=>l.backdrop).filter(Boolean))].sort()),Q=[{key:"type",label:"Collections",filterGroup:"names"},{key:"model",label:"Model",filterGroup:"models"},{key:"backdrop",label:"Background",filterGroup:"backdrops"}],de=l=>{const t=Q.find(f=>f.key===l);if(!t)return!1;const n=o[t.filterGroup];return Array.isArray(n)&&n.length>0},ue=l=>{const t=o[l.filterGroup];return Array.isArray(t)&&t.length>0?t[0]+(t.length>1?` +${t.length-1}`:""):l.label},ge=x(()=>{switch(u.value){case"type":return"Type";case"model":return"Skin";case"backdrop":return"Backdrop";default:return""}}),he=x(()=>{switch(u.value){case"type":return ie.value;case"model":return oe.value;case"backdrop":return ce.value;default:return[]}}),fe=l=>{switch(u.value){case"type":return o.names.includes(l);case"model":return o.models.includes(l);case"backdrop":return o.backdrops.includes(l);default:return!1}},ve=l=>{switch(u.value){case"type":K("names",l);break;case"model":K("models",l);break;case"backdrop":K("backdrops",l);break}},K=(l,t)=>{const n=o[l],f=n.indexOf(t);f>-1?n.splice(f,1):n.push(t)},Y=()=>{b.value=1,L()},pe=[{value:"listed_at desc",label:"Newest first"},{value:"listed_at asc",label:"Oldest first"},{value:"price asc",label:"Price: Low to High"},{value:"price desc",label:"Price: High to Low"}],me=l=>{r("light"),p.value=l,l==="upgrades"&&a.push("/upgrade")},_e=l=>{r("light"),$.value=l,G.value=!1,L()},ke=()=>{b.value>1&&(b.value--,L())},ye=()=>{b.value<B.value&&(b.value++,L())},L=async()=>{y.value=!0;try{const l=(b.value-1)*V,t=S.value?.trim();let n;if(t)n=await Te(t,{limit:V,collection_id:void 0});else{const _={is_on_sale:!0,sort:$.value,limit:V,offset:l};o.rarities.length===1&&(_.rarity=o.rarities[0]),o.models.length===1&&(_.model=o.models[0]),o.backdrops.length===1&&(_.backdrop=o.backdrops[0]),o.patterns.length===1&&(_.pattern=o.patterns[0]),o.symbols.length===1&&(_.symbol=o.symbols[0]),o.minPrice!==null&&(_.min_price=o.minPrice),o.maxPrice!==null&&(_.max_price=o.maxPrice),n=await te(_)}let f=n.items||n||[];o.names.length>0&&(f=f.filter(_=>o.names.includes(_.name))),o.rarities.length>1&&(f=f.filter(_=>o.rarities.includes(_.rarity))),o.models.length>1&&(f=f.filter(_=>o.models.includes(_.model))),o.backdrops.length>1&&(f=f.filter(_=>o.backdrops.includes(_.backdrop))),o.patterns.length>1&&(f=f.filter(_=>o.patterns.includes(_.pattern))),o.symbols.length>1&&(f=f.filter(_=>o.symbols.includes(_.symbol))),M.value.length===0&&f.length>0&&(M.value=f),n.total&&(B.value=Math.ceil(n.total/V));const X=f.map(_=>_.id||_.gift_id).filter(Boolean);X.length>0?(w.value=f,d(X).then(()=>{w.value=h(f)})):w.value=f}catch(l){console.error("Fetch gifts error:",l),w.value=[]}finally{y.value=!1}},be=async()=>{try{const l=await te({is_on_sale:!0,limit:500}),t=l.items||l||[];t.length>0&&(M.value=t)}catch{}},we=async()=>{try{const l=await ze();l.volume_24h&&(E.value=Ce(l.volume_24h)),l.ton_price&&(T.value=l.ton_price.toFixed(2))}catch{}},Ce=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),Pe=l=>{r("light"),a.push(`/gift/${l.id}`)},Be=l=>{r("medium")},xe=l=>{r("light");const t=c.value.indexOf(l.id);t>-1?c.value.splice(t,1):c.value.push(l.id)},Me=()=>{r("heavy")};return q(()=>{L(),we(),be()}),(l,t)=>(g(),v("div",st,[e("nav",it,[(g(),v(A,null,D(m,n=>e("button",{key:n.id,class:O(["tabs__item",{active:p.value===n.id}]),onClick:f=>me(n.id)},C(n.label),11,ot)),64))]),e("div",ct,[e("div",dt,[t[10]||(t[10]=e("svg",{class:"search-box__icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),Le(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>S.value=n),type:"text",placeholder:"Enter a keyword to search",class:"search-box__input",onKeyup:t[1]||(t[1]=De(n=>Y(),["enter"]))},null,544),[[Ae,S.value]])]),e("button",{class:"icon-btn",onClick:t[2]||(t[2]=n=>G.value=!G.value)},[...t[11]||(t[11]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18"}),e("path",{d:"M7 12h10"}),e("path",{d:"M10 18h4"})],-1)])]),e("button",{class:"icon-btn",onClick:t[3]||(t[3]=n=>L())},[...t[12]||(t[12]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"})],-1)])])]),e("div",ut,[(g(),v(A,null,D(Q,n=>e("button",{key:n.key,class:O(["filter-btn",{active:de(n.key)}]),onClick:f=>u.value=u.value===n.key?null:n.key},[e("span",null,C(ue(n)),1),t[13]||(t[13]=e("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[e("path",{d:"m6 9 6 6 6-6"})],-1))],10,gt)),64))]),e("div",ht,[y.value?(g(),v("div",ft,[(g(),v(A,null,D(8,n=>z(nt,{key:"sk-"+n})),64))])):(g(),v("div",vt,[(g(!0),v(A,null,D(w.value,n=>(g(),H(et,{key:n.id,gift:n,selectable:i.value,"is-selected":c.value.includes(n.id),onClick:Pe,onBuy:Be,onSelect:xe},null,8,["gift","selectable","is-selected"]))),128))])),!y.value&&B.value>1?(g(),v("div",pt,[e("button",{class:"pagination__btn",disabled:b.value<=1,onClick:ke},[...t[14]||(t[14]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m15 18-6-6 6-6"})],-1)])],8,mt),e("span",_t,C(b.value)+" / "+C(B.value),1),e("button",{class:"pagination__btn",disabled:b.value>=B.value,onClick:ye},[...t[15]||(t[15]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m9 18 6-6-6-6"})],-1)])],8,kt)])):P("",!0),!y.value&&w.value.length===0?(g(),v("div",yt,[...t[16]||(t[16]=[e("p",{class:"empty__title"},"No gifts found",-1),e("p",{class:"empty__hint"},"Try adjusting your filters",-1)])])):P("",!0)]),e("div",bt,[e("div",wt,[e("button",{class:"cart-bar__btn",disabled:c.value.length===0,onClick:t[4]||(t[4]=n=>c.value.pop())},[...t[17]||(t[17]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M5 12h14"})],-1)])],8,Ct),e("span",Pt,C(c.value.length),1),e("button",{class:"cart-bar__btn",onClick:t[5]||(t[5]=n=>i.value=!i.value)},[...t[18]||(t[18]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M12 5v14"}),e("path",{d:"M5 12h14"})],-1)])])]),e("button",{class:"cart-bar__checkout",disabled:c.value.length===0,onClick:Me},[...t[19]||(t[19]=[e("span",null,"Cart",-1),e("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1),e("span",null,"0.00",-1)])],8,Bt)]),(g(),H(ee,{to:"body"},[z(Z,{name:"sort-fade"},{default:I(()=>[G.value?(g(),v("div",{key:0,class:"sort-overlay",onClick:t[6]||(t[6]=N(n=>G.value=!1,["self"]))},[e("div",xt,[t[21]||(t[21]=e("div",{class:"sort-menu__header"},"Sort by",-1)),(g(),v(A,null,D(pe,n=>e("button",{key:n.value,class:O(["sort-menu__option",{active:$.value===n.value}]),onClick:f=>_e(n.value)},[e("span",null,C(n.label),1),$.value===n.value?(g(),v("svg",St,[...t[20]||(t[20]=[e("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):P("",!0)],10,Mt)),64))])])):P("",!0)]),_:1})])),(g(),H(ee,{to:"body"},[z(Z,{name:"filter-overlay"},{default:I(()=>[u.value?(g(),v("div",{key:0,class:"filter-sheet-overlay",onClick:t[9]||(t[9]=N(n=>u.value=null,["self"]))},[z(Z,{name:"sheet-slide"},{default:I(()=>[u.value?(g(),v("div",Gt,[t[23]||(t[23]=e("div",{class:"filter-sheet__handle"},null,-1)),e("div",$t,[e("h3",Lt,C(ge.value),1),e("button",{class:"filter-sheet__close",onClick:t[7]||(t[7]=n=>u.value=null)},[...t[22]||(t[22]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6 6 18"}),e("path",{d:"m6 6 12 12"})],-1)])])]),e("div",At,[e("div",Dt,[(g(!0),v(A,null,D(he.value,n=>(g(),v("button",{key:n,class:O(["filter-chip",{active:fe(n)}]),onClick:f=>ve(n)},C(n),11,Ft))),128))])]),e("div",Et,[e("button",{class:"filter-sheet__done",onClick:t[8]||(t[8]=n=>{u.value=null,Y()})},"Done")])])):P("",!0)]),_:1})])):P("",!0)]),_:1})]))]))}}),Ht=R(Ot,[["__scopeId","data-v-a8758dc2"]]);export{Ht as default};
