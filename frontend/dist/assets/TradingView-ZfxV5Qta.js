import{d as at,o as nt,G as ot,b as u,e as t,t as o,z as R,F,v as z,E as x,k as w,n as k,r as i,c as y,a as v}from"./vue-CF-r4DcL.js";import{_ as it}from"./index-BisWLE6L.js";const rt={class:"trading-view"},ut={class:"banner-timer"},vt={class:"top-bar"},dt={class:"top-left"},ct={class:"balance-value"},pt={class:"chart-container"},ht={class:"ping-indicator"},gt={class:"ping-value"},ft={class:"candles-container"},mt={class:"price-label"},bt={key:1,class:"status-overlay"},wt={class:"countdown-text"},yt={key:2,class:"status-overlay crashed"},Ct={key:3,class:"connection-status"},xt={class:"traders-panel"},kt={class:"traders-header"},Mt={class:"traders-count"},_t={key:0,class:"traders-list"},It={class:"trader-left"},Bt={class:"trader-level"},$t=["src"],Lt={class:"trader-name"},St={key:0,class:"trader-badge exited"},Tt={class:"trader-right"},Ft={class:"traders-footer"},zt={class:"game-number"},Dt={class:"hash-btn"},Ht={class:"bet-pills"},At=["onClick"],Et={class:"action-buttons"},Nt=["disabled"],Vt={class:"buy-text"},Pt={class:"buy-amount"},Rt=["disabled"],Yt={class:"sell-text"},Y=.75,Zt=1.75,Gt=.02,Ot=-5e-4,jt=15,Kt=at({__name:"TradingView",setup(Ut){const Z=i(null),G=i(!0),D=i(76),r=i("waiting"),n=i(1),M=i(5),H=i(36619),A=i("6ab3...0790"),L=i("10:13:41:30"),O=i(!1),C=i(.66),h=i(.5),c=i(null),j=[.5,1,5,10],_=i([]),d=i(null);let I=0;const p=i([]),S=y(()=>{const l=[..._.value];return d.value&&l.push(d.value),l.slice(-20)}),K=y(()=>r.value==="crashed"?"0.000x":n.value.toFixed(3)+"x"),U=y(()=>r.value==="crashed"?"crashed":n.value<1?"negative":n.value>=1.5?"positive":""),B=y(()=>(n.value-1)*100),E=y(()=>(r.value==="waiting"||r.value==="countdown"||r.value==="active")&&!c.value&&C.value>=h.value),N=y(()=>r.value==="active"&&c.value!==null),f=l=>{const e=Zt-Y;return(1-(l-Y)/e)*100},W=l=>{const e=S.value.length,s=S.value.indexOf(l),a=100/Math.max(e,10);return{left:`${s*a}%`,width:`${a*.7}%`}},X=l=>{const e=f(l.high),s=f(l.low);return{top:`${e}%`,height:`${s-e}%`,background:l.close>=l.open?"#09D76D":"#FB2C36"}},q=l=>{const e=f(l.open),s=f(l.close),a=Math.min(e,s),g=Math.abs(s-e);return{top:`${a}%`,height:`${Math.max(g,.5)}%`,background:l.close>=l.open?"#09D76D":"#FB2C36"}},V=l=>{h.value=l},J=()=>{E.value&&(c.value=h.value,C.value-=h.value,p.value.push({id:Date.now(),name:"you",bet:h.value,level:1,exited:!1,profit:0}))},Q=()=>{if(!N.value||!c.value)return;const l=c.value*n.value,e=l-c.value;C.value+=l;const s=p.value.find(a=>a.name==="you");s&&(s.exited=!0,s.profit=e),c.value=null};let m=null,b=null,$=0;const P=()=>{r.value="active",n.value=1,$=0,I=0,_.value=[],d.value={time:I,open:1,high:1,low:1,close:1},setTimeout(()=>{if(r.value==="active"){const l=["whale_99","lucky_star","Kweer_gg","ntybe"];p.value.push({id:Date.now(),name:l[Math.floor(Math.random()*l.length)],bet:.5+Math.random()*2,level:Math.floor(Math.random()*50)+1,exited:!1,profit:0})}},500),m=window.setInterval(()=>{if(r.value!=="active")return;$++;const l=Math.random()>.52?1:-1,e=Math.random()*Gt;if(n.value=Math.max(0,n.value+l*e+Ot),d.value&&(d.value.close=n.value,d.value.high=Math.max(d.value.high,n.value),d.value.low=Math.min(d.value.low,n.value)),$>=jt&&(d.value&&_.value.push({...d.value}),I++,d.value={time:I,open:n.value,high:n.value,low:n.value,close:n.value},$=0),Math.random()<.01){const s=p.value.filter(a=>!a.exited&&a.name!=="you");if(s.length>0){const a=s[Math.floor(Math.random()*s.length)];a.exited=!0,a.profit=a.bet*n.value-a.bet}}n.value<=.001&&tt()},80)},tt=()=>{if(m&&(clearInterval(m),m=null),r.value="crashed",n.value=0,c.value){const l=p.value.find(e=>e.name==="you");l&&(l.exited=!0,l.profit=-l.bet),c.value=null}setTimeout(et,3e3)},et=()=>{r.value="countdown",M.value=5,H.value++,A.value=Math.random().toString(36).substring(2,6)+"..."+Math.random().toString(36).substring(2,6),p.value=[],_.value=[],b=window.setInterval(()=>{M.value-=.05,M.value<=0&&(b&&(clearInterval(b),b=null),P())},50)};let T=null;const st=()=>{const l=L.value.split(":").map(Number);let[e,s,a,g]=l;g--,g<0&&(g=59,a--),a<0&&(a=59,s--),s<0&&(s=23,e--),e<0&&(e=0),L.value=[e,s,a,g].map(lt=>lt.toString().padStart(2,"0")).join(":")};return nt(()=>{setTimeout(P,1e3),T=window.setInterval(st,1e3),setInterval(()=>{D.value=Math.floor(50+Math.random()*80)},3e3)}),ot(()=>{m&&clearInterval(m),b&&clearInterval(b),T&&clearInterval(T)}),(l,e)=>(v(),u("div",rt,[t("button",{class:"tournament-banner",onClick:e[0]||(e[0]=s=>l.$router.push("/tournament"))},[e[7]||(e[7]=t("span",{class:"banner-emoji"},"üèÜ",-1)),e[8]||(e[8]=t("span",{class:"banner-text"},"–¢—Ä–µ–π–¥–∏–Ω–≥ –ú–µ–≥–∞ –¢—É—Ä–Ω–∏—Ä",-1)),t("span",ut,o(L.value),1)]),t("div",vt,[t("div",dt,[t("button",{class:"icon-btn",onClick:e[1]||(e[1]=s=>l.$router.push("/history?sorting=solo_trading"))},[...e[9]||(e[9]=[R('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-42e34862><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-42e34862></rect><line x1="16" y1="2" x2="16" y2="6" data-v-42e34862></line><line x1="8" y1="2" x2="8" y2="6" data-v-42e34862></line><line x1="3" y1="10" x2="21" y2="10" data-v-42e34862></line></svg>',1)])]),t("button",{class:"icon-btn",onClick:e[2]||(e[2]=s=>O.value=!0)},[...e[10]||(e[10]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)])])]),t("button",{class:"balance-pill",onClick:e[3]||(e[3]=s=>l.$router.push("/deposit"))},[e[11]||(e[11]=t("svg",{class:"ton-icon",width:"18",height:"18",viewBox:"0 0 56 56",fill:"none"},[t("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),t("span",ct,o(C.value.toFixed(2)),1),e[12]||(e[12]=t("span",{class:"balance-plus"},"+",-1))])]),t("div",pt,[e[17]||(e[17]=t("div",{class:"y-axis"},[t("span",null,"1.75"),t("span",null,"1.50"),t("span",null,"1.25"),t("span",null,"1.00"),t("span",null,"0.75")],-1)),t("div",{class:"chart-area",ref_key:"chartAreaRef",ref:Z},[e[16]||(e[16]=R('<div class="grid-lines" data-v-42e34862><div class="grid-line" style="top:0%;" data-v-42e34862></div><div class="grid-line" style="top:25%;" data-v-42e34862></div><div class="grid-line" style="top:50%;" data-v-42e34862></div><div class="grid-line" style="top:75%;" data-v-42e34862></div><div class="grid-line" style="top:100%;" data-v-42e34862></div></div>',1)),t("div",ht,[t("span",gt,o(D.value),1),e[13]||(e[13]=t("span",{class:"ping-ms"},"ms",-1))]),t("div",ft,[(v(!0),u(F,null,z(S.value,(s,a)=>(v(),u("div",{key:a,class:"candle",style:x(W(s))},[t("div",{class:"candle-wick",style:x(X(s))},null,4),t("div",{class:"candle-body",style:x(q(s))},null,4)],4))),128))]),r.value==="active"?(v(),u("div",{key:0,class:"price-line",style:x({top:f(n.value)+"%"})},[t("span",mt,o(n.value.toFixed(3))+"x",1)],4)):w("",!0),t("div",{class:k(["multiplier-display",U.value]),style:x({top:f(n.value)+"%"})},o(K.value),7),r.value==="countdown"?(v(),u("div",bt,[t("span",wt,o(M.value.toFixed(1))+"s",1)])):w("",!0),r.value==="crashed"?(v(),u("div",yt,[...e[14]||(e[14]=[t("div",{class:"crash-skulls"},[t("span",null,"üíÄ"),t("span",null,"üíÄ"),t("span",null,"üíÄ")],-1)])])):w("",!0),G.value?w("",!0):(v(),u("div",Ct,[...e[15]||(e[15]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 3C7.46 3 3.34 4.78.29 7.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71.18.19.43.3.71.3s.53-.11.71-.29C4.15 6.74 7.82 5.25 12 5.25s7.85 1.49 10.29 3.85c.18.18.43.29.71.29s.53-.11.71-.3c.18-.18.29-.43.29-.71 0-.28-.11-.53-.29-.71C20.66 4.78 16.54 3 12 3zm0 5.25c-3.03 0-5.82 1.08-8 2.88-.17.14-.29.34-.33.57-.04.22.01.45.14.64.13.19.32.32.54.37.22.05.45 0 .64-.14 1.82-1.51 4.16-2.4 7.01-2.4s5.19.89 7.01 2.4c.19.14.42.19.64.14.22-.05.41-.18.54-.37.13-.19.18-.42.14-.64-.04-.23-.16-.43-.33-.57-2.18-1.8-4.97-2.88-8-2.88zm0 5.25c-1.88 0-3.63.64-5.03 1.73-.17.13-.29.32-.34.53-.05.21-.01.44.11.63s.3.33.52.39c.21.06.44.02.63-.11 1.11-.86 2.51-1.36 4.11-1.36s3 .5 4.11 1.36c.19.13.42.17.63.11.22-.06.4-.2.52-.39s.16-.42.11-.63c-.05-.21-.17-.4-.34-.53-1.4-1.09-3.15-1.73-5.03-1.73zM12 18a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"})],-1),t("span",null,"Connecting...",-1)])]))],512)]),t("div",xt,[t("div",kt,[e[18]||(e[18]=t("span",{class:"traders-title"},"Traders",-1)),t("span",Mt,"("+o(p.value.length)+")",1)]),p.value.length>0?(v(),u("div",_t,[(v(!0),u(F,null,z(p.value,s=>(v(),u("div",{key:s.id,class:k(["trader-row",{exited:s.exited}])},[t("div",It,[t("div",Bt,o(s.level||1),1),t("img",{src:s.avatar||"/icons/avatar-default.png",class:"trader-avatar"},null,8,$t),t("span",Lt,"@"+o(s.name),1),s.exited?(v(),u("span",St,"–í—ã—à–µ–ª")):w("",!0)]),t("div",Tt,[t("span",{class:k(["trader-profit",{positive:s.profit>=0,negative:s.profit<0}])},o(s.profit>=0?"+":"")+o(s.profit.toFixed(2)),3),e[19]||(e[19]=t("svg",{width:"10",height:"10",viewBox:"0 0 56 56",fill:"currentColor"},[t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z"})],-1))])],2))),128))])):w("",!0),t("div",Ft,[t("span",zt,"Game #"+o(H.value),1),t("button",Dt,[e[20]||(e[20]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),t("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)),t("span",null,"Hash: "+o(A.value),1)])])]),t("div",Ht,[(v(),u(F,null,z(j,s=>t("button",{key:s,class:k(["bet-pill",{active:h.value===s}]),onClick:a=>V(s)},[e[21]||(e[21]=t("svg",{width:"12",height:"12",viewBox:"0 0 56 56",fill:"currentColor",class:"pill-icon"},[t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z"})],-1)),t("span",null,o(s),1)],10,At)),64)),t("button",{class:"bet-pill",onClick:e[4]||(e[4]=s=>V(Math.floor(C.value*10)/10))},[...e[22]||(e[22]=[t("span",null,"–ú–∞–∫—Å",-1)])]),e[23]||(e[23]=t("button",{class:"bet-pill edit-pill"},[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})])],-1))]),t("div",Et,[t("button",{class:"swap-btn",onClick:e[5]||(e[5]=s=>l.$router.push("/swap"))},[...e[24]||(e[24]=[t("svg",{width:"24",height:"24",viewBox:"0 0 56 56",fill:"#0098EA"},[t("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1),t("span",null,"–°–º–µ–Ω–∏—Ç—å",-1),t("span",{class:"swap-star"},"‚≠ê",-1)])]),c.value?(v(),u("button",{key:1,class:"sell-btn",disabled:!N.value,onClick:Q},[t("div",Yt,[e[26]||(e[26]=t("span",{class:"sell-label"},"–ü—Ä–æ–¥–∞—Ç—å",-1)),t("span",{class:k(["sell-percent",{positive:B.value>=0,negative:B.value<0}])},o(B.value>=0?"+":"")+o(B.value.toFixed(0))+"% ",3)])],8,Rt)):(v(),u("button",{key:0,class:"buy-btn",disabled:!E.value,onClick:J},[t("div",Vt,[e[25]||(e[25]=t("span",{class:"buy-label"},"–ö—É–ø–∏—Ç—å",-1)),t("span",Pt,o(h.value.toFixed(1))+" TON",1)])],8,Nt)),t("button",{class:"deposit-btn",onClick:e[6]||(e[6]=s=>l.$router.push("/deposit"))},[...e[27]||(e[27]=[t("span",{class:"deposit-plus"},"+",-1),t("span",null,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å",-1)])])])]))}}),qt=it(Kt,[["__scopeId","data-v-42e34862"]]);export{qt as default};
