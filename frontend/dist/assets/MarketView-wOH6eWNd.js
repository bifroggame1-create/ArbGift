const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lottie-DzwejvuX.js","assets/_commonjsHelpers-BosuxZz1.js"])))=>i.map(i=>d[i]);
import{d as N,x as Se,j as Q,y as Fe,o,c as p,k as le,z as x,r as _,b as t,h as R,t as w,A as D,n as F,l as P,a as ae,g as L,F as E,f as G,w as I,T as Z,B as ee,C as De,D as Ae}from"./vue-DrcrC0TO.js";import{_ as Le,a as V,u as se}from"./index-WcXeOoBY.js";import{s as Ee,g as te,a as Ge}from"./client-pJ2CWAUX.js";const Te=["src","alt"],Oe=N({__name:"LottieGift",props:{src:{},fallbackSrc:{},alt:{default:"Gift"},size:{default:100},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!0}},setup(d){let r=null;const s=async()=>(r||(r=await Le(()=>import("./lottie-DzwejvuX.js").then(C=>C.l),__vite__mapDeps([0,1]))),r.default),c=d,g=_(null),v=_(!1);let m=null;async function b(){if(!g.value||!c.src){v.value=!0;return}m&&(m.destroy(),m=null),v.value=!1;try{const C=await s();if(!g.value)return;m=C.loadAnimation({container:g.value,renderer:"svg",loop:c.loop,autoplay:c.autoplay,path:c.src}),m.addEventListener("data_failed",()=>{v.value=!0,m?.destroy(),m=null}),m.addEventListener("error",()=>{v.value=!0,m?.destroy(),m=null})}catch{v.value=!0}}return Se(()=>c.src,()=>{b()}),Q(()=>{b()}),Fe(()=>{m&&(m.destroy(),m=null)}),(C,O)=>(o(),p("div",{ref_key:"container",ref:g,class:"lottie-gift",style:le({width:d.size+"px",height:d.size+"px"})},[v.value&&d.fallbackSrc?(o(),p("img",{key:0,src:d.fallbackSrc,alt:d.alt,class:"lottie-gift__fallback",loading:"lazy",draggable:"false"},null,8,Te)):x("",!0)],4))}}),He=V(Oe,[["__scopeId","data-v-66204c08"]]),ze={class:"gift-card__image"},Ne=["src","alt"],Ve={key:2,class:"gift-card__placeholder"},je={class:"gift-card__info"},Ie={class:"gift-card__name"},Ze={class:"gift-card__serial"},Ue={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},Re=N({__name:"GiftCard",props:{gift:{},selectable:{type:Boolean},isSelected:{type:Boolean}},emits:["click","buy","select"],setup(d,{emit:r}){const s=d,c=r,{hapticImpact:g}=se(),v=_(!1),m=P(()=>{if(s.gift.lottie_url)return s.gift.lottie_url;const n=s.gift.image_url;return n&&n.includes("nft.fragment.com/gift/")?n.replace(/\.(webp|jpg|png|medium\.jpg|large\.jpg|small\.jpg)$/i,".lottie.json"):null}),b=P(()=>Math.round(Math.min(window.innerWidth/3-16,140))),C=P(()=>s.gift.tg_id?s.gift.tg_id:s.gift.id),O=P(()=>{const n=s.gift.min_price_ton||s.gift.price||0,h=Number(n);return h===0?"Free":h.toFixed(2).replace(/\.?0+$/,"")}),S=P(()=>{const n={"Instant Ramen":"linear-gradient(180deg, #E8D5B7 0%, #C4A77D 100%)","Lol Pop":"linear-gradient(180deg, #A8D8FF 0%, #5BA3D9 100%)","Hypno Lollipop":"linear-gradient(180deg, #D4B8E8 0%, #9B6DC6 100%)","Eternal Candle":"linear-gradient(180deg, #4A4A4A 0%, #2A2A2A 100%)","Bling Binky":"linear-gradient(180deg, #FFD700 0%, #FFA500 100%)","Pet Snake":"linear-gradient(180deg, #90EE90 0%, #228B22 100%)","Happy Brownie":"linear-gradient(180deg, #D2B48C 0%, #8B4513 100%)","Fresh Socks":"linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%)","Ice Cream":"linear-gradient(180deg, #FFB6C1 0%, #FF69B4 100%)",default:"linear-gradient(180deg, #3A3A3A 0%, #282727 100%)"};return{"--card-bg":n[s.gift.name]||n.default}}),M=()=>{g("light"),s.selectable?c("select",s.gift):c("click",s.gift)},u=()=>{g("medium"),c("buy",s.gift)};return(n,h)=>(o(),p("div",{class:"gift-card gift-card-appear base-active-btn",style:le(S.value),onClick:M},[t("div",ze,[m.value?(o(),R(He,{key:0,src:m.value,"fallback-src":d.gift.image_url,alt:d.gift.name,size:b.value,class:"gift-card__lottie"},null,8,["src","fallback-src","alt","size"])):d.gift.image_url&&!v.value?(o(),p("img",{key:1,src:d.gift.image_url,alt:d.gift.name,loading:"lazy",draggable:"false",onError:h[0]||(h[0]=y=>v.value=!0)},null,40,Ne)):(o(),p("div",Ve,[...h[1]||(h[1]=[t("span",{class:"gift-card__placeholder-emoji"},"ðŸŽ",-1)])]))]),t("div",je,[t("div",Ie,w(d.gift.name),1),t("div",Ze,"#"+w(C.value),1),t("button",{class:"gift-card__price",onClick:D(u,["stop"])},[h[2]||(h[2]=t("svg",{class:"gift-card__ton-icon",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",null,w(O.value),1)])]),d.selectable?(o(),p("div",{key:0,class:F(["gift-card__checkbox",{"gift-card__checkbox--selected":d.isSelected}])},[d.isSelected?(o(),p("svg",Ue,[...h[3]||(h[3]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):x("",!0)],2)):x("",!0)],4))}}),We=V(Re,[["__scopeId","data-v-5d868984"]]),Ke={class:"skeleton-card"},Je=N({__name:"SkeletonCard",setup(d){return(r,s)=>(o(),p("div",Ke,[...s[0]||(s[0]=[ae('<div class="skeleton-card__image skeleton" data-v-ef5d93a6></div><div class="skeleton-card__body" data-v-ef5d93a6><div class="skeleton-card__title skeleton" data-v-ef5d93a6></div><div class="skeleton-card__serial skeleton" data-v-ef5d93a6></div><div class="skeleton-card__price skeleton" data-v-ef5d93a6></div></div>',2)])]))}}),qe=V(Je,[["__scopeId","data-v-ef5d93a6"]]),Qe={class:"balance-pill"},Ye={class:"balance-pill__amount"},Xe=N({__name:"BalancePill",props:{balance:{}},emits:["add"],setup(d){const r=d,s=P(()=>{const c=r.balance;return c>=1e3?c.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):Number(c.toFixed(2)).toString()});return(c,g)=>(o(),p("div",Qe,[g[2]||(g[2]=t("svg",{class:"balance-pill__icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",Ye,w(s.value),1),t("button",{class:"balance-pill__add",onClick:g[0]||(g[0]=D(v=>c.$emit("add"),["stop"]))},[...g[1]||(g[1]=[t("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 1v12M1 7h12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])]))}}),et=V(Xe,[["__scopeId","data-v-0b0417e6"]]),K="market_prices_cache",J=5*60*1e3;function q(d){return d.length===0?0:Math.min(...d.map(r=>r.price))}function ie(d){if(d.length===0)return 0;const r=[...d].sort((c,g)=>c.price-g.price),s=Math.floor(r.length/2);return r.length%2!==0?r[s].price:(r[s-1].price+r[s].price)/2}function re(d){return d.length===0?null:d.reduce((r,s)=>s.price<r.price?s:r)}class tt{cache={};constructor(){this.loadCache()}loadCache(){try{const r=localStorage.getItem(K);r&&(this.cache=JSON.parse(r),this.cleanExpiredCache())}catch(r){console.warn("Failed to load price cache:",r),this.cache={}}}persistCache(){try{localStorage.setItem(K,JSON.stringify(this.cache))}catch(r){console.warn("Failed to persist price cache:",r)}}cleanExpiredCache(){const r=Date.now();for(const[s,c]of Object.entries(this.cache))r-c.timestamp>J&&delete this.cache[s]}clearCache(){this.cache={},localStorage.removeItem(K)}getCachedPrice(r){const s=this.cache[r];return s?Date.now()-s.timestamp>J?(delete this.cache[r],0):q(s.prices):0}setCachedPrice(r,s){this.cache[r]={prices:s,timestamp:Date.now()}}async fetchFromApi(r){try{const s=await fetch(`/api/v1/gifts/${r}`);if(!s.ok)return null;const c=await s.json();return c.min_price_ton&&parseFloat(c.min_price_ton)>0?{source:"api",price:parseFloat(c.min_price_ton),currency:"TON",updatedAt:new Date}:null}catch{return null}}async getAggregatedPrice(r){const s=this.cache[r];if(s&&Date.now()-s.timestamp<J)return s.prices;const g=(await Promise.allSettled([this.fetchFromApi(r)])).filter(v=>v.status==="fulfilled").map(v=>v.value).filter(v=>v!==null&&v.price>0);return g.length>0&&this.setCachedPrice(r,g),g}async getAggregatedGifts(r){const s=new Map,c=10;for(let g=0;g<r.length;g+=c){const v=r.slice(g,g+c);await Promise.all(v.map(async m=>{const b=await this.getAggregatedPrice(m);b.length>0&&s.set(m,{giftId:m,name:"",model:"",prices:b,minPrice:q(b),medianPrice:ie(b),bestDeal:re(b)})}))}return s}}const T=new tt;function lt(){const d=_(!1),r=_(null),s=_([]),c=_(new Map);Q(()=>{T.loadCache()});const g=u=>T.getCachedPrice(u),v=async u=>{d.value=!0,r.value=null;try{c.value=await T.getAggregatedGifts(u),T.persistCache()}catch(n){r.value="Failed to load prices",console.error("Preload prices error:",n)}finally{d.value=!1}};return{isLoading:d,error:r,gifts:s,aggregatedData:c,getCachedPrice:g,preloadPrices:v,getGiftPrices:async u=>{try{return await T.getAggregatedPrice(u)}catch(n){return console.error("Get gift prices error:",n),[]}},getBestPrice:u=>{const n=g(u);if(n>0)return n;const h=c.value.get(u);return h?h.minPrice:0},getPriceDisplay:u=>{const n=c.value.get(u);if(n&&n.bestDeal)return{price:n.minPrice.toFixed(2),source:n.bestDeal.source};const h=g(u);return h>0?{price:h.toFixed(2),source:"cached"}:{price:"â€”",source:"unavailable"}},enrichGiftsWithPrices:u=>u.map(n=>{const h=n.id||n.gift_id||"",y=c.value.get(h);let B=0,j=[],H=null,l="api";if(y)B=y.minPrice,j=y.prices,H=y.bestDeal,l=H?.source||"aggregated";else if(n.floor_price)B=typeof n.floor_price=="string"?parseFloat(n.floor_price):n.floor_price,l="api";else{const $=g(h);$>0&&(B=$,l="cached")}return{id:h,name:n.name||"",model:n.model||"",image:n.image,floorPrice:B,prices:j,bestDeal:H,priceSource:l}}),refreshPrices:async u=>{T.clearCache(),await v(u)},getPriceComparison:u=>{const n=c.value.get(u);return!n||n.prices.length===0?null:{min:n.minPrice,median:n.medianPrice,sources:n.prices.map(h=>h.source)}},calculateMinPrice:q,calculateMedianPrice:ie,getBestDeal:re}}const at={class:"market-view"},st={class:"market-header"},it={class:"market-header__right"},rt={class:"market-tabs"},nt={class:"market-tabs__scroll"},ot=["onClick"],ct={class:"filter-bar"},dt={key:0,class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},ut={key:0,class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},pt={key:0,class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},gt={key:0,class:"active-filters"},ht=["onClick"],ft={class:"sort-menu"},vt=["onClick"],mt={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},kt={class:"gift-grid-wrapper"},_t={key:0,class:"gift-grid"},bt={key:1,class:"gift-grid"},yt={key:2,class:"pagination"},wt=["disabled"],Ct={class:"pagination__info"},Pt={class:"pagination__current"},xt={class:"pagination__total"},Bt=["disabled"],$t={key:3,class:"empty-state"},Mt={key:0,class:"filter-sheet"},St={class:"filter-sheet__header"},Ft={class:"filter-sheet__title"},Dt={class:"filter-sheet__body"},At={class:"filter-chips"},Lt=["onClick"],Et={class:"filter-sheet__footer"},U=50,Gt=N({__name:"MarketView",setup(d){const r=Ae(),{hapticImpact:s}=se(),{preloadPrices:c,enrichGiftsWithPrices:g}=lt(),v=[{id:"all",label:"Gifts"},{id:"upgrades",label:"Upgrades"}],m=_("all"),b=_(!0),C=_([]),O=_(""),S=_("listed_at desc"),M=_(!1),u=_(null),n=_(!1),h=_([]),y=_(1),B=_(50),j=_("1.33"),H=_("247.5K"),l=De({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),$=_([]),ne=P(()=>[...new Set($.value.map(a=>a.name).filter(Boolean))].sort()),oe=P(()=>[...new Set($.value.map(a=>a.model).filter(Boolean))].sort()),ce=P(()=>[...new Set($.value.map(a=>a.backdrop).filter(Boolean))].sort()),de=[{value:"common",label:"Common",color:"#6b7280"},{value:"uncommon",label:"Uncommon",color:"#22c55e"},{value:"rare",label:"Rare",color:"#3b82f6"},{value:"epic",label:"Epic",color:"#a855f7"},{value:"legendary",label:"Legendary",color:"#f59e0b"},{value:"mythic",label:"Mythic",color:"#ef4444"}],Y=P(()=>{const a=[];return l.names.forEach(e=>a.push({key:`name-${e}`,group:"names",value:e,label:e})),l.models.forEach(e=>a.push({key:`model-${e}`,group:"models",value:e,label:`Skin: ${e}`})),l.backdrops.forEach(e=>a.push({key:`backdrop-${e}`,group:"backdrops",value:e,label:`Backdrop: ${e}`})),l.patterns.forEach(e=>a.push({key:`pattern-${e}`,group:"patterns",value:e,label:`Pattern: ${e}`})),l.symbols.forEach(e=>a.push({key:`symbol-${e}`,group:"symbols",value:e,label:`Symbol: ${e}`})),l.rarities.forEach(e=>{const i=de.find(f=>f.value===e);a.push({key:`rarity-${e}`,group:"rarities",value:e,label:i?.label||e})}),l.minPrice!==null&&a.push({key:"minPrice",group:"minPrice",value:String(l.minPrice),label:`from ${l.minPrice} TON`}),l.maxPrice!==null&&a.push({key:"maxPrice",group:"maxPrice",value:String(l.maxPrice),label:`to ${l.maxPrice} TON`}),a}),ue=P(()=>{switch(u.value){case"type":return"Type";case"model":return"Skin";case"backdrop":return"Backdrop";default:return""}}),pe=P(()=>{switch(u.value){case"type":return ne.value;case"model":return oe.value;case"backdrop":return ce.value;default:return[]}}),ge=a=>{switch(u.value){case"type":return l.names.includes(a);case"model":return l.models.includes(a);case"backdrop":return l.backdrops.includes(a);default:return!1}},he=a=>{switch(u.value){case"type":W("names",a);break;case"model":W("models",a);break;case"backdrop":W("backdrops",a);break}},W=(a,e)=>{const i=l[a],f=i.indexOf(e);f>-1?i.splice(f,1):i.push(e)},fe=a=>{if(a.group==="minPrice")l.minPrice=null;else if(a.group==="maxPrice")l.maxPrice=null;else{const e=l[a.group],i=e.indexOf(a.value);i>-1&&e.splice(i,1)}A()},ve=()=>{l.names=[],l.models=[],l.backdrops=[],l.patterns=[],l.symbols=[],l.rarities=[],l.minPrice=null,l.maxPrice=null},A=()=>{y.value=1,z()},me=[{value:"listed_at desc",label:"Newest first"},{value:"listed_at asc",label:"Oldest first"},{value:"price asc",label:"Price: Low to High"},{value:"price desc",label:"Price: High to Low"}],ke=a=>{s("light"),m.value=a,a==="upgrades"&&r.push("/upgrade")},_e=a=>{s("light"),S.value=a,M.value=!1,z()},be=()=>{y.value>1&&(y.value--,z())},ye=()=>{y.value<B.value&&(y.value++,z())},z=async()=>{b.value=!0;try{const a=(y.value-1)*U,e=O.value?.trim();let i;if(e)i=await Ee(e,{limit:U,collection_id:void 0});else{const k={is_on_sale:!0,sort:S.value,limit:U,offset:a};l.rarities.length===1&&(k.rarity=l.rarities[0]),l.models.length===1&&(k.model=l.models[0]),l.backdrops.length===1&&(k.backdrop=l.backdrops[0]),l.patterns.length===1&&(k.pattern=l.patterns[0]),l.symbols.length===1&&(k.symbol=l.symbols[0]),l.minPrice!==null&&(k.min_price=l.minPrice),l.maxPrice!==null&&(k.max_price=l.maxPrice),i=await te(k)}let f=i.items||i||[];l.names.length>0&&(f=f.filter(k=>l.names.includes(k.name))),l.rarities.length>1&&(f=f.filter(k=>l.rarities.includes(k.rarity))),l.models.length>1&&(f=f.filter(k=>l.models.includes(k.model))),l.backdrops.length>1&&(f=f.filter(k=>l.backdrops.includes(k.backdrop))),l.patterns.length>1&&(f=f.filter(k=>l.patterns.includes(k.pattern))),l.symbols.length>1&&(f=f.filter(k=>l.symbols.includes(k.symbol))),$.value.length===0&&f.length>0&&($.value=f),i.total&&(B.value=Math.ceil(i.total/U));const X=f.map(k=>k.id||k.gift_id).filter(Boolean);X.length>0?(C.value=f,c(X).then(()=>{C.value=g(f)})):C.value=f}catch(a){console.error("Fetch gifts error:",a),C.value=[]}finally{b.value=!1}},we=async()=>{try{const a=await te({is_on_sale:!0,limit:500}),e=a.items||a||[];e.length>0&&($.value=e)}catch{}},Ce=async()=>{try{const a=await Ge();a.volume_24h&&(H.value=Pe(a.volume_24h)),a.ton_price&&(j.value=a.ton_price.toFixed(2))}catch{}},Pe=a=>a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toString(),xe=a=>{s("light"),r.push(`/gift/${a.id}`)},Be=a=>{s("medium")},$e=a=>{s("light");const e=h.value.indexOf(a.id);e>-1?h.value.splice(e,1):h.value.push(a.id)},Me=()=>{s("heavy")};return Q(()=>{z(),Ce(),we()}),(a,e)=>(o(),p("div",at,[e[31]||(e[31]=t("div",{class:"online-indicator"},[t("span",{class:"online-dot"}),t("span",{class:"online-text"},"22 online")],-1)),t("div",st,[e[12]||(e[12]=t("div",{class:"market-header__spacer"},null,-1)),e[13]||(e[13]=t("h1",{class:"market-title"},"Market",-1)),t("div",it,[L(et,{balance:0,onAdd:()=>{}})])]),t("nav",rt,[t("div",nt,[(o(),p(E,null,G(v,i=>t("button",{key:i.id,class:F(["market-tabs__item",{active:m.value===i.id}]),onClick:f=>ke(i.id)},w(i.label),11,ot)),64))])]),t("div",ct,[t("button",{class:"filter-bar__sort-btn",onClick:e[0]||(e[0]=i=>M.value=!M.value)},[...e[14]||(e[14]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 6h18M6 12h12M9 18h6"})],-1)])]),t("button",{class:F(["filter-bar__dropdown",{"has-value":l.names.length>0}]),onClick:e[2]||(e[2]=i=>u.value=u.value==="type"?null:"type")},[t("span",null,w(l.names.length>0?l.names[0]+(l.names.length>1?` +${l.names.length-1}`:""):"Type"),1),l.names.length===0?(o(),p("svg",dt,[...e[15]||(e[15]=[t("path",{d:"m6 9 6 6 6-6"},null,-1)])])):(o(),p("svg",{key:1,class:"filter-bar__clear",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3",onClick:e[1]||(e[1]=D(i=>{l.names=[],A()},["stop"]))},[...e[16]||(e[16]=[t("path",{d:"M18 6 6 18"},null,-1),t("path",{d:"m6 6 12 12"},null,-1)])]))],2),t("button",{class:F(["filter-bar__dropdown",{"has-value":l.models.length>0}]),onClick:e[4]||(e[4]=i=>u.value=u.value==="model"?null:"model")},[t("span",null,w(l.models.length>0?l.models[0]+(l.models.length>1?` +${l.models.length-1}`:""):"Skin"),1),l.models.length===0?(o(),p("svg",ut,[...e[17]||(e[17]=[t("path",{d:"m6 9 6 6 6-6"},null,-1)])])):(o(),p("svg",{key:1,class:"filter-bar__clear",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3",onClick:e[3]||(e[3]=D(i=>{l.models=[],A()},["stop"]))},[...e[18]||(e[18]=[t("path",{d:"M18 6 6 18"},null,-1),t("path",{d:"m6 6 12 12"},null,-1)])]))],2),t("button",{class:F(["filter-bar__dropdown",{"has-value":l.backdrops.length>0}]),onClick:e[6]||(e[6]=i=>u.value=u.value==="backdrop"?null:"backdrop")},[t("span",null,w(l.backdrops.length>0?l.backdrops[0]+(l.backdrops.length>1?` +${l.backdrops.length-1}`:""):"Backdrop"),1),l.backdrops.length===0?(o(),p("svg",pt,[...e[19]||(e[19]=[t("path",{d:"m6 9 6 6 6-6"},null,-1)])])):(o(),p("svg",{key:1,class:"filter-bar__clear",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3",onClick:e[5]||(e[5]=D(i=>{l.backdrops=[],A()},["stop"]))},[...e[20]||(e[20]=[t("path",{d:"M18 6 6 18"},null,-1),t("path",{d:"m6 6 12 12"},null,-1)])]))],2)]),Y.value.length>0?(o(),p("div",gt,[(o(!0),p(E,null,G(Y.value,i=>(o(),p("button",{key:i.key,class:"active-filter-chip",onClick:f=>fe(i)},[t("span",null,w(i.label),1),e[21]||(e[21]=t("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1))],8,ht))),128)),t("button",{class:"clear-all-btn",onClick:e[7]||(e[7]=i=>{ve(),A()})},"Clear")])):x("",!0),(o(),R(ee,{to:"body"},[L(Z,{name:"sort-fade"},{default:I(()=>[M.value?(o(),p("div",{key:0,class:"sort-overlay",onClick:e[8]||(e[8]=D(i=>M.value=!1,["self"]))},[t("div",ft,[e[23]||(e[23]=t("div",{class:"sort-menu__header"},"Sort by",-1)),(o(),p(E,null,G(me,i=>t("button",{key:i.value,class:F(["sort-menu__option",{active:S.value===i.value}]),onClick:f=>_e(i.value)},[t("span",null,w(i.label),1),S.value===i.value?(o(),p("svg",mt,[...e[22]||(e[22]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):x("",!0)],10,vt)),64))])])):x("",!0)]),_:1})])),t("div",kt,[b.value?(o(),p("div",_t,[(o(),p(E,null,G(12,i=>L(qe,{key:"skeleton-"+i})),64))])):(o(),p("div",bt,[(o(!0),p(E,null,G(C.value,i=>(o(),R(We,{key:i.id,gift:i,selectable:n.value,"is-selected":h.value.includes(i.id),onClick:xe,onBuy:Be,onSelect:$e},null,8,["gift","selectable","is-selected"]))),128))])),!b.value&&B.value>1?(o(),p("div",yt,[t("button",{class:"pagination__btn",disabled:y.value<=1,onClick:be},[...e[24]||(e[24]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1)])],8,wt),t("span",Ct,[t("span",Pt,w(y.value),1),e[25]||(e[25]=t("span",{class:"pagination__sep"},"/",-1)),t("span",xt,w(B.value),1)]),t("button",{class:"pagination__btn",disabled:y.value>=B.value,onClick:ye},[...e[26]||(e[26]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m9 18 6-6-6-6"})],-1)])],8,Bt)])):x("",!0),!b.value&&C.value.length===0?(o(),p("div",$t,[...e[27]||(e[27]=[ae('<div class="empty-state__icon" data-v-7eeb1b4c><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-7eeb1b4c><path d="M21 8v13H3V8" data-v-7eeb1b4c></path><path d="M1 3h22v5H1z" data-v-7eeb1b4c></path><path d="M10 12h4" data-v-7eeb1b4c></path></svg></div><p class="empty-state__text" data-v-7eeb1b4c>No gifts available</p><p class="empty-state__hint" data-v-7eeb1b4c>Try adjusting your filters</p>',3)])])):x("",!0)]),L(Z,{name:"fab-pop"},{default:I(()=>[h.value.length>0?(o(),p("button",{key:0,class:"bulk-fab",onClick:Me},[e[28]||(e[28]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("path",{d:"M3 6h18"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),t("span",null,w(h.value.length),1)])):x("",!0)]),_:1}),(o(),R(ee,{to:"body"},[L(Z,{name:"filter-overlay"},{default:I(()=>[u.value?(o(),p("div",{key:0,class:"filter-sheet-overlay",onClick:e[11]||(e[11]=D(i=>u.value=null,["self"]))},[L(Z,{name:"sheet-slide"},{default:I(()=>[u.value?(o(),p("div",Mt,[e[30]||(e[30]=t("div",{class:"filter-sheet__handle"},null,-1)),t("div",St,[t("h3",Ft,w(ue.value),1),t("button",{class:"filter-sheet__close",onClick:e[9]||(e[9]=i=>u.value=null)},[...e[29]||(e[29]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",Dt,[t("div",At,[(o(!0),p(E,null,G(pe.value,i=>(o(),p("button",{key:i,class:F(["filter-chip",{active:ge(i)}]),onClick:f=>he(i)},w(i),11,Lt))),128))])]),t("div",Et,[t("button",{class:"filter-sheet__done",onClick:e[10]||(e[10]=i=>{u.value=null,A()})}," Done ")])])):x("",!0)]),_:1})])):x("",!0)]),_:1})]))]))}}),zt=V(Gt,[["__scopeId","data-v-7eeb1b4c"]]);export{zt as default};
