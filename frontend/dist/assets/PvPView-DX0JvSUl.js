import{y as ut,r as c,l as k,d as vt,j as ht,c as i,b as t,F as E,f as F,t as l,a as Q,G as b,k as W,n as A,h as X,A as tt,H as pt,I as ft,z as et,B as st,u as mt,o}from"./vue-DrcrC0TO.js";import{_ as G}from"./stars-CI_OqwKa.js";import{p as gt,h as _t,i as wt,j as yt,k as bt}from"./client-pJ2CWAUX.js";import{u as Ct}from"./useTonConnect-DaAIbGvR.js";import{u as kt,a as xt}from"./index-nHsVjOhL.js";const Mt="ws://localhost:8009";function Bt(){const V=c([]),u=c(null),d=c([]),v=c(!1),h=c(null),B=c(0),x=c(null);let m=null,g=null;const S=c(null),$=c(null),_=c(null),L=c(null),p=k(()=>m?.readyState===WebSocket.OPEN),H=n=>{C(),m=new WebSocket(`${Mt}/ws/pvp/${n}`),m.onopen=()=>{const r=setInterval(()=>{m?.readyState===WebSocket.OPEN?m.send("ping"):clearInterval(r)},3e4)},m.onmessage=r=>{try{const w=JSON.parse(r.data);R(w,n)}catch{}},m.onerror=()=>{h.value="WebSocket connection error"},m.onclose=()=>{setTimeout(()=>{u.value&&u.value.status!=="finished"&&H(n)},3e3)}},C=()=>{m&&(m.onclose=null,m.close(),m=null),g&&(clearInterval(g),g=null)},R=(n,r)=>{switch(n.type){case"bet_placed":u.value&&(u.value.total_pool_ton=n.data.total_pool_ton,u.value.total_bets=n.data.total_bets,u.value.total_players=n.data.total_players,T(r)),S.value?.(n.data);break;case"countdown_start":u.value&&(u.value.status="countdown"),B.value=n.data.countdown_seconds,D(),$.value?.(n.data.countdown_seconds);break;case"countdown_update":B.value=n.data.remaining_seconds;break;case"spin_start":u.value&&(u.value.status="spinning"),g&&(clearInterval(g),g=null),_.value?.();break;case"spin_result":u.value&&(u.value.status="finished"),x.value=n.data,L.value?.(n.data);break;case"room_cancelled":u.value&&(u.value.status="cancelled");break}},D=()=>{g&&clearInterval(g),g=setInterval(()=>{B.value>0?B.value--:g&&clearInterval(g)},1e3)},Z=async n=>{v.value=!0,h.value=null;try{const r=await bt(n);V.value=r.rooms}catch(r){h.value=r.message||"Failed to fetch rooms"}finally{v.value=!1}},T=async n=>{v.value=!0,h.value=null;try{u.value=await yt(n)}catch(r){h.value=r.message||"Failed to fetch room"}finally{v.value=!1}},U=async n=>{v.value=!0,h.value=null;try{return await wt(n)}catch(r){return h.value=r.message||"Failed to create room",null}finally{v.value=!1}},j=async(n,r,w)=>{v.value=!0,h.value=null;try{return await _t(n,r,w)}catch(P){return h.value=P.response?.data?.detail||P.message||"Failed to place bet",null}finally{v.value=!1}},J=async n=>{v.value=!0,h.value=null;try{d.value=await gt(n)}catch(r){h.value=r.message||"Failed to fetch inventory"}finally{v.value=!1}};return ut(()=>{C()}),{rooms:V,currentRoom:u,inventory:d,loading:v,error:h,countdownRemaining:B,spinResult:x,isConnected:p,onBetPlaced:S,onCountdownStart:$,onSpinStart:_,onSpinResult:L,connectWS:H,disconnectWS:C,fetchRooms:Z,fetchRoom:T,createRoom:U,placeBet:j,fetchInventory:J}}const St={class:"pvp-view"},$t={class:"stars-bg"},At={class:"pvp-header"},Lt={class:"online-badge"},Rt={class:"stats-row"},Tt={class:"stat-card"},Pt={class:"stat-avatar"},Nt=["src"],It={key:1},Et={class:"stat-content"},Ft={class:"stat-name"},Ht={class:"stat-right"},Zt={class:"stat-amount"},Ot={class:"stat-chance"},zt={class:"stat-card"},Wt={class:"stat-avatar"},Gt=["src"],Vt={key:1},Dt={class:"stat-content"},Ut={class:"stat-name"},jt={class:"stat-right"},Jt={class:"stat-amount"},Yt={class:"stat-chance"},qt={class:"pool-bar"},Kt={class:"pool-total"},Qt={class:"pool-value"},Xt={class:"roulette-wrapper"},te={key:0},ee={key:1},se=["d","fill"],ae=["transform"],le=["href"],ne={key:1,x:"0",y:"5","text-anchor":"middle",fill:"white","font-size":"12","font-weight":"bold"},oe={x:"150",y:"155","text-anchor":"middle",fill:"white","font-size":"16","font-weight":"600"},ie={class:"status-line"},re={class:"status-text"},ce={class:"players-section"},de={class:"players-header"},ue={class:"players-count"},ve={class:"game-id"},he={class:"players-list"},pe=["src"],fe={key:1},me={class:"player-info"},ge={class:"player-name"},_e={class:"player-stats"},we={class:"player-chance"},ye={class:"player-bet"},be={class:"filter-bar"},Ce={class:"balance-pill"},ke={class:"balance-value"},xe={class:"action-row"},Me={class:"btn-pool"},Be={class:"hash-footer"},Se={class:"hash-row"},$e={class:"bet-modal"},Ae={class:"modal-header"},Le={class:"modal-tabs"},Re={class:"modal-search"},Te={class:"gifts-section"},Pe={class:"gifts-grid"},Ne=["onClick"],Ie=["src","alt"],Ee={class:"gift-name"},Fe={class:"gift-price"},He={key:0,class:"price-icon",width:"10",height:"10",viewBox:"0 0 56 56",fill:"none"},Ze={key:1,src:G,alt:"Stars",class:"price-icon-img",width:"10",height:"10"},Oe={class:"gifts-section"},ze={class:"gifts-grid"},We=["onClick"],Ge=["src","alt"],Ve={class:"gift-name"},De={class:"gift-price"},Ue={key:0,class:"price-icon",width:"10",height:"10",viewBox:"0 0 56 56",fill:"none"},je={key:1,src:G,alt:"Stars",class:"price-icon-img",width:"10",height:"10"},Je=["disabled"],Ye={class:"winner-modal"},qe={class:"winner-header"},Ke={class:"winner-content"},Qe={class:"winner-avatar"},Xe=["src"],ts={key:1},es={class:"winner-info"},ss={class:"winner-name"},as={class:"winner-prize"},ls={class:"prize-amount"},ns={class:"prize-chance"},os={class:"winner-gift"},is={class:"gift-value"},rs=vt({__name:"PvPView",setup(V){const u=mt(),d=Bt(),v=Ct(),h=kt(),B=["#22d3ee","#22c55e","#ec4899","#8b5cf6","#f97316","#eab308","#3b82f6","#14b8a6"],x=c(u.params.roomCode||""),m=c(0),g=c(!1),S=c(!1),$=c(!1),_=c("ton"),L=c(""),p=c(null),H=c(0),C=c(null),R=c(0),D=k(()=>d.currentRoom.value?.online_count||0),Z=k(()=>d.currentRoom.value?parseFloat(d.currentRoom.value.total_pool_ton):0),T=k(()=>d.currentRoom.value?.room_code||"---"),U=k(()=>{const a=d.currentRoom.value?.server_seed_hash||"";return a?`${a.slice(0,5)}...${a.slice(-5)}`:"---"}),j=k(()=>{const a=d.currentRoom.value?.status;return a?{waiting:"ÐžÐ–Ð˜Ð”ÐÐÐ˜Ð•",countdown:"Ð¡Ð¢ÐÐ Ð¢",spinning:"Ð¡ÐŸÐ˜Ð",finished:"Ð¤Ð˜ÐÐ˜Ð¨"}[a]||"Ð˜Ð“Ð Ð":"ÐžÐ–Ð˜Ð”ÐÐÐ˜Ð•"}),J=k(()=>{const a=d.currentRoom.value?.status;return!a||a==="waiting"?"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²":a==="countdown"?`ÐÐ°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· ${d.countdownRemaining.value} ÑÐµÐº`:a==="spinning"?"ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð¿Ð¾Ð±ÐµÐ´Ð¸Ñ‚ÐµÐ»Ñ...":a==="finished"?"Ð˜Ð³Ñ€Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°":"PvP Ð½Ð°Ñ‡Ð°Ð»ÑÑ"}),n=c({name:"---",avatar:"",amount:0,chance:0}),r=c({name:"---",avatar:"",amount:0,chance:0}),w=k(()=>{if(!d.currentRoom.value?.bets)return[];const a=d.currentRoom.value.bets,e=new Map;return a.forEach((s,f)=>{const y=e.get(s.user_id);y?(y.bet+=parseFloat(s.gift_value_ton),y.chance=parseFloat(s.win_chance_percent)):e.set(s.user_id,{id:s.user_id,name:s.user_name,username:s.user_name,avatar:s.user_avatar,bet:parseFloat(s.gift_value_ton),chance:parseFloat(s.win_chance_percent),color:B[f%B.length]})}),Array.from(e.values())}),P=k(()=>d.inventory.value.slice(0,3).map((a,e)=>({id:a.address||e,name:a.name,image:a.image_url||"/gifts/default.webp",price:a.price_ton?parseFloat(a.price_ton):0,address:a.address}))),at=k(()=>d.inventory.value.slice(3).map((a,e)=>({id:a.address||e+3,name:a.name,image:a.image_url||"/gifts/default.webp",price:a.price_ton?parseFloat(a.price_ton):0,address:a.address}))),lt=Array.from({length:30},()=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`})),nt=a=>lt[a-1],ot=a=>{const e=w.value,s=e.reduce((I,dt)=>I+dt.chance,0);if(s===0)return"";let f=-90;for(let I=0;I<a;I++)f+=e[I].chance/s*360;const y=e[a].chance/s*360,O=f+y,M=150,N=150,z=140,q=Y(M,N,z,O),K=Y(M,N,z,f),ct=y>180?1:0;return`M ${M} ${N} L ${q.x} ${q.y} A ${z} ${z} 0 ${ct} 0 ${K.x} ${K.y} Z`},it=a=>{const e=w.value,s=e.reduce((M,N)=>M+N.chance,0);if(s===0)return"translate(150, 150)";let f=-90;for(let M=0;M<a;M++)f+=e[M].chance/s*360;const y=f+e[a].chance/s*180,O=Y(150,150,95,y);return`translate(${O.x}, ${O.y})`},Y=(a,e,s,f)=>{const y=f*Math.PI/180;return{x:a+s*Math.cos(y),y:e+s*Math.sin(y)}},rt=async()=>{if(!p.value)return;const a=window.Telegram?.WebApp?.initDataUnsafe?.user,e=a?.id||Math.floor(Math.random()*1e5),s=a?.username||a?.first_name||"Player";await d.placeBet(x.value,{user_id:e,user_telegram_id:e,user_name:s,gift_address:p.value.address||`gift_${p.value.id}`,gift_name:p.value.name,gift_image_url:p.value.image,gift_value_ton:p.value.price},v.address.value||void 0)&&(h.hapticNotification("success"),S.value=!1,p.value=null)};return d.onSpinStart.value=()=>{g.value=!0,h.hapticImpact("heavy")},d.onSpinResult.value=a=>{const e=parseFloat(a.spin_degree);m.value=360*3+e,setTimeout(()=>{g.value=!1,C.value=w.value.find(s=>s.id===a.winner_user_id)||null,R.value=parseFloat(a.winnings_ton),$.value=!0,h.hapticNotification("success")},8e3)},ht(async()=>{if(await v.init("giftmarket_bot"),!x.value){const a=await d.createRoom({min_bet_ton:.01,max_players:10});a&&(x.value=a.room_code)}x.value&&(await d.fetchRoom(x.value),d.connectWS(x.value)),v.isConnected.value&&v.address.value&&await d.fetchInventory(v.address.value)}),(a,e)=>(o(),i("div",St,[t("div",$t,[(o(),i(E,null,F(30,s=>t("div",{key:s,class:"star",style:W(nt(s))},null,4)),64))]),t("header",At,[t("button",{class:"header-close",onClick:e[0]||(e[0]=s=>a.$router.back())},[...e[10]||(e[10]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1),t("span",null,"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),t("div",Lt,[e[11]||(e[11]=t("span",{class:"online-dot"},null,-1)),t("span",null,l(D.value)+" Ð¾Ð½Ð»Ð°Ð¹Ð½",1)]),e[12]||(e[12]=Q('<div class="header-actions" data-v-a68f2204><button class="header-icon-btn" data-v-a68f2204><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-a68f2204><path d="M6 9l6 6 6-6" data-v-a68f2204></path></svg></button><button class="header-icon-btn" data-v-a68f2204><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-a68f2204><circle cx="12" cy="5" r="2" data-v-a68f2204></circle><circle cx="12" cy="12" r="2" data-v-a68f2204></circle><circle cx="12" cy="19" r="2" data-v-a68f2204></circle></svg></button></div>',1))]),t("div",Rt,[t("div",Tt,[t("div",Pt,[n.value.avatar?(o(),i("img",{key:0,src:n.value.avatar},null,8,Nt)):(o(),i("span",It,l(n.value.name?.charAt(0)),1))]),t("div",Et,[t("div",Ft,l(n.value.name),1),e[13]||(e[13]=t("div",{class:"stat-label"},"ÐŸÐ Ð•Ð”. Ð˜Ð“Ð Ð",-1))]),t("div",Ht,[t("div",Zt,[e[14]||(e[14]=t("svg",{class:"stat-ton-icon",width:"12",height:"12",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" +"+l(n.value.amount)+" TON ",1)]),t("div",Ot,"Ð¨ÐÐÐ¡ "+l(n.value.chance)+"%",1)])]),t("div",zt,[t("div",Wt,[r.value.avatar?(o(),i("img",{key:0,src:r.value.avatar},null,8,Gt)):(o(),i("span",Vt,l(r.value.name?.charAt(0)),1))]),t("div",Dt,[t("div",Ut,l(r.value.name),1),e[15]||(e[15]=t("div",{class:"stat-label"},"Ð¢ÐžÐŸ Ð˜Ð“Ð Ð",-1))]),t("div",jt,[t("div",Jt,[e[16]||(e[16]=t("svg",{class:"stat-ton-icon",width:"12",height:"12",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" +"+l(r.value.amount)+" TON ",1)]),t("div",Yt,"Ð¨ÐÐÐ¡ "+l(r.value.chance)+"%",1)])])]),t("div",qt,[e[19]||(e[19]=t("button",{class:"pool-icon-btn"},[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",Kt,[e[18]||(e[18]=t("span",{class:"pool-label"},"Ð’Ð¡Ð•Ð“Ðž",-1)),t("span",Qt,[e[17]||(e[17]=t("svg",{class:"pool-ton-icon",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" "+l(Z.value)+" TON ",1)])]),e[20]||(e[20]=t("button",{class:"pool-icon-btn"},[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"M21 21l-4.35-4.35"})])],-1))]),t("div",Xt,[e[25]||(e[25]=t("div",{class:"roulette-pointer"},[t("svg",{width:"24",height:"28",viewBox:"0 0 24 28",fill:"white"},[t("path",{d:"M12 28L0 6h24L12 28z"})])],-1)),(o(),i("svg",{class:A(["roulette-wheel",{spinning:g.value}]),style:W({transform:`rotate(${m.value}deg)`}),viewBox:"0 0 300 300"},[w.value.length===0?(o(),i("g",te,[...e[21]||(e[21]=[t("circle",{cx:"150",cy:"150",r:"140",fill:"#3a3a3c"},null,-1),t("circle",{cx:"150",cy:"150",r:"50",fill:"#000"},null,-1),t("text",{x:"150",y:"155","text-anchor":"middle",fill:"rgba(255,255,255,0.5)","font-size":"14"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ",-1)])])):(o(),i("g",ee,[(o(!0),i(E,null,F(w.value,(s,f)=>(o(),i("g",{key:s.id},[t("path",{d:ot(f),fill:s.color,stroke:"#1a1a1a","stroke-width":"1"},null,8,se),t("g",{transform:it(f)},[e[22]||(e[22]=t("circle",{r:"18",fill:"rgba(255,255,255,0.2)"},null,-1)),s.avatar?(o(),i("image",{key:0,href:s.avatar,x:"-14",y:"-14",width:"28",height:"28","clip-path":"url(#avatarClip)",preserveAspectRatio:"xMidYMid slice"},null,8,le)):(o(),i("text",ne,l(s.name?.charAt(0)),1))],8,ae)]))),128))])),e[23]||(e[23]=t("circle",{cx:"150",cy:"150",r:"50",fill:"#000"},null,-1)),t("text",oe,l(j.value),1),e[24]||(e[24]=t("defs",null,[t("clipPath",{id:"avatarClip"},[t("circle",{r:"14"})])],-1))],6))]),t("div",ie,[e[26]||(e[26]=t("span",{class:"status-icon"},"âš”ï¸",-1)),t("span",re,l(J.value),1)]),t("div",ce,[t("div",de,[t("span",ue,l(w.value.length)+" Ð˜Ð³Ñ€Ð¾ÐºÐ°",1),t("span",ve,"Ð˜Ð“Ð Ð #"+l(T.value),1)]),t("div",he,[(o(!0),i(E,null,F(w.value,s=>(o(),i("div",{key:s.id,class:"player-item"},[t("div",{class:"player-avatar",style:W({background:s.color})},[s.avatar?(o(),i("img",{key:0,src:s.avatar},null,8,pe)):(o(),i("span",fe,l(s.name?.charAt(0)),1))],4),t("div",me,[t("span",ge,"@"+l(s.username),1),e[27]||(e[27]=t("span",{class:"player-role"},"Ð˜Ð³Ñ€Ð¾Ðº",-1))]),t("div",_e,[t("span",we,l(s.chance)+"%",1),t("span",ye,[e[28]||(e[28]=t("svg",{class:"player-ton-icon",width:"10",height:"10",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" "+l(s.bet)+" TON ",1)])]),t("div",{class:"player-badge",style:W({background:s.color})},[e[29]||(e[29]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})],-1)),t("span",null,l(s.bet),1)],4),e[30]||(e[30]=t("svg",{class:"player-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))]))),128))])]),t("div",be,[e[33]||(e[33]=Q('<div class="filter-btns" data-v-a68f2204><button class="filter-btn red" data-v-a68f2204><span data-v-a68f2204>ðŸŽ²</span></button><button class="filter-btn blue" data-v-a68f2204><svg width="14" height="14" viewBox="0 0 56 56" fill="none" data-v-a68f2204><circle cx="28" cy="28" r="28" fill="#0098EA" data-v-a68f2204></circle><path d="M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z" fill="white" data-v-a68f2204></path></svg></button><button class="filter-btn yellow" data-v-a68f2204><img src="'+G+'" alt="Stars" width="14" height="14" data-v-a68f2204></button></div>',1)),t("div",Ce,[e[31]||(e[31]=t("svg",{class:"balance-icon-svg",width:"16",height:"16",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),t("span",ke,l(H.value),1),e[32]||(e[32]=t("button",{class:"balance-add"},"+",-1))])]),t("div",xe,[t("button",{class:"btn-add",onClick:e[1]||(e[1]=s=>S.value=!0)}," + Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² PvP "),t("button",Me,[e[34]||(e[34]=t("span",null,"ðŸ‘‘",-1)),e[35]||(e[35]=t("svg",{class:"btn-ton-icon",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),t("span",null,l(Z.value)+" TON",1)])]),t("div",Be,[e[37]||(e[37]=t("span",{class:"hash-hint"},"Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð³Ð¸Ñ„Ñ‚. Ð’Ð¾Ð¹Ð´Ð¸ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð² Ð¸Ð³Ñ€Ñƒ",-1)),t("div",Se,[t("span",null,"Hash "+l(U.value),1),e[36]||(e[36]=t("button",{class:"hash-copy"},"ðŸ”—",-1))])]),(o(),X(st,{to:"body"},[S.value?(o(),i("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=tt(s=>S.value=!1,["self"]))},[t("div",$e,[e[46]||(e[46]=t("div",{class:"modal-handle"},null,-1)),t("div",Ae,[e[38]||(e[38]=t("h3",null,"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº",-1)),t("button",{class:"modal-close",onClick:e[2]||(e[2]=s=>S.value=!1)},"Ã—")]),t("div",Le,[t("button",{class:A(["tab",{active:_.value==="ton"}]),onClick:e[3]||(e[3]=s=>_.value="ton")},[...e[39]||(e[39]=[t("svg",{class:"tab-icon",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1),b(" TON Ð“Ð¸Ñ„Ñ‚Ñ‹ ",-1)])],2),t("button",{class:A(["tab",{active:_.value==="stars"}]),onClick:e[4]||(e[4]=s=>_.value="stars")},[...e[40]||(e[40]=[t("img",{src:G,alt:"Stars",class:"tab-icon-img",width:"14",height:"14"},null,-1),b(" Stars Ð“Ð¸Ñ„Ñ‚Ñ‹ ",-1)])],2)]),t("div",Re,[e[41]||(e[41]=t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"M21 21l-4.35-4.35"})],-1)),pt(t("input",{type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð³Ð¸Ñ„Ñ‚Ð° Ð¸Ð»Ð¸ ID Ð³Ð¸Ñ„Ñ‚Ð°","onUpdate:modelValue":e[5]||(e[5]=s=>L.value=s)},null,512),[[ft,L.value]])]),t("div",Te,[e[43]||(e[43]=t("h4",{class:"section-title"},"ðŸ”¥ Ð’ Ñ‚Ñ€ÐµÐ½Ð´Ðµ",-1)),t("div",Pe,[(o(!0),i(E,null,F(P.value,s=>(o(),i("div",{key:s.id,class:A(["gift-card",{selected:p.value?.id===s.id}]),onClick:f=>p.value=s},[t("div",{class:A(["gift-radio",{checked:p.value?.id===s.id}])},null,2),t("img",{src:s.image,alt:s.name,class:"gift-img"},null,8,Ie),t("span",Ee,l(s.name),1),t("span",Fe,[_.value==="ton"?(o(),i("svg",He,[...e[42]||(e[42]=[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"},null,-1),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"},null,-1)])])):(o(),i("img",Ze)),b(" "+l(s.price)+" "+l(_.value==="ton"?"TON":"Stars"),1)])],10,Ne))),128))])]),t("div",Oe,[e[45]||(e[45]=t("h4",{class:"section-title"},"ðŸŽ Ð’ÑÐµ",-1)),t("div",ze,[(o(!0),i(E,null,F(at.value,s=>(o(),i("div",{key:s.id,class:A(["gift-card",{selected:p.value?.id===s.id}]),onClick:f=>p.value=s},[t("div",{class:A(["gift-radio",{checked:p.value?.id===s.id}])},null,2),t("img",{src:s.image,alt:s.name,class:"gift-img"},null,8,Ge),t("span",Ve,l(s.name),1),t("span",De,[_.value==="ton"?(o(),i("svg",Ue,[...e[44]||(e[44]=[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"},null,-1),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"},null,-1)])])):(o(),i("img",je)),b(" "+l(s.price)+" "+l(_.value==="ton"?"TON":"Stars"),1)])],10,We))),128))])]),t("button",{class:"modal-submit",disabled:!p.value,onClick:rt}," ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ",8,Je)])])):et("",!0)])),(o(),X(st,{to:"body"},[$.value?(o(),i("div",{key:0,class:"modal-overlay",onClick:e[9]||(e[9]=tt(s=>$.value=!1,["self"]))},[t("div",Ye,[t("div",qe,[t("h3",null,"Ð˜Ð³Ñ€Ð° #"+l(T.value),1),t("button",{class:"modal-close",onClick:e[7]||(e[7]=s=>$.value=!1)},"Ã—")]),t("div",Ke,[t("div",Qe,[C.value?.avatar?(o(),i("img",{key:0,src:C.value.avatar},null,8,Xe)):(o(),i("span",ts,l(C.value?.name?.charAt(0)),1))]),t("div",es,[t("span",ss,"@"+l(C.value?.username),1),e[47]||(e[47]=t("span",{class:"winner-label"},"ÐŸÐ¾Ð±ÐµÐ´Ð¸Ñ‚ÐµÐ»ÑŒ",-1))]),t("div",as,[t("span",ls,[e[48]||(e[48]=b(" Ð’Ñ‹Ð¸Ð³Ñ€Ð°Ð» ",-1)),e[49]||(e[49]=t("svg",{class:"prize-ton-icon",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" "+l(R.value)+" TON ",1)]),t("span",ns,l(C.value?.chance)+"%",1)])]),t("div",os,[e[51]||(e[51]=t("div",{class:"gift-won"},[t("svg",{class:"gift-icon-svg",width:"24",height:"24",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})])],-1)),t("span",is,[e[50]||(e[50]=t("svg",{class:"gift-ton-icon",width:"14",height:"14",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),b(" "+l(R.value)+" TON ",1)])]),t("button",{class:"btn-done",onClick:e[8]||(e[8]=s=>$.value=!1)},"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾")])])):et("",!0)]))]))}}),ps=xt(rs,[["__scopeId","data-v-a68f2204"]]);export{ps as default};
