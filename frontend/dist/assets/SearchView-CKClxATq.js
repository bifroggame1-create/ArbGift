import{d as b,b as a,e,x as k,y as w,F as p,j as m,B as S,k as y,t as d,r as c,a as s}from"./vue-Cjsr3efg.js";import{s as B,b as C}from"./client-C6ea1EVy.js";import{G as T}from"./GiftCard-JamG1R68.js";import{_ as V}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-Bj9jUMOa.js";import"./index-D5GkNzM3.js";import"./index-V1hJukyr.js";const F={class:"max-w-7xl mx-auto px-4 py-6"},G={class:"mb-6"},N={class:"relative"},j={key:0,class:"mb-6"},D={class:"bg-gray-800 rounded-xl p-2 space-y-1"},E=["onClick"],I={key:2},M={class:"mb-4 text-gray-400"},$={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},q={key:3,class:"text-center py-16"},z={key:4,class:"text-center py-16"},Q=b({__name:"SearchView",setup(A){const o=c(""),r=c([]),i=c([]),u=c(!1);let v;const f=()=>{clearTimeout(v),v=setTimeout(async()=>{if(o.value.length<2){r.value=[],i.value=[];return}await Promise.all([g(),x()])},300)},g=async()=>{try{u.value=!0;const t=await B(o.value);r.value=t.hits||t.results||[]}catch(t){console.error("Search failed:",t),r.value=[]}finally{u.value=!1}},x=async()=>{try{const t=await C(o.value);i.value=t.suggestions||[]}catch(t){console.error("Autocomplete failed:",t),i.value=[]}},h=t=>{o.value=t,i.value=[],g()};return(t,l)=>(s(),a("div",F,[e("div",G,[e("div",N,[k(e("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>o.value=n),type:"text",placeholder:"Search gifts...",class:"w-full px-4 py-3 pl-12 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:f},null,544),[[w,o.value]]),l[1]||(l[1]=e("svg",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),i.value.length>0&&o.value?(s(),a("div",j,[e("div",D,[(s(!0),a(p,null,m(i.value,(n,_)=>(s(),a("button",{key:_,class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors",onClick:L=>h(n)},d(n),9,E))),128))])])):S("",!0),u.value?(s(),y(V,{key:1})):r.value.length>0?(s(),a("div",I,[e("div",M," Found "+d(r.value.length)+" result"+d(r.value.length!==1?"s":""),1),e("div",$,[(s(!0),a(p,null,m(r.value,n=>(s(),y(T,{key:n.id,gift:n},null,8,["gift"]))),128))])])):o.value?(s(),a("div",q,[...l[2]||(l[2]=[e("div",{class:"text-6xl mb-4"},"ğŸ”",-1),e("h3",{class:"text-xl font-semibold mb-2"},"No results found",-1),e("p",{class:"text-gray-400"},"Try different keywords",-1)])])):(s(),a("div",z,[...l[3]||(l[3]=[e("div",{class:"text-6xl mb-4"},"ğŸ",-1),e("h3",{class:"text-xl font-semibold mb-2"},"Search for gifts",-1),e("p",{class:"text-gray-400"},"Enter a keyword to get started",-1)])]))]))}});export{Q as default};
