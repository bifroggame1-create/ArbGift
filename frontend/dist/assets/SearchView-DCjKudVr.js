import{d as p,o as t,h as f,u as $,w as C,b as e,c as l,n as S,t as d,v as y,a as T,z as B,A as j,F as h,g as b,r as m}from"./vue-TADZIX6E.js";import{s as z,b as N}from"./client-bnENCLSy.js";import{u as V}from"./index-iTE5fw3g.js";import{_ as F,a as I}from"./PriceTag.vue_vue_type_script_setup_true_lang-BY-IqKG2.js";import"./index-D5GkNzM3.js";const q={class:"relative aspect-square bg-gradient-to-br from-gray-700 to-gray-900"},A=["src","alt"],D={key:1,class:"flex items-center justify-center h-full text-6xl"},E={class:"p-3"},G={class:"font-semibold text-sm mb-1 truncate"},L={class:"flex items-center justify-between"},M={key:1,class:"text-gray-500 text-sm"},P={key:2,class:"text-xs text-gray-400"},U=p({__name:"GiftCard",props:{gift:{}},setup(s){const{hapticImpact:a}=V(),r=n=>{const i={common:"bg-gray-600/80 text-gray-200",uncommon:"bg-green-600/80 text-green-100",rare:"bg-blue-600/80 text-blue-100",epic:"bg-purple-600/80 text-purple-100",legendary:"bg-yellow-600/80 text-yellow-100"};return i[n.toLowerCase()]||i.common};return(n,i)=>{const g=T("router-link");return t(),f(g,{to:`/gift/${s.gift.id}`,class:"block bg-gray-800 rounded-xl overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all transform hover:scale-[1.02]",onClick:i[0]||(i[0]=v=>$(a)("light"))},{default:C(()=>[e("div",q,[s.gift.image_url?(t(),l("img",{key:0,src:s.gift.image_url,alt:s.gift.name,class:"w-full h-full object-cover",loading:"lazy"},null,8,A)):(t(),l("div",D," ğŸ ")),s.gift.rarity?(t(),l("div",{key:2,class:S(["absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm",r(s.gift.rarity)])},d(s.gift.rarity),3)):y("",!0)]),e("div",E,[e("h3",G,d(s.gift.name),1),e("div",L,[s.gift.min_price_ton?(t(),f(F,{key:0,price:s.gift.min_price_ton},null,8,["price"])):(t(),l("span",M,"Not on sale")),s.gift.listings_count>0?(t(),l("span",P,d(s.gift.listings_count)+" listing"+d(s.gift.listings_count>1?"s":""),1)):y("",!0)])])]),_:1},8,["to"])}}}),H={class:"max-w-7xl mx-auto px-4 py-6"},J={class:"mb-6"},K={class:"relative"},O={key:0,class:"mb-6"},Q={class:"bg-gray-800 rounded-xl p-2 space-y-1"},R=["onClick"],W={key:2},X={class:"mb-4 text-gray-400"},Y={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},Z={key:3,class:"text-center py-16"},ee={key:4,class:"text-center py-16"},ne=p({__name:"SearchView",setup(s){const a=m(""),r=m([]),n=m([]),i=m(!1);let g;const v=()=>{clearTimeout(g),g=setTimeout(async()=>{if(a.value.length<2){r.value=[],n.value=[];return}await Promise.all([x(),_()])},300)},x=async()=>{try{i.value=!0;const o=await z(a.value);r.value=o.hits||o.results||[]}catch(o){console.error("Search failed:",o),r.value=[]}finally{i.value=!1}},_=async()=>{try{const o=await N(a.value);n.value=o.suggestions||[]}catch(o){console.error("Autocomplete failed:",o),n.value=[]}},k=o=>{a.value=o,n.value=[],x()};return(o,c)=>(t(),l("div",H,[e("div",J,[e("div",K,[B(e("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>a.value=u),type:"text",placeholder:"Search gifts...",class:"w-full px-4 py-3 pl-12 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:v},null,544),[[j,a.value]]),c[1]||(c[1]=e("svg",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),n.value.length>0&&a.value?(t(),l("div",O,[e("div",Q,[(t(!0),l(h,null,b(n.value,(u,w)=>(t(),l("button",{key:w,class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors",onClick:te=>k(u)},d(u),9,R))),128))])])):y("",!0),i.value?(t(),f(I,{key:1})):r.value.length>0?(t(),l("div",W,[e("div",X," Found "+d(r.value.length)+" result"+d(r.value.length!==1?"s":""),1),e("div",Y,[(t(!0),l(h,null,b(r.value,u=>(t(),f(U,{key:u.id,gift:u},null,8,["gift"]))),128))])])):a.value?(t(),l("div",Z,[...c[2]||(c[2]=[e("div",{class:"text-6xl mb-4"},"ğŸ”",-1),e("h3",{class:"text-xl font-semibold mb-2"},"No results found",-1),e("p",{class:"text-gray-400"},"Try different keywords",-1)])])):(t(),l("div",ee,[...c[3]||(c[3]=[e("div",{class:"text-6xl mb-4"},"ğŸ",-1),e("h3",{class:"text-xl font-semibold mb-2"},"Search for gifts",-1),e("p",{class:"text-gray-400"},"Enter a keyword to get started",-1)])]))]))}});export{ne as default};
