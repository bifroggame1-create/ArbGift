import{d as q,o as J,E as K,b as l,e as t,F as p,j as h,t as n,n as v,x as Q,y as W,h as m,w as _,H as X,r as a,c as Y,g as Z,a as o,D as F}from"./vue-B64cNy51.js";import{_ as tt}from"./index-BV-wefLJ.js";const et={class:"trading-view"},st={class:"stars-bg"},at={class:"trading-header"},nt={class:"header-balance"},lt={class:"balance-value"},ot={class:"connection-bar"},it={class:"game-info"},ut={class:"hash-text"},rt={class:"chart-container"},ct={key:0,class:"multiplier-active"},dt={key:1,class:"multiplier-crashed"},vt={class:"crash-value"},pt={class:"next-game"},ht={key:2,class:"multiplier-waiting"},mt={class:"chart-grid"},_t={class:"candles-row"},gt={class:"traders-panel"},bt={class:"traders-header"},ft={class:"traders-count"},yt={class:"traders-list"},wt={class:"trader-info"},kt={class:"trader-name"},xt={class:"trader-bet"},Ct={key:0,class:"status-won"},Mt={key:1},Tt={key:2,class:"status-waiting"},$t={class:"bet-controls"},Bt={class:"bet-amounts"},Nt=["onClick"],Ft={class:"amount-value"},It={class:"custom-bet"},Ot={class:"action-buttons"},St=["disabled"],At={class:"btn-text"},Dt=["disabled"],Ht={class:"btn-text"},Vt={class:"auto-cashout"},Pt={class:"auto-options"},zt=["onClick"],Et={class:"notif-icon"},Gt={class:"notif-text"},Rt={class:"bottom-nav"},Ut=q({__name:"TradingView",setup(jt){const C=a(4.16),c=a(1),r=a("pending"),I=a(0),f=a(5),O=a(28392),H=a(12),V=a("3d07...f8da"),M=a("Connecting..."),P=[.5,1,2,5],T=a(1),$=a(null),z=[1.5,2,3,5,10],y=a(null),i=a(null),w=a(!1),k=a(!1),g=Y(()=>$.value||T.value),E=a([{id:1,name:"trader1",bet:2.5,color:"#22c55e",status:"playing",multiplier:1.45},{id:2,name:"winner99",bet:1,color:"#3b82f6",status:"won",profit:1.8},{id:3,name:"lucky_star",bet:5,color:"#ec4899",status:"waiting"}]),G=a([{type:"green",height:25},{type:"red",height:18},{type:"green",height:32},{type:"green",height:28},{type:"red",height:15},{type:"green",height:40},{type:"red",height:22},{type:"green",height:35}]),x=a([]);let R=0;const B=(u,e)=>{const d=++R;x.value.push({id:d,type:u,message:e}),setTimeout(()=>{x.value=x.value.filter(s=>s.id!==d)},3e3)},S=a(null),U=a(null),j=u=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`});let b=null;const A=()=>{r.value="active",c.value=1,b=window.setInterval(()=>{if(r.value==="active"){if(c.value+=Math.random()*.05+.01,Math.random()<.02||c.value>10){I.value=c.value,r.value="crashed",i.value&&(i.value=null,B("sell",`ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ñ‹Ñˆ -${g.value} TON`)),f.value=5;const u=setInterval(()=>{f.value--,f.value<=0&&(clearInterval(u),r.value="pending",O.value++,setTimeout(A,2e3))},1e3);b&&clearInterval(b)}y.value&&i.value&&c.value>=y.value&&D()}},100)},L=async()=>{r.value==="pending"&&(w.value=!0,await new Promise(u=>setTimeout(u,500)),i.value={id:Date.now(),bet_amount:g.value},C.value-=g.value,B("buy",`ÐšÑƒÐ¿Ð»ÐµÐ½Ð¾ Ð·Ð° ${g.value} TON`),w.value=!1)},D=async()=>{if(!i.value||r.value!=="active")return;k.value=!0,await new Promise(e=>setTimeout(e,300));const u=i.value.bet_amount*c.value;C.value+=u,B("sell",`ÐŸÑ€Ð¾Ð´Ð°Ð½Ð¾ Ð·Ð° ${u.toFixed(2)} TON (+${(u-i.value.bet_amount).toFixed(2)})`),i.value=null,k.value=!1};return J(()=>{M.value="Connected",setTimeout(A,2e3)}),K(()=>{b&&clearInterval(b),S.value&&S.value.close()}),(u,e)=>{const d=Z("router-link");return o(),l("div",et,[t("div",st,[(o(),l(p,null,h(20,s=>t("div",{key:s,class:"star",style:F(j())},null,4)),64))]),t("header",at,[t("button",{class:"header-back",onClick:e[0]||(e[0]=s=>u.$router.push("/solo"))},[...e[2]||(e[2]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e[5]||(e[5]=t("div",{class:"header-title"},[t("span",{class:"title-main"},"Trading"),t("span",{class:"title-badge"},"CRASH")],-1)),t("div",nt,[e[3]||(e[3]=t("span",{class:"balance-icon"},"ðŸ’Ž",-1)),t("span",lt,n(C.value.toFixed(2)),1),e[4]||(e[4]=t("button",{class:"balance-add"},"+",-1))])]),t("div",ot,[t("div",{class:v(["connection-status",{connected:M.value==="Connected"}])},[e[6]||(e[6]=t("span",{class:"status-dot"},null,-1)),t("span",null,n(M.value),1)],2),t("div",it,[t("span",null,"Ð˜Ð“Ð Ð #"+n(O.value),1),t("span",ut,n(V.value),1)])]),t("div",rt,[t("div",{class:v(["multiplier-overlay",{crashed:r.value==="crashed"}])},[r.value==="active"?(o(),l("div",ct,[t("span",{class:v(["multiplier-value",{high:c.value>=2}])},n(c.value.toFixed(2))+"x ",3),e[7]||(e[7]=t("span",{class:"multiplier-label"},"ÐœÐÐžÐ–Ð˜Ð¢Ð•Ð›Ð¬",-1))])):r.value==="crashed"?(o(),l("div",dt,[t("span",vt,n(I.value.toFixed(2))+"x",1),e[8]||(e[8]=t("span",{class:"crash-label"},"CRASHED!",-1)),t("span",pt,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ Ð¸Ð³Ñ€Ð° Ñ‡ÐµÑ€ÐµÐ· "+n(f.value)+"Ñ",1)])):(o(),l("div",ht,[...e[9]||(e[9]=[t("span",{class:"waiting-text"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²...",-1),t("span",{class:"waiting-sub"},"Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð°Ð²ÐºÑƒ",-1)])]))],2),t("div",{ref_key:"chartContainer",ref:U,class:"chart-canvas"},null,512),t("div",mt,[(o(),l(p,null,h(5,s=>t("div",{class:"grid-line",key:s})),64))]),t("div",_t,[(o(!0),l(p,null,h(G.value,(s,N)=>(o(),l("div",{key:N,class:v(["candle",s.type]),style:F({height:s.height+"px"})},null,6))),128))])]),t("div",gt,[t("div",bt,[e[10]||(e[10]=t("span",{class:"traders-title"},"Ð˜Ð³Ñ€Ð¾ÐºÐ¸",-1)),t("span",ft,n(H.value),1)]),t("div",yt,[(o(!0),l(p,null,h(E.value,s=>(o(),l("div",{key:s.id,class:"trader-item"},[t("div",{class:"trader-avatar",style:F({background:s.color})},n(s.name.charAt(0)),5),t("div",wt,[t("span",kt,"@"+n(s.name),1),t("span",xt,n(s.bet)+" TON",1)]),t("div",{class:v(["trader-status",s.status])},[s.status==="won"?(o(),l("span",Ct,"+"+n(s.profit),1)):s.status==="playing"?(o(),l("span",Mt,n(s.multiplier)+"x",1)):(o(),l("span",Tt,"â³"))],2)]))),128))])]),t("div",$t,[t("div",Bt,[(o(),l(p,null,h(P,s=>t("button",{key:s,class:v(["bet-amount",{active:T.value===s}]),onClick:N=>T.value=s},[t("span",Ft,n(s),1),e[11]||(e[11]=t("span",{class:"amount-icon"},"ðŸ’Ž",-1))],10,Nt)),64))]),t("div",It,[Q(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=s=>$.value=s),placeholder:"Ð¡Ð²Ð¾Ñ ÑÑƒÐ¼Ð¼Ð°",class:"bet-input"},null,512),[[W,$.value,void 0,{number:!0}]]),e[12]||(e[12]=t("span",{class:"input-icon"},"TON",-1))]),t("div",Ot,[t("button",{class:"btn-buy",disabled:r.value!=="pending"||w.value,onClick:L},[e[13]||(e[13]=t("span",{class:"btn-icon"},"ðŸ“ˆ",-1)),t("span",At,n(w.value?"ÐŸÐ¾ÐºÑƒÐ¿Ð°ÐµÐ¼...":`ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ ${g.value} TON`),1)],8,St),t("button",{class:"btn-sell",disabled:!i.value||r.value!=="active"||k.value,onClick:D},[e[14]||(e[14]=t("span",{class:"btn-icon"},"ðŸ“‰",-1)),t("span",Ht,n(k.value?"ÐŸÑ€Ð¾Ð´Ð°Ñ‘Ð¼...":i.value?`ÐŸÑ€Ð¾Ð´Ð°Ñ‚ÑŒ +${(i.value.bet_amount*c.value-i.value.bet_amount).toFixed(2)}`:"ÐŸÑ€Ð¾Ð´Ð°Ñ‚ÑŒ"),1)],8,Dt)]),t("div",Vt,[e[15]||(e[15]=t("span",{class:"auto-label"},"ÐÐ²Ñ‚Ð¾-Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð° Ð½Ð°:",-1)),t("div",Pt,[(o(),l(p,null,h(z,s=>t("button",{key:s,class:v(["auto-btn",{active:y.value===s}]),onClick:N=>y.value=s},n(s)+"x ",11,zt)),64))])])]),m(X,{name:"notification",tag:"div",class:"notifications"},{default:_(()=>[(o(!0),l(p,null,h(x.value,s=>(o(),l("div",{key:s.id,class:v(["notification",s.type])},[t("span",Et,n(s.type==="buy"?"ðŸ“ˆ":"ðŸ“‰"),1),t("span",Gt,n(s.message),1)],2))),128))]),_:1}),t("nav",Rt,[m(d,{to:"/pvp",class:"nav-item"},{default:_(()=>[...e[16]||(e[16]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 4l4 4m8 8l4 4M4 20l4-4m8-8l4-4M12 12l-8 8m16 0l-8-8m0 0l8-8M4 4l8 8"})],-1),t("span",null,"ÐŸÐ²ÐŸ",-1)])]),_:1}),m(d,{to:"/solo",class:"nav-item active"},{default:_(()=>[...e[17]||(e[17]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),t("span",null,"Ð¡Ð¾Ð»Ð¾",-1)])]),_:1}),m(d,{to:"/inventory",class:"nav-item"},{default:_(()=>[...e[18]||(e[18]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),t("path",{d:"M3 9h18M9 21V9"})],-1),t("span",null,"Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ",-1)])]),_:1}),m(d,{to:"/shop",class:"nav-item"},{default:_(()=>[...e[19]||(e[19]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),t("span",null,"ÐœÐ°Ð³Ð°Ð·Ð¸Ð½",-1)])]),_:1}),m(d,{to:"/profile",class:"nav-item"},{default:_(()=>[...e[20]||(e[20]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),t("circle",{cx:"12",cy:"7",r:"4"})],-1),t("span",null,"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",-1)])]),_:1})])])}}}),Jt=tt(Ut,[["__scopeId","data-v-f1a19081"]]);export{Jt as default};
