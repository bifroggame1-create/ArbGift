import{d as b,b as o,e as t,t as r,c as N,a as s,o as B,j as g,k as n,n as $,h as p,F,v as V,w as j,r as u,g as G,i as P,u as T,f as A}from"./vue-CF-r4DcL.js";import{b as z,c as D}from"./client-COG1KRRB.js";import{_ as f}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-Cc0AO_nH.js";import{u as E}from"./index-BrllXF1s.js";const M={class:"flex items-center space-x-1"},q={class:"font-bold text-white"},y=b({__name:"PriceTag",props:{price:{}},setup(_){const c=_,m=N(()=>(typeof c.price=="string"?parseFloat(c.price):c.price).toFixed(2));return(e,i)=>(s(),o("div",M,[i[0]||(i[0]=t("svg",{class:"w-4 h-4 flex-shrink-0",viewBox:"0 0 56 56",fill:"none"},[t("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),t("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),t("span",q,r(m.value),1),i[1]||(i[1]=t("span",{class:"text-xs text-gray-400"},"TON",-1))]))}}),H={class:"max-w-4xl mx-auto px-4 py-6"},I={key:1},O={class:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl overflow-hidden mb-6"},R={class:"aspect-square max-w-md mx-auto p-8"},S=["src","alt"],Z={key:1,class:"flex items-center justify-center h-full text-9xl"},J={class:"bg-gray-800 rounded-2xl p-6 mb-6"},K={class:"flex items-start justify-between mb-4"},Q={class:"text-2xl font-bold mb-2"},U={key:0,class:"text-gray-400 text-sm"},W={key:0,class:"text-gray-300 mb-4"},X={key:1,class:"flex flex-wrap gap-2 mb-4"},Y={key:0,class:"px-3 py-1 bg-gray-700 rounded-full text-sm"},ee={key:1,class:"px-3 py-1 bg-gray-700 rounded-full text-sm"},te={key:2,class:"border-t border-gray-700 pt-4"},se={class:"bg-gray-800 rounded-2xl p-6"},le={class:"text-xl font-bold mb-4"},oe={key:1,class:"space-y-3"},ae=["href"],re={class:"flex items-center justify-between"},ie={class:"font-semibold text-lg mb-1"},ne={class:"text-gray-400 text-xs truncate"},ce={class:"text-right"},de={key:2,class:"text-center py-8 text-gray-400"},ue={key:2,class:"text-center py-16"},ge=b({__name:"GiftDetailView",setup(_){const c=P(),{hapticImpact:m}=E(),e=u(null),i=u([]),x=u(!0),v=u(!0),h=async()=>{try{const a=Number(c.params.id);e.value=await z(a)}catch(a){console.error("Failed to load gift:",a)}finally{x.value=!1}},k=async()=>{try{const a=Number(c.params.id),l=await D(a);i.value=l.listings||[]}catch(a){console.error("Failed to load listings:",a)}finally{v.value=!1}},w=a=>a?`${a.slice(0,6)}...${a.slice(-4)}`:"",C=a=>{const l={common:"bg-gray-600 text-gray-100",uncommon:"bg-green-600 text-green-100",rare:"bg-blue-600 text-blue-100",epic:"bg-purple-600 text-purple-100",legendary:"bg-yellow-600 text-yellow-100"};return l[a.toLowerCase()]||l.common};return B(async()=>{await Promise.all([h(),k()])}),(a,l)=>{const L=G("router-link");return s(),o("div",H,[x.value?(s(),g(f,{key:0,"full-height":!0})):e.value?(s(),o("div",I,[t("div",O,[t("div",R,[e.value.image_url?(s(),o("img",{key:0,src:e.value.image_url,alt:e.value.name,class:"w-full h-full object-contain"},null,8,S)):(s(),o("div",Z," üéÅ "))])]),t("div",J,[t("div",K,[t("div",null,[t("h1",Q,r(e.value.name),1),e.value.collection_name?(s(),o("p",U,r(e.value.collection_name),1)):n("",!0)]),e.value.rarity?(s(),o("div",{key:0,class:$(["px-3 py-1 rounded-full text-sm font-semibold",C(e.value.rarity)])},r(e.value.rarity),3)):n("",!0)]),e.value.description?(s(),o("p",W,r(e.value.description),1)):n("",!0),e.value.backdrop||e.value.model?(s(),o("div",X,[e.value.backdrop?(s(),o("span",Y," üé® "+r(e.value.backdrop),1)):n("",!0),e.value.model?(s(),o("span",ee," üéÅ "+r(e.value.model),1)):n("",!0)])):n("",!0),e.value.min_price_ton?(s(),o("div",te,[l[1]||(l[1]=t("div",{class:"text-gray-400 text-sm mb-1"},"Best Price",-1)),p(y,{price:e.value.min_price_ton,class:"text-2xl"},null,8,["price"])])):n("",!0)]),t("div",se,[t("h2",le," Available Listings ("+r(i.value.length)+") ",1),v.value?(s(),g(f,{key:0,size:"sm"})):i.value.length>0?(s(),o("div",oe,[(s(!0),o(F,null,V(i.value,d=>(s(),o("a",{key:d.id,href:d.listing_url,target:"_blank",class:"block bg-gray-900 rounded-xl p-4 hover:ring-2 hover:ring-blue-500 transition-all",onClick:l[0]||(l[0]=me=>T(m)("medium"))},[t("div",re,[t("div",null,[t("div",ie,r(d.market_name),1),t("div",ne,r(w(d.seller_address)),1)]),t("div",ce,[p(y,{price:d.price_ton},null,8,["price"]),l[2]||(l[2]=t("div",{class:"text-xs text-blue-400 mt-1"},"View ‚Üí",-1))])])],8,ae))),128))])):(s(),o("div",de," No active listings "))])])):(s(),o("div",ue,[l[4]||(l[4]=t("div",{class:"text-6xl mb-4"},"üòï",-1)),l[5]||(l[5]=t("h3",{class:"text-xl font-semibold mb-2"},"Gift not found",-1)),p(L,{to:"/",class:"text-blue-400 hover:text-blue-300"},{default:j(()=>[...l[3]||(l[3]=[A(" ‚Üê Back to all gifts ",-1)])]),_:1})]))])}}});export{ge as default};
