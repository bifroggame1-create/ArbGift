import{d as Q,o as tt,G as et,b as n,e,F as B,v as I,f as at,t as p,k as $,E as O,x as V,y as E,n as G,r as i,c as g,a as o}from"./vue-CF-r4DcL.js";import{_ as st}from"./index-BNLjFMtA.js";const lt={class:"rocket-game"},nt={class:"stars-bg"},ot={class:"game-header"},it={class:"online-badge"},ut={class:"history-bar"},rt={class:"game-area"},dt={class:"rocket-canvas"},vt={class:"trail-svg",viewBox:"0 0 300 300",preserveAspectRatio:"none"},ct={id:"trailGrad",x1:"0",y1:"1",x2:"1",y2:"0"},pt=["stop-color"],ht=["d"],ft=["d","fill"],mt={class:"multiplier-display"},gt={key:0,class:"waiting-text"},yt={class:"waiting-timer"},_t={key:1,class:"flying-multiplier"},bt={key:2,class:"crashed-multiplier"},kt={class:"crash-value"},wt={class:"bet-panel"},xt={class:"bet-row"},Mt={class:"bet-input-group"},$t={class:"bet-input-wrap"},Ct={class:"quick-bets"},Ft={class:"bet-input-group"},Bt={class:"bet-input-wrap"},It=["disabled"],Ot={class:"players-bar"},Tt={class:"players-header-bar"},At={class:"total-pool"},Dt={class:"players-list"},St={class:"p-name"},Nt={class:"p-bet"},Pt={key:0,class:"p-cashout green"},Rt={key:1,class:"p-cashout red"},Vt={key:2,class:"p-cashout waiting"},Et=Q({__name:"RocketView",setup(Gt){const l=i("waiting"),c=i(1),y=i(0),u=i(.5),b=i(null),d=i(!1),h=i(!1),k=i(5),T=i(147),C=i(0),w=i([2.41,1.23,5.67,1.08,3.12,1.92,7.84,1.45,2.33,1.11]),_=i(0),A=i(150),D=i(280),m=i([]),L=g(()=>{const s=[],t=Math.floor(_.value*50);for(let a=0;a<=t;a++){const r=a/50,v=r*280+10,f=280-Math.pow(r,.7)*260;s.push(a===0?`M ${v} ${f}`:`L ${v} ${f}`)}return s.join(" ")}),j=g(()=>{const s=Math.floor(_.value*50);if(s<1)return"";let t="";for(let v=0;v<=s;v++){const f=v/50,P=f*280+10,R=280-Math.pow(f,.7)*260;t+=v===0?`M ${P} ${R}`:` L ${P} ${R}`}const r=s/50*280+10;return t+=` L ${r} 290 L 10 290 Z`,t}),U=g(()=>{const s=_.value,t=s*280+10,a=280-Math.pow(s,.7)*260;return A.value=t,D.value=a,{left:`${t/300*100}%`,bottom:`${(300-a)/300*100}%`}}),z=g(()=>({left:`${A.value/300*100}%`,bottom:`${(300-D.value)/300*100}%`})),X=g(()=>l.value==="waiting"?d.value?"cancel":"bet":l.value==="flying"?d.value&&!h.value?"cashout":"disabled":"bet"),q=g(()=>l.value==="waiting"?d.value?"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ð²ÐºÑƒ":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`:l.value==="flying"?d.value&&!h.value?`Ð—Ð°Ð±Ñ€Ð°Ñ‚ÑŒ ${(u.value*c.value).toFixed(2)} TON`:"ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ...":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`),H=g(()=>l.value==="flying"&&(!d.value||h.value));function S(s){u.value=Math.max(.1,+(u.value+s).toFixed(2))}function K(){if(l.value==="waiting")d.value=!d.value;else if(l.value==="flying"&&d.value&&!h.value){h.value=!0;const s=m.value.find(t=>t.id===99);s&&(s.cashedOut=!0,s.cashoutAt=c.value)}else l.value==="crashed"&&(d.value=!0)}function W(s){return{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`}}function Y(){const s=Math.random();return Math.min(Math.max(1,(1-.03)/(1-s)),100)}function Z(){const s=["CryptoKing","TonMaster","DegenBoy","Player42","LuckyGirl","BigBet","SmallFish","WhaleAlert"],t=Math.floor(Math.random()*5)+3,a=[];let r=0;for(let v=0;v<t;v++){const f=+(Math.random()*5+.1).toFixed(2);r+=f,a.push({id:v,username:s[v%s.length],amount:f,cashedOut:!1})}return C.value=r,a}let x=null,M=null;function N(){l.value="waiting",c.value=1,_.value=0,h.value=!1,k.value=5,m.value=Z(),d.value&&(m.value.push({id:99,username:"Ð¢Ñ‹",amount:u.value,cashedOut:!1}),C.value+=u.value),M=window.setInterval(()=>{k.value-=.1,k.value<=0&&(clearInterval(M),J())},100)}function J(){l.value="flying",y.value=Y();const s=Date.now();x=window.setInterval(()=>{const t=(Date.now()-s)/1e3;c.value=Math.pow(Math.E,.06*t),_.value=Math.min(1,t/20);for(const a of m.value)if(!a.cashedOut&&a.id!==99){const r=1.1+Math.random()*(y.value-1.1)*.8;c.value>=r&&(a.cashedOut=!0,a.cashoutAt=c.value)}if(d.value&&!h.value&&b.value&&c.value>=b.value){h.value=!0;const a=m.value.find(r=>r.id===99);a&&(a.cashedOut=!0,a.cashoutAt=c.value)}c.value>=y.value&&(clearInterval(x),l.value="crashed",c.value=y.value,w.value.unshift(y.value),w.value.length>10&&w.value.pop(),setTimeout(()=>{d.value=!1,N()},3e3))},50)}let F=null;return tt(()=>{N(),F=window.setInterval(()=>{T.value=Math.floor(Math.random()*50)+120},5e3)}),et(()=>{x&&clearInterval(x),M&&clearInterval(M),F&&clearInterval(F)}),(s,t)=>(o(),n("div",lt,[e("div",nt,[(o(),n(B,null,I(40,a=>e("div",{key:a,class:"star",style:O(W())},null,4)),64))]),e("header",ot,[e("button",{class:"back-btn",onClick:t[0]||(t[0]=a=>s.$router.back())},[...t[9]||(t[9]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),t[11]||(t[11]=e("div",{class:"game-title"},[e("span",{class:"rocket-icon-title"},"ðŸš€"),e("span",null,"Rocket")],-1)),e("div",it,[t[10]||(t[10]=e("span",{class:"online-dot"},null,-1)),at(" "+p(T.value),1)])]),e("div",ut,[(o(!0),n(B,null,I(w.value,(a,r)=>(o(),n("div",{key:r,class:G(["history-item",a>=2?"green":"red"])},p(a.toFixed(2))+"x ",3))),128))]),e("div",rt,[e("div",dt,[(o(),n("svg",vt,[e("defs",null,[e("linearGradient",ct,[t[12]||(t[12]=e("stop",{offset:"0%","stop-color":"transparent"},null,-1)),e("stop",{offset:"100%","stop-color":l.value==="crashed"?"#ef4444":"#22c55e"},null,8,pt)])]),l.value!=="waiting"?(o(),n("path",{key:0,d:L.value,fill:"none",stroke:"url(#trailGrad)","stroke-width":"3","stroke-linecap":"round"},null,8,ht)):$("",!0),l.value!=="waiting"?(o(),n("path",{key:1,d:j.value,fill:l.value==="crashed"?"rgba(239,68,68,0.1)":"rgba(34,197,94,0.1)"},null,8,ft)):$("",!0)])),l.value==="flying"?(o(),n("div",{key:0,class:"rocket-sprite",style:O(U.value)}," ðŸš€ ",4)):$("",!0),l.value==="crashed"?(o(),n("div",{key:1,class:"explosion",style:O(z.value)}," ðŸ’¥ ",4)):$("",!0),e("div",mt,[l.value==="waiting"?(o(),n("div",gt,[t[13]||(t[13]=e("span",{class:"waiting-label"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ...",-1)),e("span",yt,p(k.value.toFixed(1))+"s",1)])):l.value==="flying"?(o(),n("div",_t,p(c.value.toFixed(2))+"x ",1)):(o(),n("div",bt,[t[14]||(t[14]=e("span",{class:"crash-label"},"CRASHED",-1)),e("span",kt,p(y.value.toFixed(2))+"x",1)]))])])]),e("div",wt,[e("div",xt,[e("div",Mt,[t[15]||(t[15]=e("label",null,"Ð¡Ñ‚Ð°Ð²ÐºÐ°",-1)),e("div",$t,[e("button",{class:"bet-adjust",onClick:t[1]||(t[1]=a=>S(-.1))},"-"),V(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=a=>u.value=a),min:"0.1",step:"0.1"},null,512),[[E,u.value,void 0,{number:!0}]]),e("button",{class:"bet-adjust",onClick:t[3]||(t[3]=a=>S(.1))},"+")]),e("div",Ct,[e("button",{onClick:t[4]||(t[4]=a=>u.value=.1)},"0.1"),e("button",{onClick:t[5]||(t[5]=a=>u.value=.5)},"0.5"),e("button",{onClick:t[6]||(t[6]=a=>u.value=1)},"1"),e("button",{onClick:t[7]||(t[7]=a=>u.value=5)},"5")])]),e("div",Ft,[t[16]||(t[16]=e("label",null,"ÐÐ²Ñ‚Ð¾-Ð²Ñ‹Ð²Ð¾Ð´",-1)),e("div",Bt,[V(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=a=>b.value=a),min:"1.1",step:"0.1",placeholder:"x2.00"},null,512),[[E,b.value,void 0,{number:!0}]])])])]),e("button",{class:G(["action-btn",X.value]),onClick:K,disabled:H.value},p(q.value),11,It)]),e("div",Ot,[e("div",Tt,[e("span",null,"Ð˜Ð³Ñ€Ð¾ÐºÐ¸ ("+p(m.value.length)+")",1),e("span",At,p(C.value.toFixed(2))+" TON",1)]),e("div",Dt,[(o(!0),n(B,null,I(m.value,a=>(o(),n("div",{key:a.id,class:"player-row"},[e("span",St,p(a.username),1),e("span",Nt,p(a.amount.toFixed(2)),1),a.cashedOut?(o(),n("span",Pt,p(a.cashoutAt?.toFixed(2))+"x",1)):l.value==="crashed"?(o(),n("span",Rt,"-")):(o(),n("span",Vt,"..."))]))),128))])])]))}}),Ut=st(Et,[["__scopeId","data-v-be3cf6b7"]]);export{Ut as default};
