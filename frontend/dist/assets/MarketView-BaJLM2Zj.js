import{d as I,o as n,c as o,k as de,b as t,t as g,x as R,n as P,y as k,l as S,a as ue,j as pe,r as _,g as E,F as M,f as $,h as K,w as O,T as Z,z as re,A as Fe,B as ne,C as oe,D as Le,E as Ae}from"./vue-DAmU7BeK.js";import{u as ve,_ as U}from"./index-BOshbjXL.js";import{s as De,g as ce,a as Ee}from"./client-pJ2CWAUX.js";const He={class:"gift-card__image"},Te=["src","alt"],Ve={key:1,class:"gift-card__placeholder"},Ge={class:"gift-card__info"},Ne={class:"gift-card__name"},Oe={class:"gift-card__serial"},Ze={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},ze=I({__name:"GiftCard",props:{gift:{},selectable:{type:Boolean},isSelected:{type:Boolean}},emits:["click","buy","select"],setup(v,{emit:r}){const a=v,d=r,{hapticImpact:p}=ve(),b=S(()=>a.gift.tg_id?a.gift.tg_id:a.gift.id),L=S(()=>{const x=a.gift.min_price_ton||a.gift.price||0;return Number(x).toFixed(2).replace(/\.?0+$/,"")}),y=S(()=>{const x={"Instant Ramen":"linear-gradient(180deg, #E8D5B7 0%, #C4A77D 100%)","Lol Pop":"linear-gradient(180deg, #A8D8FF 0%, #5BA3D9 100%)","Hypno Lollipop":"linear-gradient(180deg, #D4B8E8 0%, #9B6DC6 100%)","Eternal Candle":"linear-gradient(180deg, #4A4A4A 0%, #2A2A2A 100%)","Bling Binky":"linear-gradient(180deg, #FFD700 0%, #FFA500 100%)","Pet Snake":"linear-gradient(180deg, #90EE90 0%, #228B22 100%)","Happy Brownie":"linear-gradient(180deg, #D2B48C 0%, #8B4513 100%)","Fresh Socks":"linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%)","Ice Cream":"linear-gradient(180deg, #FFB6C1 0%, #FF69B4 100%)",default:"linear-gradient(180deg, #3A3A3A 0%, #282727 100%)"};return{"--card-bg":x[a.gift.name]||x.default}}),A=()=>{p("light"),a.selectable?d("select",a.gift):d("click",a.gift)},G=()=>{p("medium"),d("buy",a.gift)};return(x,C)=>(n(),o("div",{class:"gift-card gift-card-appear base-active-btn",style:de(y.value),onClick:A},[t("div",He,[v.gift.image_url?(n(),o("img",{key:0,src:v.gift.image_url,alt:v.gift.name,loading:"lazy",draggable:"false"},null,8,Te)):(n(),o("div",Ve,[...C[0]||(C[0]=[t("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M38.17 3.01H9.827C4.615 3.01 1.312 8.636 3.934 13.18L21.427 43.5C22.569 45.48 25.43 45.48 26.571 43.5L44.068 13.18C46.686 8.644 43.383 3.01 38.175 3.01H38.17ZM21.413 34.408L17.603 27.035L8.411 10.594C7.805 9.542 8.554 8.194 9.823 8.194H21.41V34.412L21.413 34.408ZM39.58 10.591L30.391 27.039L26.582 34.408V8.19H38.168C39.437 8.19 40.187 9.539 39.58 10.591Z",fill:"rgba(255,255,255,0.15)"})],-1)])]))]),t("div",Ge,[t("div",Ne,g(v.gift.name),1),t("div",Oe,"#"+g(b.value),1),t("button",{class:"gift-card__price",onClick:R(G,["stop"])},[C[1]||(C[1]=t("svg",{class:"gift-card__ton-icon",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",null,g(L.value),1)])]),v.selectable?(n(),o("div",{key:0,class:P(["gift-card__checkbox",{"gift-card__checkbox--selected":v.isSelected}])},[v.isSelected?(n(),o("svg",Ze,[...C[2]||(C[2]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):k("",!0)],2)):k("",!0)],4))}}),Re=U(ze,[["__scopeId","data-v-0c46e51c"]]),Ie={class:"skeleton-card"},Ue=I({__name:"SkeletonCard",setup(v){return(r,a)=>(n(),o("div",Ie,[...a[0]||(a[0]=[ue('<div class="skeleton-card__image skeleton" data-v-ef5d93a6></div><div class="skeleton-card__body" data-v-ef5d93a6><div class="skeleton-card__title skeleton" data-v-ef5d93a6></div><div class="skeleton-card__serial skeleton" data-v-ef5d93a6></div><div class="skeleton-card__price skeleton" data-v-ef5d93a6></div></div>',2)])]))}}),je=U(Ue,[["__scopeId","data-v-ef5d93a6"]]),Ke={class:"balance-pill"},We={class:"balance-pill__amount"},Je=I({__name:"BalancePill",props:{balance:{}},emits:["add"],setup(v){const r=v,a=S(()=>{const d=r.balance;return d>=1e3?d.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):Number(d.toFixed(2)).toString()});return(d,p)=>(n(),o("div",Ke,[p[2]||(p[2]=t("svg",{class:"balance-pill__icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",We,g(a.value),1),t("button",{class:"balance-pill__add",onClick:p[0]||(p[0]=R(b=>d.$emit("add"),["stop"]))},[...p[1]||(p[1]=[t("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 1v12M1 7h12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])]))}}),qe=U(Je,[["__scopeId","data-v-0b0417e6"]]),W="market_prices_cache",J=5*60*1e3;function q(v){return v.length===0?0:Math.min(...v.map(r=>r.price))}function fe(v){if(v.length===0)return 0;const r=[...v].sort((d,p)=>d.price-p.price),a=Math.floor(r.length/2);return r.length%2!==0?r[a].price:(r[a-1].price+r[a].price)/2}function he(v){return v.length===0?null:v.reduce((r,a)=>a.price<r.price?a:r)}class Qe{cache={};constructor(){this.loadCache()}loadCache(){try{const r=localStorage.getItem(W);r&&(this.cache=JSON.parse(r),this.cleanExpiredCache())}catch(r){console.warn("Failed to load price cache:",r),this.cache={}}}persistCache(){try{localStorage.setItem(W,JSON.stringify(this.cache))}catch(r){console.warn("Failed to persist price cache:",r)}}cleanExpiredCache(){const r=Date.now();for(const[a,d]of Object.entries(this.cache))r-d.timestamp>J&&delete this.cache[a]}clearCache(){this.cache={},localStorage.removeItem(W)}getCachedPrice(r){const a=this.cache[r];return a?Date.now()-a.timestamp>J?(delete this.cache[r],0):q(a.prices):0}setCachedPrice(r,a){this.cache[r]={prices:a,timestamp:Date.now()}}async fetchFromApi(r){try{const a=await fetch(`/api/v1/gifts/${r}`);if(!a.ok)return null;const d=await a.json();return d.min_price_ton&&parseFloat(d.min_price_ton)>0?{source:"api",price:parseFloat(d.min_price_ton),currency:"TON",updatedAt:new Date}:null}catch{return null}}async getAggregatedPrice(r){const a=this.cache[r];if(a&&Date.now()-a.timestamp<J)return a.prices;const p=(await Promise.allSettled([this.fetchFromApi(r)])).filter(b=>b.status==="fulfilled").map(b=>b.value).filter(b=>b!==null&&b.price>0);return p.length>0&&this.setCachedPrice(r,p),p}async getAggregatedGifts(r){const a=new Map,d=10;for(let p=0;p<r.length;p+=d){const b=r.slice(p,p+d);await Promise.all(b.map(async L=>{const y=await this.getAggregatedPrice(L);y.length>0&&a.set(L,{giftId:L,name:"",model:"",prices:y,minPrice:q(y),medianPrice:fe(y),bestDeal:he(y)})}))}return a}}const H=new Qe;function Ye(){const v=_(!1),r=_(null),a=_([]),d=_(new Map);pe(()=>{H.loadCache()});const p=f=>H.getCachedPrice(f),b=async f=>{v.value=!0,r.value=null;try{d.value=await H.getAggregatedGifts(f),H.persistCache()}catch(u){r.value="Failed to load prices",console.error("Preload prices error:",u)}finally{v.value=!1}};return{isLoading:v,error:r,gifts:a,aggregatedData:d,getCachedPrice:p,preloadPrices:b,getGiftPrices:async f=>{try{return await H.getAggregatedPrice(f)}catch(u){return console.error("Get gift prices error:",u),[]}},getBestPrice:f=>{const u=p(f);if(u>0)return u;const m=d.value.get(f);return m?m.minPrice:0},getPriceDisplay:f=>{const u=d.value.get(f);if(u&&u.bestDeal)return{price:u.minPrice.toFixed(2),source:u.bestDeal.source};const m=p(f);return m>0?{price:m.toFixed(2),source:"cached"}:{price:"—",source:"unavailable"}},enrichGiftsWithPrices:f=>f.map(u=>{const m=u.id||u.gift_id||"",w=d.value.get(m);let F=0,N=[],T=null,s="api";if(w)F=w.minPrice,N=w.prices,T=w.bestDeal,s=T?.source||"aggregated";else if(u.floor_price)F=typeof u.floor_price=="string"?parseFloat(u.floor_price):u.floor_price,s="api";else{const B=p(m);B>0&&(F=B,s="cached")}return{id:m,name:u.name||"",model:u.model||"",image:u.image,floorPrice:F,prices:N,bestDeal:T,priceSource:s}}),refreshPrices:async f=>{H.clearCache(),await b(f)},getPriceComparison:f=>{const u=d.value.get(f);return!u||u.prices.length===0?null:{min:u.minPrice,median:u.medianPrice,sources:u.prices.map(m=>m.source)}},calculateMinPrice:q,calculateMedianPrice:fe,getBestDeal:he}}const Xe={class:"market-view"},et={class:"market-header"},tt={class:"market-header__right"},st={class:"market-tabs"},it={class:"market-tabs__scroll"},lt=["onClick"],at={class:"filter-bar"},rt={key:0,class:"active-filters"},nt=["onClick"],ot={class:"sort-menu"},ct=["onClick"],dt={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},ut={class:"gift-grid-wrapper"},pt={key:0,class:"gift-grid"},vt={key:1,class:"gift-grid"},ft={key:2,class:"pagination"},ht=["disabled"],gt={class:"pagination__info"},mt={class:"pagination__current"},_t={class:"pagination__total"},bt=["disabled"],kt={key:3,class:"empty-state"},yt={key:0,class:"filter-sidebar"},Ct={class:"filter-sidebar__header"},wt={class:"filter-sidebar__body"},Pt={class:"filter-section"},xt={class:"filter-chips"},Bt=["onClick"],Mt={key:0,class:"filter-section"},$t={class:"filter-chips"},St=["onClick"],Ft={key:1,class:"filter-section"},Lt={class:"filter-chips"},At=["onClick"],Dt={key:2,class:"filter-section"},Et={class:"filter-chips"},Ht=["onClick"],Tt={key:3,class:"filter-section"},Vt={class:"filter-chips"},Gt=["onClick"],Nt={class:"filter-section"},Ot={class:"filter-chips"},Zt=["onClick"],zt={class:"filter-section"},Rt={class:"price-range"},It={class:"price-input-wrap"},Ut={class:"price-input-wrap"},jt={class:"filter-sidebar__footer"},Kt={key:0,class:"filter-sidebar__count"},z=50,Wt=I({__name:"MarketView",setup(v){const r=Ae(),{hapticImpact:a}=ve(),{preloadPrices:d,enrichGiftsWithPrices:p}=Ye(),b=[{id:"all",label:"Gifts"},{id:"lootpacks",label:"Lootpacks"},{id:"upgrades",label:"Upgrades"},{id:"real",label:"Real Items"}],L=_("all"),y=_(!0),A=_([]),G=_(""),x=_("listed_at desc"),C=_(!1),f=_(!1),u=_(!1),m=_([]),w=_(1),F=_(50),N=_("1.33"),T=_("247.5K"),s=Fe({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),B=_([]),ge=S(()=>[...new Set(B.value.map(l=>l.name).filter(Boolean))].sort()),Q=S(()=>[...new Set(B.value.map(l=>l.model).filter(Boolean))].sort()),Y=S(()=>[...new Set(B.value.map(l=>l.backdrop).filter(Boolean))].sort()),X=S(()=>[...new Set(B.value.map(l=>l.pattern).filter(Boolean))].sort()),ee=S(()=>[...new Set(B.value.map(l=>l.symbol).filter(Boolean))].sort()),te=[{value:"common",label:"Common",color:"#6b7280"},{value:"uncommon",label:"Uncommon",color:"#22c55e"},{value:"rare",label:"Rare",color:"#3b82f6"},{value:"epic",label:"Epic",color:"#a855f7"},{value:"legendary",label:"Legendary",color:"#f59e0b"},{value:"mythic",label:"Mythic",color:"#ef4444"}],se=S(()=>{let l=0;return l+=s.names.length,l+=s.models.length,l+=s.backdrops.length,l+=s.patterns.length,l+=s.symbols.length,l+=s.rarities.length,s.minPrice!==null&&l++,s.maxPrice!==null&&l++,l}),ie=S(()=>{const l=[];return s.names.forEach(e=>l.push({key:`name-${e}`,group:"names",value:e,label:e})),s.models.forEach(e=>l.push({key:`model-${e}`,group:"models",value:e,label:`Skin: ${e}`})),s.backdrops.forEach(e=>l.push({key:`backdrop-${e}`,group:"backdrops",value:e,label:`Backdrop: ${e}`})),s.patterns.forEach(e=>l.push({key:`pattern-${e}`,group:"patterns",value:e,label:`Pattern: ${e}`})),s.symbols.forEach(e=>l.push({key:`symbol-${e}`,group:"symbols",value:e,label:`Symbol: ${e}`})),s.rarities.forEach(e=>{const i=te.find(c=>c.value===e);l.push({key:`rarity-${e}`,group:"rarities",value:e,label:i?.label||e})}),s.minPrice!==null&&l.push({key:"minPrice",group:"minPrice",value:String(s.minPrice),label:`from ${s.minPrice} TON`}),s.maxPrice!==null&&l.push({key:"maxPrice",group:"maxPrice",value:String(s.maxPrice),label:`to ${s.maxPrice} TON`}),l}),D=(l,e)=>{const i=s[l],c=i.indexOf(e);c>-1?i.splice(c,1):i.push(e)},me=l=>{if(l.group==="minPrice")s.minPrice=null;else if(l.group==="maxPrice")s.maxPrice=null;else{const e=s[l.group],i=e.indexOf(l.value);i>-1&&e.splice(i,1)}j()},le=()=>{s.names=[],s.models=[],s.backdrops=[],s.patterns=[],s.symbols=[],s.rarities=[],s.minPrice=null,s.maxPrice=null},j=()=>{f.value=!1,w.value=1,V()},_e=[{value:"listed_at desc",label:"Newest first"},{value:"listed_at asc",label:"Oldest first"},{value:"price asc",label:"Price: Low to High"},{value:"price desc",label:"Price: High to Low"}],be=l=>{a("light"),L.value=l,l==="lootpacks"?r.push("/collection-list"):l==="upgrades"&&r.push("/upgrade")},ke=l=>{a("light"),x.value=l,C.value=!1,V()},ye=()=>{w.value>1&&(w.value--,V())},Ce=()=>{w.value<F.value&&(w.value++,V())},V=async()=>{y.value=!0;try{const l=(w.value-1)*z,e=G.value?.trim();let i;if(e)i=await De(e,{limit:z,collection_id:void 0});else{const h={is_on_sale:!0,sort:x.value,limit:z,offset:l};s.rarities.length===1&&(h.rarity=s.rarities[0]),s.models.length===1&&(h.model=s.models[0]),s.backdrops.length===1&&(h.backdrop=s.backdrops[0]),s.patterns.length===1&&(h.pattern=s.patterns[0]),s.symbols.length===1&&(h.symbol=s.symbols[0]),s.minPrice!==null&&(h.min_price=s.minPrice),s.maxPrice!==null&&(h.max_price=s.maxPrice),i=await ce(h)}let c=i.items||i||[];s.names.length>0&&(c=c.filter(h=>s.names.includes(h.name))),s.rarities.length>1&&(c=c.filter(h=>s.rarities.includes(h.rarity))),s.models.length>1&&(c=c.filter(h=>s.models.includes(h.model))),s.backdrops.length>1&&(c=c.filter(h=>s.backdrops.includes(h.backdrop))),s.patterns.length>1&&(c=c.filter(h=>s.patterns.includes(h.pattern))),s.symbols.length>1&&(c=c.filter(h=>s.symbols.includes(h.symbol))),B.value.length===0&&c.length>0&&(B.value=c),i.total&&(F.value=Math.ceil(i.total/z));const ae=c.map(h=>h.id||h.gift_id).filter(Boolean);ae.length>0?(A.value=c,d(ae).then(()=>{A.value=p(c)})):A.value=c}catch(l){console.error("Fetch gifts error:",l),A.value=[]}finally{y.value=!1}},we=async()=>{try{const l=await ce({is_on_sale:!0,limit:500}),e=l.items||l||[];e.length>0&&(B.value=e)}catch{}},Pe=async()=>{try{const l=await Ee();l.volume_24h&&(T.value=xe(l.volume_24h)),l.ton_price&&(N.value=l.ton_price.toFixed(2))}catch{}},xe=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),Be=l=>{a("light"),r.push(`/gift/${l.id}`)},Me=l=>{a("medium")},$e=l=>{a("light");const e=m.value.indexOf(l.id);e>-1?m.value.splice(e,1):m.value.push(l.id)},Se=()=>{a("heavy")};return pe(()=>{V(),Pe(),we()}),(l,e)=>(n(),o("div",Xe,[e[35]||(e[35]=t("div",{class:"online-indicator"},[t("span",{class:"online-dot"}),t("span",{class:"online-text"},"22 online")],-1)),t("div",et,[e[10]||(e[10]=t("div",{class:"market-header__spacer"},null,-1)),e[11]||(e[11]=t("h1",{class:"market-title"},"Market",-1)),t("div",tt,[E(qe,{balance:0,onAdd:()=>{}})])]),t("nav",st,[t("div",it,[(n(),o(M,null,$(b,i=>t("button",{key:i.id,class:P(["market-tabs__item",{active:L.value===i.id}]),onClick:c=>be(i.id)},g(i.label),11,lt)),64))])]),t("div",at,[t("button",{class:"filter-bar__sort-btn",onClick:e[0]||(e[0]=i=>C.value=!C.value)},[...e[12]||(e[12]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 6h18M6 12h12M9 18h6"})],-1)])]),t("button",{class:P(["filter-bar__dropdown",{"has-value":s.names.length>0}]),onClick:e[1]||(e[1]=i=>f.value=!0)},[t("span",null,g(s.names.length>0?s.names[0]:"Type"),1),e[13]||(e[13]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2),t("button",{class:P(["filter-bar__dropdown",{"has-value":s.models.length>0}]),onClick:e[2]||(e[2]=i=>f.value=!0)},[t("span",null,g(s.models.length>0?s.models[0]:"Skin"),1),e[14]||(e[14]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2),t("button",{class:P(["filter-bar__dropdown",{"has-value":s.backdrops.length>0}]),onClick:e[3]||(e[3]=i=>f.value=!0)},[t("span",null,g(s.backdrops.length>0?s.backdrops[0]:"Backdrop"),1),e[15]||(e[15]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2)]),ie.value.length>0?(n(),o("div",rt,[(n(!0),o(M,null,$(ie.value,i=>(n(),o("button",{key:i.key,class:"active-filter-chip",onClick:c=>me(i)},[t("span",null,g(i.label),1),e[16]||(e[16]=t("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1))],8,nt))),128)),t("button",{class:"clear-all-btn",onClick:e[4]||(e[4]=i=>{le(),j()})},"Clear")])):k("",!0),(n(),K(re,{to:"body"},[E(Z,{name:"sort-fade"},{default:O(()=>[C.value?(n(),o("div",{key:0,class:"sort-overlay",onClick:e[5]||(e[5]=R(i=>C.value=!1,["self"]))},[t("div",ot,[e[18]||(e[18]=t("div",{class:"sort-menu__header"},"Sort by",-1)),(n(),o(M,null,$(_e,i=>t("button",{key:i.value,class:P(["sort-menu__option",{active:x.value===i.value}]),onClick:c=>ke(i.value)},[t("span",null,g(i.label),1),x.value===i.value?(n(),o("svg",dt,[...e[17]||(e[17]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):k("",!0)],10,ct)),64))])])):k("",!0)]),_:1})])),t("div",ut,[y.value?(n(),o("div",pt,[(n(),o(M,null,$(12,i=>E(je,{key:"skeleton-"+i})),64))])):(n(),o("div",vt,[(n(!0),o(M,null,$(A.value,i=>(n(),K(Re,{key:i.id,gift:i,selectable:u.value,"is-selected":m.value.includes(i.id),onClick:Be,onBuy:Me,onSelect:$e},null,8,["gift","selectable","is-selected"]))),128))])),!y.value&&F.value>1?(n(),o("div",ft,[t("button",{class:"pagination__btn",disabled:w.value<=1,onClick:ye},[...e[19]||(e[19]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1)])],8,ht),t("span",gt,[t("span",mt,g(w.value),1),e[20]||(e[20]=t("span",{class:"pagination__sep"},"/",-1)),t("span",_t,g(F.value),1)]),t("button",{class:"pagination__btn",disabled:w.value>=F.value,onClick:Ce},[...e[21]||(e[21]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m9 18 6-6-6-6"})],-1)])],8,bt)])):k("",!0),!y.value&&A.value.length===0?(n(),o("div",kt,[...e[22]||(e[22]=[ue('<div class="empty-state__icon" data-v-eb463f4d><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-eb463f4d><path d="M21 8v13H3V8" data-v-eb463f4d></path><path d="M1 3h22v5H1z" data-v-eb463f4d></path><path d="M10 12h4" data-v-eb463f4d></path></svg></div><p class="empty-state__text" data-v-eb463f4d>No gifts available</p><p class="empty-state__hint" data-v-eb463f4d>Try adjusting your filters</p>',3)])])):k("",!0)]),E(Z,{name:"fab-pop"},{default:O(()=>[m.value.length>0?(n(),o("button",{key:0,class:"bulk-fab",onClick:Se},[e[23]||(e[23]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("path",{d:"M3 6h18"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),t("span",null,g(m.value.length),1)])):k("",!0)]),_:1}),(n(),K(re,{to:"body"},[E(Z,{name:"filter-overlay"},{default:O(()=>[f.value?(n(),o("div",{key:0,class:"filter-overlay",onClick:e[9]||(e[9]=R(i=>f.value=!1,["self"]))},[E(Z,{name:"filter-slide"},{default:O(()=>[f.value?(n(),o("div",yt,[t("div",Ct,[e[25]||(e[25]=t("h3",{class:"filter-sidebar__title"},"Filters",-1)),t("button",{class:"filter-sidebar__close",onClick:e[6]||(e[6]=i=>f.value=!1)},[...e[24]||(e[24]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",wt,[t("div",Pt,[e[26]||(e[26]=t("div",{class:"filter-section__title"},"Type",-1)),t("div",xt,[(n(!0),o(M,null,$(ge.value,i=>(n(),o("button",{key:i,class:P(["filter-chip",{active:s.names.includes(i)}]),onClick:c=>D("names",i)},g(i),11,Bt))),128))])]),Q.value.length?(n(),o("div",Mt,[e[27]||(e[27]=t("div",{class:"filter-section__title"},"Skin",-1)),t("div",$t,[(n(!0),o(M,null,$(Q.value,i=>(n(),o("button",{key:i,class:P(["filter-chip",{active:s.models.includes(i)}]),onClick:c=>D("models",i)},g(i),11,St))),128))])])):k("",!0),Y.value.length?(n(),o("div",Ft,[e[28]||(e[28]=t("div",{class:"filter-section__title"},"Backdrop",-1)),t("div",Lt,[(n(!0),o(M,null,$(Y.value,i=>(n(),o("button",{key:i,class:P(["filter-chip",{active:s.backdrops.includes(i)}]),onClick:c=>D("backdrops",i)},g(i),11,At))),128))])])):k("",!0),X.value.length?(n(),o("div",Dt,[e[29]||(e[29]=t("div",{class:"filter-section__title"},"Pattern",-1)),t("div",Et,[(n(!0),o(M,null,$(X.value,i=>(n(),o("button",{key:i,class:P(["filter-chip",{active:s.patterns.includes(i)}]),onClick:c=>D("patterns",i)},g(i),11,Ht))),128))])])):k("",!0),ee.value.length?(n(),o("div",Tt,[e[30]||(e[30]=t("div",{class:"filter-section__title"},"Symbol",-1)),t("div",Vt,[(n(!0),o(M,null,$(ee.value,i=>(n(),o("button",{key:i,class:P(["filter-chip",{active:s.symbols.includes(i)}]),onClick:c=>D("symbols",i)},g(i),11,Gt))),128))])])):k("",!0),t("div",Nt,[e[31]||(e[31]=t("div",{class:"filter-section__title"},"Rarity",-1)),t("div",Ot,[(n(),o(M,null,$(te,i=>t("button",{key:i.value,class:P(["filter-chip rarity-chip",{active:s.rarities.includes(i.value)}]),style:de(s.rarities.includes(i.value)?{background:i.color,borderColor:i.color}:{}),onClick:c=>D("rarities",i.value)},g(i.label),15,Zt)),64))])]),t("div",zt,[e[33]||(e[33]=t("div",{class:"filter-section__title"},"Price (TON)",-1)),t("div",Rt,[t("div",It,[ne(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>s.minPrice=i),type:"number",placeholder:"Min",class:"price-input",min:"0",step:"0.1"},null,512),[[oe,s.minPrice,void 0,{number:!0}]])]),e[32]||(e[32]=t("span",{class:"price-dash"},"—",-1)),t("div",Ut,[ne(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>s.maxPrice=i),type:"number",placeholder:"Max",class:"price-input",min:"0",step:"0.1"},null,512),[[oe,s.maxPrice,void 0,{number:!0}]])])])])]),t("div",jt,[t("button",{class:"filter-sidebar__reset",onClick:le},"Reset"),t("button",{class:"filter-sidebar__apply",onClick:j},[e[34]||(e[34]=Le(" Apply ",-1)),se.value>0?(n(),o("span",Kt,g(se.value),1)):k("",!0)])])])):k("",!0)]),_:1})])):k("",!0)]),_:1})]))]))}}),Yt=U(Wt,[["__scopeId","data-v-eb463f4d"]]);export{Yt as default};
