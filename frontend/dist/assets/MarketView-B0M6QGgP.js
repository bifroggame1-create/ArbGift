import{o as de,r as g,d as Te,b as f,e as t,F as M,v as B,n as x,t as y,k as _,x as R,y as H,z as ie,A as re,j as ae,h as ne,w as oe,T as ce,B as Me,c as U,C as Be,a as u,f as Se,D as Ae,E as De}from"./vue-CF-r4DcL.js";import{G as Ue}from"./GiftCard-D9ZT0zwL.js";import{u as Fe,_ as Oe}from"./index-f1N1sTxI.js";import{s as Ne,g as ue,a as Ge}from"./client-COG1KRRB.js";const E=new Map,W=5*60*1e3;class Ve{name="mrkt";baseUrl="https://api.tgmrkt.io";authToken=null;async setAuthToken(r){this.authToken=r}async isAvailable(){try{return(await fetch(`${this.baseUrl}/gifts/saling`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:1})})).ok}catch{return!1}}async getPrice(r){try{const a=await fetch(`${this.baseUrl}/gifts/saling`,{method:"POST",headers:{"Content-Type":"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},body:JSON.stringify({filters:{gift_id:r},limit:1})});if(!a.ok)return null;const n=await a.json();if(!n.gifts||n.gifts.length===0)return null;const d=n.gifts[0];return{source:"mrkt",price:parseFloat(d.price)||0,currency:"TON",listingUrl:`https://tgmrkt.io/gift/${r}`,updatedAt:new Date}}catch(a){return console.warn("MRKT adapter error:",a),null}}async getPrices(r){const a=new Map;try{const n=await fetch(`${this.baseUrl}/gifts/saling`,{method:"POST",headers:{"Content-Type":"application/json",...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}},body:JSON.stringify({limit:100})});if(!n.ok)return a;const d=await n.json();if(!d.gifts)return a;for(const o of d.gifts)r.includes(o.gift_id)&&a.set(o.gift_id,{source:"mrkt",price:parseFloat(o.price)||0,currency:"TON",listingUrl:`https://tgmrkt.io/gift/${o.gift_id}`,updatedAt:new Date})}catch(n){console.warn("MRKT batch error:",n)}return a}}class Ee{name="tonnel";baseUrl="https://market.tonnel.network";async isAvailable(){try{const r=await fetch(`${this.baseUrl}/api/gifts`,{method:"HEAD"});return r.ok||r.status===405}catch{return!1}}async getPrice(r){try{const a=await fetch(`${this.baseUrl}/api/gifts/${r}`);if(!a.ok)return null;const n=await a.json();return n.price?{source:"tonnel",price:parseFloat(n.price)||0,currency:"TON",listingUrl:`${this.baseUrl}/gift/${r}`,updatedAt:new Date}:null}catch(a){return console.warn("Tonnel adapter error:",a),null}}async getPrices(r){const a=new Map,n=r.map(d=>this.getPrice(d).then(o=>o&&a.set(d,o)));return await Promise.allSettled(n),a}}class je{name="thermos";baseUrl="https://thermos.gifts";async isAvailable(){try{const r=await fetch(`${this.baseUrl}/api/v1/gifts`,{method:"HEAD"});return r.ok||r.status===405}catch{return!1}}async getPrice(r){try{const a=await fetch(`${this.baseUrl}/api/v1/gifts/${r}`);if(!a.ok)return null;const n=await a.json();return n.floor_price?{source:"thermos",price:parseFloat(n.floor_price)||0,currency:"TON",listingUrl:`${this.baseUrl}/gift/${r}`,updatedAt:new Date}:null}catch(a){return console.warn("Thermos adapter error:",a),null}}async getPrices(r){const a=new Map,n=r.map(d=>this.getPrice(d).then(o=>o&&a.set(d,o)));return await Promise.allSettled(n),a}}class ze{name="internal";baseUrl="/api/v1";async isAvailable(){return!0}async getPrice(r){try{const a=await fetch(`${this.baseUrl}/gifts/${r}`);if(!a.ok)return null;const n=await a.json();return n.floor_price?{source:"internal",price:parseFloat(n.floor_price)||0,currency:"TON",listingUrl:`/gift/${r}`,updatedAt:new Date}:null}catch(a){return console.warn("Internal adapter error:",a),null}}async getPrices(r){const a=new Map;try{const n=await fetch(`${this.baseUrl}/gifts?page=0&page_size=100`);if(!n.ok)return a;const d=await n.json();if(!d.gifts)return a;for(const o of d.gifts){const k=o.id||o.gift_id;(r.length===0||r.includes(k))&&o.floor_price&&a.set(k,{source:"internal",price:parseFloat(o.floor_price)||0,currency:"TON",listingUrl:`/gift/${k}`,updatedAt:new Date})}}catch(n){console.warn("Internal batch error:",n)}return a}}class Le{adapters=[new ze,new Ve,new Ee,new je];async getAggregatedPrice(r){const a=E.get(r);if(a&&Date.now()-a.timestamp<W)return[a.price];const d=(await Promise.allSettled(this.adapters.map(o=>o.getPrice(r)))).filter(o=>o.status==="fulfilled"&&o.value!==null&&o.value.price>0).map(o=>o.value);if(d.length>0){const o=d.reduce((k,b)=>k.price<b.price?k:b);E.set(r,{price:o,timestamp:Date.now()})}return d}async getAggregatedGifts(r){const a=new Map,n=await Promise.allSettled(this.adapters.map(o=>o.getPrices(r))),d=new Map;for(const o of n){if(o.status!=="fulfilled")continue;const k=o.value;for(const[b,C]of k)C.price<=0||(d.has(b)||d.set(b,[]),d.get(b).push(C))}for(const[o,k]of d){if(k.length===0)continue;const b=[...k].sort((F,S)=>F.price-S.price),C=b[0].price,N=b[Math.floor(b.length/2)].price;a.set(o,{giftId:o,name:"",model:"",prices:b,minPrice:C,medianPrice:N,bestDeal:b[0]})}return a}getCachedPrice(r){const a=E.get(r);return a&&Date.now()-a.timestamp<W?a.price.price:0}async preloadPrices(r){await this.getAggregatedGifts(r)}clearCache(){E.clear()}persistCache(){const r={};for(const[a,n]of E)r[a]=n;localStorage.setItem("marketPriceCache",JSON.stringify(r))}loadCache(){try{const r=localStorage.getItem("marketPriceCache");if(!r)return;const a=JSON.parse(r);for(const[n,d]of Object.entries(a)){const o=d;Date.now()-o.timestamp<W&&(o.price.updatedAt=new Date(o.price.updatedAt),E.set(n,o))}}catch(r){console.warn("Failed to load price cache:",r)}}}const j=new Le;function Re(m){return m.length===0?0:Math.min(...m.map(r=>r.price))}function He(m){if(m.length===0)return 0;const r=[...m].map(n=>n.price).sort((n,d)=>n-d),a=Math.floor(r.length/2);return r.length%2?r[a]:(r[a-1]+r[a])/2}function Je(m){return m.length===0?null:m.reduce((r,a)=>a.price<r.price?a:r)}function Ke(){const m=g(!1),r=g(null),a=g([]),n=g(new Map);de(()=>{j.loadCache()});const d=h=>j.getCachedPrice(h),o=async h=>{m.value=!0,r.value=null;try{n.value=await j.getAggregatedGifts(h),j.persistCache()}catch(c){r.value="Failed to load prices",console.error("Preload prices error:",c)}finally{m.value=!1}};return{isLoading:m,error:r,gifts:a,aggregatedData:n,getCachedPrice:d,preloadPrices:o,getGiftPrices:async h=>{try{return await j.getAggregatedPrice(h)}catch(c){return console.error("Get gift prices error:",c),[]}},getBestPrice:h=>{const c=d(h);if(c>0)return c;const P=n.value.get(h);return P?P.minPrice:0},getPriceDisplay:h=>{const c=n.value.get(h);if(c&&c.bestDeal)return{price:c.minPrice.toFixed(2),source:c.bestDeal.source};const P=d(h);return P>0?{price:P.toFixed(2),source:"cached"}:{price:"‚Äî",source:"unavailable"}},enrichGiftsWithPrices:h=>h.map(c=>{const P=c.id||c.gift_id||"",G=n.value.get(P);let $=0,w=[],T=null,O="api";if(G)$=G.minPrice,w=G.prices,T=G.bestDeal,O=T?.source||"aggregated";else if(c.floor_price)$=typeof c.floor_price=="string"?parseFloat(c.floor_price):c.floor_price,O="api";else{const z=d(P);z>0&&($=z,O="cached")}return{id:P,name:c.name||"",model:c.model||"",image:c.image,floorPrice:$,prices:w,bestDeal:T,priceSource:O}}),refreshPrices:async h=>{j.clearCache(),await o(h)},getPriceComparison:h=>{const c=n.value.get(h);return!c||c.prices.length===0?null:{min:c.minPrice,median:c.medianPrice,sources:c.prices.map(P=>P.source)}},calculateMinPrice:Re,calculateMedianPrice:He,getBestDeal:Je}}const We={class:"market-view"},Ie={class:"market-nav"},qe=["onClick"],Qe={class:"market-toolbar"},Xe={key:0,class:"filter-badge"},Ye={class:"search-box"},Ze={class:"sort-content"},et={class:"sort-value"},tt={class:"view-modes"},st={key:0,class:"active-filters"},lt=["onClick"],it={class:"af-label"},rt={class:"sort-menu"},at=["onClick"],nt={key:2,class:"loading-container"},ot={key:3,class:"gift-grid-container"},ct={key:0,class:"pagination"},ut={class:"page-controls"},dt=["disabled"],pt={class:"page-info"},ft={class:"current-page"},ht={class:"total-pages"},vt=["disabled"],gt=["max"],mt={key:2,class:"empty-state"},bt={key:0,class:"filter-sidebar"},yt={class:"filter-header"},kt={class:"filter-body"},wt={class:"filter-section"},Pt={class:"filter-chips"},_t=["onClick"],Ct={key:0,class:"filter-section"},xt={class:"filter-chips"},$t=["onClick"],Tt={key:1,class:"filter-section"},Mt={class:"filter-chips"},Bt=["onClick"],St={key:2,class:"filter-section"},At={class:"filter-chips"},Dt=["onClick"],Ut={key:3,class:"filter-section"},Ft={class:"filter-chips"},Ot=["onClick"],Nt={class:"filter-section"},Gt={class:"filter-chips"},Vt=["onClick"],Et={class:"filter-section"},jt={class:"price-range"},zt={class:"price-input-wrap"},Lt={class:"price-input-wrap"},Rt={class:"filter-footer"},Ht={key:0,class:"filter-apply-count"},Jt={class:"market-footer"},Kt={class:"footer-left"},Wt={class:"ton-price"},It={class:"price-value"},qt={class:"volume-info"},Qt={class:"volume-value"},J=50,Xt=Te({__name:"MarketView",setup(m){const r=Ae(),{hapticImpact:a}=Fe(),{preloadPrices:n,enrichGiftsWithPrices:d}=Ke(),o=[{id:"all",label:"–í—Å–µ –ø–æ–¥–∞—Ä–∫–∏"},{id:"collections",label:"–ö–æ–ª–ª–µ–∫—Ü–∏–∏"},{id:"bundles",label:"–ë–∞–Ω–¥–ª—ã"}],k=g("all"),b=g(!0),C=g([]),N=g(""),F=g("listed_at desc"),S=g("large"),h=g(!1),c=g(!1),P=g(!1),G=g(!1),$=g([]),w=g(1),T=g(50),O=g("1.33"),z=g("247.5K"),i=Be({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),A=g([]),pe=U(()=>[...new Set(A.value.map(l=>l.name).filter(Boolean))].sort()),I=U(()=>[...new Set(A.value.map(l=>l.model).filter(Boolean))].sort()),q=U(()=>[...new Set(A.value.map(l=>l.backdrop).filter(Boolean))].sort()),Q=U(()=>[...new Set(A.value.map(l=>l.pattern).filter(Boolean))].sort()),X=U(()=>[...new Set(A.value.map(l=>l.symbol).filter(Boolean))].sort()),Y=[{value:"common",label:"Common",color:"#6b7280"},{value:"uncommon",label:"Uncommon",color:"#22c55e"},{value:"rare",label:"Rare",color:"#3b82f6"},{value:"epic",label:"Epic",color:"#a855f7"},{value:"legendary",label:"Legendary",color:"#f59e0b"},{value:"mythic",label:"Mythic",color:"#ef4444"}],L=U(()=>{let l=0;return l+=i.names.length,l+=i.models.length,l+=i.backdrops.length,l+=i.patterns.length,l+=i.symbols.length,l+=i.rarities.length,i.minPrice!==null&&l++,i.maxPrice!==null&&l++,l}),Z=U(()=>{const l=[];return i.names.forEach(e=>l.push({key:`name-${e}`,group:"names",value:e,label:e})),i.models.forEach(e=>l.push({key:`model-${e}`,group:"models",value:e,label:`–ú–æ–¥–µ–ª—å: ${e}`})),i.backdrops.forEach(e=>l.push({key:`backdrop-${e}`,group:"backdrops",value:e,label:`–§–æ–Ω: ${e}`})),i.patterns.forEach(e=>l.push({key:`pattern-${e}`,group:"patterns",value:e,label:`–ü–∞—Ç—Ç–µ—Ä–Ω: ${e}`})),i.symbols.forEach(e=>l.push({key:`symbol-${e}`,group:"symbols",value:e,label:`–°–∏–º–≤–æ–ª: ${e}`})),i.rarities.forEach(e=>{const s=Y.find(p=>p.value===e);l.push({key:`rarity-${e}`,group:"rarities",value:e,label:s?.label||e})}),i.minPrice!==null&&l.push({key:"minPrice",group:"minPrice",value:String(i.minPrice),label:`–æ—Ç ${i.minPrice} TON`}),i.maxPrice!==null&&l.push({key:"maxPrice",group:"maxPrice",value:String(i.maxPrice),label:`–¥–æ ${i.maxPrice} TON`}),l}),V=(l,e)=>{const s=i[l],p=s.indexOf(e);p>-1?s.splice(p,1):s.push(e)},fe=l=>{if(l.group==="minPrice")i.minPrice=null;else if(l.group==="maxPrice")i.maxPrice=null;else{const e=i[l.group],s=e.indexOf(l.value);s>-1&&e.splice(s,1)}K()},ee=()=>{i.names=[],i.models=[],i.backdrops=[],i.patterns=[],i.symbols=[],i.rarities=[],i.minPrice=null,i.maxPrice=null},K=()=>{c.value=!1,w.value=1,D()},te=[{value:"listed_at desc",label:"–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ"},{value:"listed_at asc",label:"–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ"},{value:"price asc",label:"–î–µ—à–µ–≤–ª–µ"},{value:"price desc",label:"–î–æ—Ä–æ–∂–µ"}],he=U(()=>te.find(l=>l.value===F.value)?.label||"–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ"),ve=l=>{a("light"),k.value=l,l==="collections"?r.push("/collection-list"):l==="bundles"&&r.push("/bundles")},ge=l=>{a("light"),F.value=l,h.value=!1,D()};let se;const me=()=>{clearTimeout(se),se=setTimeout(()=>{D()},300)},be=()=>{w.value>1&&(w.value--,D())},ye=()=>{w.value<T.value&&(w.value++,D())},D=async()=>{b.value=!0;try{const l=(w.value-1)*J,e=N.value?.trim();let s;if(e)s=await Ne(e,{limit:J,collection_id:void 0});else{const v={is_on_sale:!0,sort:F.value,limit:J,offset:l};i.rarities.length===1&&(v.rarity=i.rarities[0]),i.models.length===1&&(v.model=i.models[0]),i.backdrops.length===1&&(v.backdrop=i.backdrops[0]),i.patterns.length===1&&(v.pattern=i.patterns[0]),i.symbols.length===1&&(v.symbol=i.symbols[0]),i.minPrice!==null&&(v.min_price=i.minPrice),i.maxPrice!==null&&(v.max_price=i.maxPrice),s=await ue(v)}let p=s.items||s||[];i.names.length>0&&(p=p.filter(v=>i.names.includes(v.name))),i.rarities.length>1&&(p=p.filter(v=>i.rarities.includes(v.rarity))),i.models.length>1&&(p=p.filter(v=>i.models.includes(v.model))),i.backdrops.length>1&&(p=p.filter(v=>i.backdrops.includes(v.backdrop))),i.patterns.length>1&&(p=p.filter(v=>i.patterns.includes(v.pattern))),i.symbols.length>1&&(p=p.filter(v=>i.symbols.includes(v.symbol))),A.value.length===0&&p.length>0&&(A.value=p),s.total&&(T.value=Math.ceil(s.total/J));const le=p.map(v=>v.id||v.gift_id).filter(Boolean);le.length>0?(C.value=p,n(le).then(()=>{C.value=d(p)})):C.value=p}catch(l){console.error("Fetch gifts error:",l),C.value=[]}finally{b.value=!1}},ke=async()=>{try{const l=await ue({is_on_sale:!0,limit:500}),e=l.items||l||[];e.length>0&&(A.value=e)}catch{}},we=async()=>{try{const l=await Ge();l.volume_24h&&(z.value=Pe(l.volume_24h)),l.ton_price&&(O.value=l.ton_price.toFixed(2))}catch{}},Pe=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),_e=l=>{a("light"),r.push(`/gift/${l.id}`)},Ce=l=>{a("medium")},xe=l=>{a("light");const e=$.value.indexOf(l.id);e>-1?$.value.splice(e,1):$.value.push(l.id)},$e=()=>{a("heavy")};return de(()=>{D(),we(),ke()}),(l,e)=>(u(),f("div",We,[t("nav",Ie,[(u(),f(M,null,B(o,s=>t("button",{key:s.id,class:x(["nav-tab",{active:k.value===s.id}]),onClick:p=>ve(s.id)},y(s.label),11,qe)),64))]),t("div",Qe,[t("button",{class:x(["toolbar-btn filter-btn",{"has-filters":L.value>0}]),onClick:e[0]||(e[0]=s=>c.value=!0)},[e[13]||(e[13]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z"})],-1)),e[14]||(e[14]=t("span",null,"–§–∏–ª—å—Ç—Ä—ã",-1)),L.value>0?(u(),f("span",Xe,y(L.value),1)):_("",!0)],2),t("div",Ye,[e[15]||(e[15]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"m21 21-4.35-4.35"})],-1)),R(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>N.value=s),type:"text",placeholder:"–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫",class:"search-input",onInput:me},null,544),[[H,N.value]])]),t("button",{class:"toolbar-btn sort-btn",onClick:e[2]||(e[2]=s=>h.value=!h.value)},[t("div",Ze,[e[16]||(e[16]=t("span",{class:"sort-label"},"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ",-1)),t("span",et,y(he.value),1)]),e[17]||(e[17]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m6 9 6 6 6-6"})],-1))]),t("button",{class:"toolbar-btn activity-btn",onClick:e[3]||(e[3]=s=>P.value=!0)},[...e[18]||(e[18]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})],-1),t("span",null,"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",-1)])]),t("div",tt,[t("button",{class:x(["view-btn",{active:S.value==="small"}]),onClick:e[4]||(e[4]=s=>S.value="small")},[...e[19]||(e[19]=[ie('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-v-d859174b><rect x="3" y="3" width="7" height="7" data-v-d859174b></rect><rect x="14" y="3" width="7" height="7" data-v-d859174b></rect><rect x="3" y="14" width="7" height="7" data-v-d859174b></rect><rect x="14" y="14" width="7" height="7" data-v-d859174b></rect></svg>',1)])],2),t("button",{class:x(["view-btn",{active:S.value==="large"}]),onClick:e[5]||(e[5]=s=>S.value="large")},[...e[20]||(e[20]=[ie('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-v-d859174b><rect x="3" y="3" width="8" height="8" data-v-d859174b></rect><rect x="13" y="3" width="8" height="8" data-v-d859174b></rect><rect x="3" y="13" width="8" height="8" data-v-d859174b></rect><rect x="13" y="13" width="8" height="8" data-v-d859174b></rect></svg>',1)])],2)]),t("button",{class:"toolbar-btn refresh-btn",onClick:D},[...e[21]||(e[21]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M23 4v6h-6"}),t("path",{d:"M1 20v-6h6"}),t("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)])])]),Z.value.length>0?(u(),f("div",st,[(u(!0),f(M,null,B(Z.value,s=>(u(),f("button",{key:s.key,class:"active-filter-chip",onClick:p=>fe(s)},[t("span",it,y(s.label),1),e[22]||(e[22]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1))],8,lt))),128)),t("button",{class:"clear-all-btn",onClick:e[6]||(e[6]=s=>{ee(),K()})},"–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë")])):_("",!0),h.value?(u(),f("div",{key:1,class:"sort-dropdown",onClick:e[7]||(e[7]=re(s=>h.value=!1,["self"]))},[t("div",rt,[(u(),f(M,null,B(te,s=>t("button",{key:s.value,class:x(["sort-option",{active:F.value===s.value}]),onClick:p=>ge(s.value)},y(s.label),11,at)),64))])])):_("",!0),b.value?(u(),f("div",nt,[...e[23]||(e[23]=[t("div",{class:"loading-spinner"},null,-1)])])):(u(),f("div",ot,[t("div",{class:x(["gift-grid",S.value])},[(u(!0),f(M,null,B(C.value,s=>(u(),ae(Ue,{key:s.id,gift:s,selectable:G.value,"is-selected":$.value.includes(s.id),onClick:_e,onBuy:Ce,onSelect:xe},null,8,["gift","selectable","is-selected"]))),128))],2),T.value>0?(u(),f("div",ct,[t("div",ut,[t("button",{class:"page-btn",disabled:w.value<=1,onClick:be},[...e[24]||(e[24]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1)])],8,dt),t("div",pt,[t("span",ft,y(w.value),1),e[25]||(e[25]=t("span",{class:"page-divider"},"/",-1)),t("span",ht,y(T.value),1)]),t("button",{class:"page-btn",disabled:w.value>=T.value,onClick:ye},[...e[26]||(e[26]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m9 18 6-6-6-6"})],-1)])],8,vt)]),R(t("input",{type:"range",class:"page-slider",min:1,max:T.value,"onUpdate:modelValue":e[8]||(e[8]=s=>w.value=s),onChange:D},null,40,gt),[[H,w.value,void 0,{number:!0}]])])):_("",!0),$.value.length>0?(u(),f("button",{key:1,class:"bulk-buy-btn",onClick:$e},[e[27]||(e[27]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("path",{d:"M3 6h18"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),t("span",null,y($.value.length),1)])):_("",!0),!b.value&&C.value.length===0?(u(),f("div",mt,[...e[28]||(e[28]=[t("span",{class:"empty-icon"},"üéÅ",-1),t("p",{class:"empty-text"},"–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–∏—Ñ—Ç–æ–≤",-1),t("p",{class:"empty-hint"},"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã",-1)])])):_("",!0)])),(u(),ae(Me,{to:"body"},[ne(ce,{name:"filter-overlay"},{default:oe(()=>[c.value?(u(),f("div",{key:0,class:"filter-overlay",onClick:e[12]||(e[12]=re(s=>c.value=!1,["self"]))},[ne(ce,{name:"filter-slide"},{default:oe(()=>[c.value?(u(),f("div",bt,[t("div",yt,[e[30]||(e[30]=t("h3",{class:"filter-title"},"–§–∏–ª—å—Ç—Ä—ã",-1)),t("button",{class:"filter-close",onClick:e[9]||(e[9]=s=>c.value=!1)},[...e[29]||(e[29]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",kt,[t("div",wt,[e[31]||(e[31]=t("div",{class:"filter-section-title"},"–ü–æ–¥–∞—Ä–æ–∫",-1)),t("div",Pt,[(u(!0),f(M,null,B(pe.value,s=>(u(),f("button",{key:s,class:x(["filter-chip",{active:i.names.includes(s)}]),onClick:p=>V("names",s)},y(s),11,_t))),128))])]),I.value.length?(u(),f("div",Ct,[e[32]||(e[32]=t("div",{class:"filter-section-title"},"–ú–æ–¥–µ–ª—å",-1)),t("div",xt,[(u(!0),f(M,null,B(I.value,s=>(u(),f("button",{key:s,class:x(["filter-chip",{active:i.models.includes(s)}]),onClick:p=>V("models",s)},y(s),11,$t))),128))])])):_("",!0),q.value.length?(u(),f("div",Tt,[e[33]||(e[33]=t("div",{class:"filter-section-title"},"–§–æ–Ω",-1)),t("div",Mt,[(u(!0),f(M,null,B(q.value,s=>(u(),f("button",{key:s,class:x(["filter-chip",{active:i.backdrops.includes(s)}]),onClick:p=>V("backdrops",s)},y(s),11,Bt))),128))])])):_("",!0),Q.value.length?(u(),f("div",St,[e[34]||(e[34]=t("div",{class:"filter-section-title"},"–ü–∞—Ç—Ç–µ—Ä–Ω",-1)),t("div",At,[(u(!0),f(M,null,B(Q.value,s=>(u(),f("button",{key:s,class:x(["filter-chip",{active:i.patterns.includes(s)}]),onClick:p=>V("patterns",s)},y(s),11,Dt))),128))])])):_("",!0),X.value.length?(u(),f("div",Ut,[e[35]||(e[35]=t("div",{class:"filter-section-title"},"–°–∏–º–≤–æ–ª",-1)),t("div",Ft,[(u(!0),f(M,null,B(X.value,s=>(u(),f("button",{key:s,class:x(["filter-chip",{active:i.symbols.includes(s)}]),onClick:p=>V("symbols",s)},y(s),11,Ot))),128))])])):_("",!0),t("div",Nt,[e[36]||(e[36]=t("div",{class:"filter-section-title"},"–†–µ–¥–∫–æ—Å—Ç—å",-1)),t("div",Gt,[(u(),f(M,null,B(Y,s=>t("button",{key:s.value,class:x(["filter-chip rarity-chip",{active:i.rarities.includes(s.value)}]),style:De(i.rarities.includes(s.value)?{background:s.color,borderColor:s.color}:{}),onClick:p=>V("rarities",s.value)},y(s.label),15,Vt)),64))])]),t("div",Et,[e[38]||(e[38]=t("div",{class:"filter-section-title"},"–¶–µ–Ω–∞ (TON)",-1)),t("div",jt,[t("div",zt,[R(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.minPrice=s),type:"number",placeholder:"–ú–∏–Ω",class:"price-input",min:"0",step:"0.1"},null,512),[[H,i.minPrice,void 0,{number:!0}]])]),e[37]||(e[37]=t("span",{class:"price-dash"},"‚Äî",-1)),t("div",Lt,[R(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.maxPrice=s),type:"number",placeholder:"–ú–∞–∫—Å",class:"price-input",min:"0",step:"0.1"},null,512),[[H,i.maxPrice,void 0,{number:!0}]])])])])]),t("div",Rt,[t("button",{class:"filter-reset",onClick:ee},"–°–±—Ä–æ—Å–∏—Ç—å"),t("button",{class:"filter-apply",onClick:K},[e[39]||(e[39]=Se(" –ü–æ–∫–∞–∑–∞—Ç—å ",-1)),L.value>0?(u(),f("span",Ht,y(L.value),1)):_("",!0)])])])):_("",!0)]),_:1})])):_("",!0)]),_:1})])),t("footer",Jt,[t("div",Kt,[t("div",Wt,[e[40]||(e[40]=t("img",{src:"https://ton.org/download/ton_symbol.svg",alt:"TON",class:"ton-logo"},null,-1)),t("span",It,y(O.value)+"$",1)]),t("div",qt,[e[41]||(e[41]=t("span",{class:"volume-label"},"–û–±—â–∏–π –æ–±—ä–µ–º 24H",-1)),t("span",Qt,y(z.value),1),e[42]||(e[42]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",class:"volume-icon"},[t("path",{d:"M12 2L2 7l10 5 10-5-10-5z"})],-1))])]),e[43]||(e[43]=t("div",{class:"footer-right"},[t("button",{class:"footer-btn"},"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"),t("a",{href:"https://t.me/portals_sup",target:"_blank",class:"footer-btn"},"–ü–æ–¥–¥–µ—Ä–∂–∫–∞"),t("a",{href:"https://t.me/portals",target:"_blank",class:"footer-btn"},"Telegram")],-1))])]))}}),ss=Oe(Xt,[["__scopeId","data-v-d859174b"]]);export{ss as default};
