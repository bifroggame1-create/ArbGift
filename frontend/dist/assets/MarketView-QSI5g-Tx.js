const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lottie-DzwejvuX.js","assets/_commonjsHelpers-BosuxZz1.js"])))=>i.map(i=>d[i]);
import{d as N,x as Fe,j as Q,y as Le,o as n,c as o,k as Y,z as C,r as b,b as t,h as R,t as _,A as U,n as B,l as x,a as fe,g as E,F as $,f as S,w as j,T as Z,B as oe,C as Ae,D as ce,E as de,G as De,H as Ee}from"./vue-Dr6T3rTv.js";import{_ as Ge,a as z,u as pe}from"./index-BmsK7NZx.js";import{s as He,g as ue,a as Te}from"./client-pJ2CWAUX.js";const Ve=["src","alt"],Ne=N({__name:"LottieGift",props:{src:{},fallbackSrc:{},alt:{default:"Gift"},size:{default:100},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!0}},setup(f){let r=null;const a=async()=>(r||(r=await Ge(()=>import("./lottie-DzwejvuX.js").then(w=>w.l),__vite__mapDeps([0,1]))),r.default),d=f,p=b(null),g=b(!1);let h=null;async function y(){if(!p.value||!d.src){g.value=!0;return}h&&(h.destroy(),h=null),g.value=!1;try{const w=await a();if(!p.value)return;h=w.loadAnimation({container:p.value,renderer:"svg",loop:d.loop,autoplay:d.autoplay,path:d.src}),h.addEventListener("data_failed",()=>{g.value=!0,h?.destroy(),h=null}),h.addEventListener("error",()=>{g.value=!0,h?.destroy(),h=null})}catch{g.value=!0}}return Fe(()=>d.src,()=>{y()}),Q(()=>{y()}),Le(()=>{h&&(h.destroy(),h=null)}),(w,H)=>(n(),o("div",{ref_key:"container",ref:p,class:"lottie-gift",style:Y({width:f.size+"px",height:f.size+"px"})},[g.value&&f.fallbackSrc?(n(),o("img",{key:0,src:f.fallbackSrc,alt:f.alt,class:"lottie-gift__fallback",loading:"lazy",draggable:"false"},null,8,Ve)):C("",!0)],4))}}),ze=z(Ne,[["__scopeId","data-v-66204c08"]]),Oe={class:"gift-card__image"},je=["src","alt"],Ze={key:2,class:"gift-card__placeholder"},Ie={class:"gift-card__info"},Re={class:"gift-card__name"},Ue={class:"gift-card__serial"},We={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},Ke=N({__name:"GiftCard",props:{gift:{},selectable:{type:Boolean},isSelected:{type:Boolean}},emits:["click","buy","select"],setup(f,{emit:r}){const a=f,d=r,{hapticImpact:p}=pe(),g=x(()=>{if(a.gift.lottie_url)return a.gift.lottie_url;const u=a.gift.image_url;return u&&u.includes("nft.fragment.com/gift/")?u.replace(/\.(webp|jpg|png|medium\.jpg|large\.jpg|small\.jpg)$/i,".lottie.json"):null}),h=x(()=>Math.round(Math.min(window.innerWidth/3-16,140))),y=x(()=>a.gift.tg_id?a.gift.tg_id:a.gift.id),w=x(()=>{const u=a.gift.min_price_ton||a.gift.price||0;return Number(u).toFixed(2).replace(/\.?0+$/,"")}),H=x(()=>{const u={"Instant Ramen":"linear-gradient(180deg, #E8D5B7 0%, #C4A77D 100%)","Lol Pop":"linear-gradient(180deg, #A8D8FF 0%, #5BA3D9 100%)","Hypno Lollipop":"linear-gradient(180deg, #D4B8E8 0%, #9B6DC6 100%)","Eternal Candle":"linear-gradient(180deg, #4A4A4A 0%, #2A2A2A 100%)","Bling Binky":"linear-gradient(180deg, #FFD700 0%, #FFA500 100%)","Pet Snake":"linear-gradient(180deg, #90EE90 0%, #228B22 100%)","Happy Brownie":"linear-gradient(180deg, #D2B48C 0%, #8B4513 100%)","Fresh Socks":"linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%)","Ice Cream":"linear-gradient(180deg, #FFB6C1 0%, #FF69B4 100%)",default:"linear-gradient(180deg, #3A3A3A 0%, #282727 100%)"};return{"--card-bg":u[a.gift.name]||u.default}}),A=()=>{p("light"),a.selectable?d("select",a.gift):d("click",a.gift)},L=()=>{p("medium"),d("buy",a.gift)};return(u,c)=>(n(),o("div",{class:"gift-card gift-card-appear base-active-btn",style:Y(H.value),onClick:A},[t("div",Oe,[g.value?(n(),R(ze,{key:0,src:g.value,"fallback-src":f.gift.image_url,alt:f.gift.name,size:h.value,class:"gift-card__lottie"},null,8,["src","fallback-src","alt","size"])):f.gift.image_url?(n(),o("img",{key:1,src:f.gift.image_url,alt:f.gift.name,loading:"lazy",draggable:"false"},null,8,je)):(n(),o("div",Ze,[...c[0]||(c[0]=[t("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M38.17 3.01H9.827C4.615 3.01 1.312 8.636 3.934 13.18L21.427 43.5C22.569 45.48 25.43 45.48 26.571 43.5L44.068 13.18C46.686 8.644 43.383 3.01 38.175 3.01H38.17ZM21.413 34.408L17.603 27.035L8.411 10.594C7.805 9.542 8.554 8.194 9.823 8.194H21.41V34.412L21.413 34.408ZM39.58 10.591L30.391 27.039L26.582 34.408V8.19H38.168C39.437 8.19 40.187 9.539 39.58 10.591Z",fill:"rgba(255,255,255,0.15)"})],-1)])]))]),t("div",Ie,[t("div",Re,_(f.gift.name),1),t("div",Ue,"#"+_(y.value),1),t("button",{class:"gift-card__price",onClick:U(L,["stop"])},[c[1]||(c[1]=t("svg",{class:"gift-card__ton-icon",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",null,_(w.value),1)])]),f.selectable?(n(),o("div",{key:0,class:B(["gift-card__checkbox",{"gift-card__checkbox--selected":f.isSelected}])},[f.isSelected?(n(),o("svg",We,[...c[2]||(c[2]=[t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):C("",!0)],2)):C("",!0)],4))}}),Je=z(Ke,[["__scopeId","data-v-f5f1f952"]]),qe={class:"skeleton-card"},Qe=N({__name:"SkeletonCard",setup(f){return(r,a)=>(n(),o("div",qe,[...a[0]||(a[0]=[fe('<div class="skeleton-card__image skeleton" data-v-ef5d93a6></div><div class="skeleton-card__body" data-v-ef5d93a6><div class="skeleton-card__title skeleton" data-v-ef5d93a6></div><div class="skeleton-card__serial skeleton" data-v-ef5d93a6></div><div class="skeleton-card__price skeleton" data-v-ef5d93a6></div></div>',2)])]))}}),Ye=z(Qe,[["__scopeId","data-v-ef5d93a6"]]),Xe={class:"balance-pill"},et={class:"balance-pill__amount"},tt=N({__name:"BalancePill",props:{balance:{}},emits:["add"],setup(f){const r=f,a=x(()=>{const d=r.balance;return d>=1e3?d.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):Number(d.toFixed(2)).toString()});return(d,p)=>(n(),o("div",Xe,[p[2]||(p[2]=t("svg",{class:"balance-pill__icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[t("path",{d:"M12.7238 1.00488H3.27565C1.53846 1.00488 0.437395 2.87874 1.31137 4.39358L7.14243 14.5002C7.52294 15.1601 8.47652 15.1601 8.85703 14.5002L14.6893 4.39358C15.5621 2.88116 14.461 1.00488 12.725 1.00488H12.7238ZM7.13769 11.4694L5.86778 9.01168L2.80363 3.53153C2.60149 3.18078 2.85116 2.7313 3.27446 2.7313H7.1365V11.4705L7.13769 11.4694ZM13.1935 3.53035L10.1305 9.01287L8.86059 11.4694V2.73011H12.7226C13.1459 2.73011 13.3956 3.17959 13.1935 3.53035Z",fill:"currentColor"})],-1)),t("span",et,_(a.value),1),t("button",{class:"balance-pill__add",onClick:p[0]||(p[0]=U(g=>d.$emit("add"),["stop"]))},[...p[1]||(p[1]=[t("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 1v12M1 7h12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])]))}}),lt=z(tt,[["__scopeId","data-v-0b0417e6"]]),K="market_prices_cache",J=5*60*1e3;function q(f){return f.length===0?0:Math.min(...f.map(r=>r.price))}function ve(f){if(f.length===0)return 0;const r=[...f].sort((d,p)=>d.price-p.price),a=Math.floor(r.length/2);return r.length%2!==0?r[a].price:(r[a-1].price+r[a].price)/2}function ge(f){return f.length===0?null:f.reduce((r,a)=>a.price<r.price?a:r)}class st{cache={};constructor(){this.loadCache()}loadCache(){try{const r=localStorage.getItem(K);r&&(this.cache=JSON.parse(r),this.cleanExpiredCache())}catch(r){console.warn("Failed to load price cache:",r),this.cache={}}}persistCache(){try{localStorage.setItem(K,JSON.stringify(this.cache))}catch(r){console.warn("Failed to persist price cache:",r)}}cleanExpiredCache(){const r=Date.now();for(const[a,d]of Object.entries(this.cache))r-d.timestamp>J&&delete this.cache[a]}clearCache(){this.cache={},localStorage.removeItem(K)}getCachedPrice(r){const a=this.cache[r];return a?Date.now()-a.timestamp>J?(delete this.cache[r],0):q(a.prices):0}setCachedPrice(r,a){this.cache[r]={prices:a,timestamp:Date.now()}}async fetchFromApi(r){try{const a=await fetch(`/api/v1/gifts/${r}`);if(!a.ok)return null;const d=await a.json();return d.min_price_ton&&parseFloat(d.min_price_ton)>0?{source:"api",price:parseFloat(d.min_price_ton),currency:"TON",updatedAt:new Date}:null}catch{return null}}async getAggregatedPrice(r){const a=this.cache[r];if(a&&Date.now()-a.timestamp<J)return a.prices;const p=(await Promise.allSettled([this.fetchFromApi(r)])).filter(g=>g.status==="fulfilled").map(g=>g.value).filter(g=>g!==null&&g.price>0);return p.length>0&&this.setCachedPrice(r,p),p}async getAggregatedGifts(r){const a=new Map,d=10;for(let p=0;p<r.length;p+=d){const g=r.slice(p,p+d);await Promise.all(g.map(async h=>{const y=await this.getAggregatedPrice(h);y.length>0&&a.set(h,{giftId:h,name:"",model:"",prices:y,minPrice:q(y),medianPrice:ve(y),bestDeal:ge(y)})}))}return a}}const G=new st;function it(){const f=b(!1),r=b(null),a=b([]),d=b(new Map);Q(()=>{G.loadCache()});const p=u=>G.getCachedPrice(u),g=async u=>{f.value=!0,r.value=null;try{d.value=await G.getAggregatedGifts(u),G.persistCache()}catch(c){r.value="Failed to load prices",console.error("Preload prices error:",c)}finally{f.value=!1}};return{isLoading:f,error:r,gifts:a,aggregatedData:d,getCachedPrice:p,preloadPrices:g,getGiftPrices:async u=>{try{return await G.getAggregatedPrice(u)}catch(c){return console.error("Get gift prices error:",c),[]}},getBestPrice:u=>{const c=p(u);if(c>0)return c;const k=d.value.get(u);return k?k.minPrice:0},getPriceDisplay:u=>{const c=d.value.get(u);if(c&&c.bestDeal)return{price:c.minPrice.toFixed(2),source:c.bestDeal.source};const k=p(u);return k>0?{price:k.toFixed(2),source:"cached"}:{price:"—",source:"unavailable"}},enrichGiftsWithPrices:u=>u.map(c=>{const k=c.id||c.gift_id||"",P=d.value.get(k);let F=0,O=[],T=null,l="api";if(P)F=P.minPrice,O=P.prices,T=P.bestDeal,l=T?.source||"aggregated";else if(c.floor_price)F=typeof c.floor_price=="string"?parseFloat(c.floor_price):c.floor_price,l="api";else{const M=p(k);M>0&&(F=M,l="cached")}return{id:k,name:c.name||"",model:c.model||"",image:c.image,floorPrice:F,prices:O,bestDeal:T,priceSource:l}}),refreshPrices:async u=>{G.clearCache(),await g(u)},getPriceComparison:u=>{const c=d.value.get(u);return!c||c.prices.length===0?null:{min:c.minPrice,median:c.medianPrice,sources:c.prices.map(k=>k.source)}},calculateMinPrice:q,calculateMedianPrice:ve,getBestDeal:ge}}const at={class:"market-view"},rt={class:"market-header"},nt={class:"market-header__right"},ot={class:"market-tabs"},ct={class:"market-tabs__scroll"},dt=["onClick"],ut={class:"filter-bar"},ft={key:0,class:"active-filters"},pt=["onClick"],vt={class:"sort-menu"},gt=["onClick"],ht={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},mt={class:"gift-grid-wrapper"},_t={key:0,class:"gift-grid"},bt={key:1,class:"gift-grid"},kt={key:2,class:"pagination"},yt=["disabled"],Ct={class:"pagination__info"},wt={class:"pagination__current"},Pt={class:"pagination__total"},xt=["disabled"],Bt={key:3,class:"empty-state"},Mt={key:0,class:"filter-sidebar"},$t={class:"filter-sidebar__header"},St={class:"filter-sidebar__body"},Ft={class:"filter-section"},Lt={class:"filter-chips"},At=["onClick"],Dt={key:0,class:"filter-section"},Et={class:"filter-chips"},Gt=["onClick"],Ht={key:1,class:"filter-section"},Tt={class:"filter-chips"},Vt=["onClick"],Nt={key:2,class:"filter-section"},zt={class:"filter-chips"},Ot=["onClick"],jt={key:3,class:"filter-section"},Zt={class:"filter-chips"},It=["onClick"],Rt={class:"filter-section"},Ut={class:"filter-chips"},Wt=["onClick"],Kt={class:"filter-section"},Jt={class:"price-range"},qt={class:"price-input-wrap"},Qt={class:"price-input-wrap"},Yt={class:"filter-sidebar__footer"},Xt={key:0,class:"filter-sidebar__count"},I=50,el=N({__name:"MarketView",setup(f){const r=Ee(),{hapticImpact:a}=pe(),{preloadPrices:d,enrichGiftsWithPrices:p}=it(),g=[{id:"all",label:"Gifts"},{id:"lootpacks",label:"Lootpacks"},{id:"upgrades",label:"Upgrades"},{id:"real",label:"Real Items"}],h=b("all"),y=b(!0),w=b([]),H=b(""),A=b("listed_at desc"),L=b(!1),u=b(!1),c=b(!1),k=b([]),P=b(1),F=b(50),O=b("1.33"),T=b("247.5K"),l=Ae({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),M=b([]),he=x(()=>[...new Set(M.value.map(i=>i.name).filter(Boolean))].sort()),X=x(()=>[...new Set(M.value.map(i=>i.model).filter(Boolean))].sort()),ee=x(()=>[...new Set(M.value.map(i=>i.backdrop).filter(Boolean))].sort()),te=x(()=>[...new Set(M.value.map(i=>i.pattern).filter(Boolean))].sort()),le=x(()=>[...new Set(M.value.map(i=>i.symbol).filter(Boolean))].sort()),se=[{value:"common",label:"Common",color:"#6b7280"},{value:"uncommon",label:"Uncommon",color:"#22c55e"},{value:"rare",label:"Rare",color:"#3b82f6"},{value:"epic",label:"Epic",color:"#a855f7"},{value:"legendary",label:"Legendary",color:"#f59e0b"},{value:"mythic",label:"Mythic",color:"#ef4444"}],ie=x(()=>{let i=0;return i+=l.names.length,i+=l.models.length,i+=l.backdrops.length,i+=l.patterns.length,i+=l.symbols.length,i+=l.rarities.length,l.minPrice!==null&&i++,l.maxPrice!==null&&i++,i}),ae=x(()=>{const i=[];return l.names.forEach(e=>i.push({key:`name-${e}`,group:"names",value:e,label:e})),l.models.forEach(e=>i.push({key:`model-${e}`,group:"models",value:e,label:`Skin: ${e}`})),l.backdrops.forEach(e=>i.push({key:`backdrop-${e}`,group:"backdrops",value:e,label:`Backdrop: ${e}`})),l.patterns.forEach(e=>i.push({key:`pattern-${e}`,group:"patterns",value:e,label:`Pattern: ${e}`})),l.symbols.forEach(e=>i.push({key:`symbol-${e}`,group:"symbols",value:e,label:`Symbol: ${e}`})),l.rarities.forEach(e=>{const s=se.find(v=>v.value===e);i.push({key:`rarity-${e}`,group:"rarities",value:e,label:s?.label||e})}),l.minPrice!==null&&i.push({key:"minPrice",group:"minPrice",value:String(l.minPrice),label:`from ${l.minPrice} TON`}),l.maxPrice!==null&&i.push({key:"maxPrice",group:"maxPrice",value:String(l.maxPrice),label:`to ${l.maxPrice} TON`}),i}),D=(i,e)=>{const s=l[i],v=s.indexOf(e);v>-1?s.splice(v,1):s.push(e)},me=i=>{if(i.group==="minPrice")l.minPrice=null;else if(i.group==="maxPrice")l.maxPrice=null;else{const e=l[i.group],s=e.indexOf(i.value);s>-1&&e.splice(s,1)}W()},re=()=>{l.names=[],l.models=[],l.backdrops=[],l.patterns=[],l.symbols=[],l.rarities=[],l.minPrice=null,l.maxPrice=null},W=()=>{u.value=!1,P.value=1,V()},_e=[{value:"listed_at desc",label:"Newest first"},{value:"listed_at asc",label:"Oldest first"},{value:"price asc",label:"Price: Low to High"},{value:"price desc",label:"Price: High to Low"}],be=i=>{a("light"),h.value=i,i==="lootpacks"?r.push("/collection-list"):i==="upgrades"&&r.push("/upgrade")},ke=i=>{a("light"),A.value=i,L.value=!1,V()},ye=()=>{P.value>1&&(P.value--,V())},Ce=()=>{P.value<F.value&&(P.value++,V())},V=async()=>{y.value=!0;try{const i=(P.value-1)*I,e=H.value?.trim();let s;if(e)s=await He(e,{limit:I,collection_id:void 0});else{const m={is_on_sale:!0,sort:A.value,limit:I,offset:i};l.rarities.length===1&&(m.rarity=l.rarities[0]),l.models.length===1&&(m.model=l.models[0]),l.backdrops.length===1&&(m.backdrop=l.backdrops[0]),l.patterns.length===1&&(m.pattern=l.patterns[0]),l.symbols.length===1&&(m.symbol=l.symbols[0]),l.minPrice!==null&&(m.min_price=l.minPrice),l.maxPrice!==null&&(m.max_price=l.maxPrice),s=await ue(m)}let v=s.items||s||[];l.names.length>0&&(v=v.filter(m=>l.names.includes(m.name))),l.rarities.length>1&&(v=v.filter(m=>l.rarities.includes(m.rarity))),l.models.length>1&&(v=v.filter(m=>l.models.includes(m.model))),l.backdrops.length>1&&(v=v.filter(m=>l.backdrops.includes(m.backdrop))),l.patterns.length>1&&(v=v.filter(m=>l.patterns.includes(m.pattern))),l.symbols.length>1&&(v=v.filter(m=>l.symbols.includes(m.symbol))),M.value.length===0&&v.length>0&&(M.value=v),s.total&&(F.value=Math.ceil(s.total/I));const ne=v.map(m=>m.id||m.gift_id).filter(Boolean);ne.length>0?(w.value=v,d(ne).then(()=>{w.value=p(v)})):w.value=v}catch(i){console.error("Fetch gifts error:",i),w.value=[]}finally{y.value=!1}},we=async()=>{try{const i=await ue({is_on_sale:!0,limit:500}),e=i.items||i||[];e.length>0&&(M.value=e)}catch{}},Pe=async()=>{try{const i=await Te();i.volume_24h&&(T.value=xe(i.volume_24h)),i.ton_price&&(O.value=i.ton_price.toFixed(2))}catch{}},xe=i=>i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toString(),Be=i=>{a("light"),r.push(`/gift/${i.id}`)},Me=i=>{a("medium")},$e=i=>{a("light");const e=k.value.indexOf(i.id);e>-1?k.value.splice(e,1):k.value.push(i.id)},Se=()=>{a("heavy")};return Q(()=>{V(),Pe(),we()}),(i,e)=>(n(),o("div",at,[e[35]||(e[35]=t("div",{class:"online-indicator"},[t("span",{class:"online-dot"}),t("span",{class:"online-text"},"22 online")],-1)),t("div",rt,[e[10]||(e[10]=t("div",{class:"market-header__spacer"},null,-1)),e[11]||(e[11]=t("h1",{class:"market-title"},"Market",-1)),t("div",nt,[E(lt,{balance:0,onAdd:()=>{}})])]),t("nav",ot,[t("div",ct,[(n(),o($,null,S(g,s=>t("button",{key:s.id,class:B(["market-tabs__item",{active:h.value===s.id}]),onClick:v=>be(s.id)},_(s.label),11,dt)),64))])]),t("div",ut,[t("button",{class:"filter-bar__sort-btn",onClick:e[0]||(e[0]=s=>L.value=!L.value)},[...e[12]||(e[12]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 6h18M6 12h12M9 18h6"})],-1)])]),t("button",{class:B(["filter-bar__dropdown",{"has-value":l.names.length>0}]),onClick:e[1]||(e[1]=s=>u.value=!0)},[t("span",null,_(l.names.length>0?l.names[0]:"Type"),1),e[13]||(e[13]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2),t("button",{class:B(["filter-bar__dropdown",{"has-value":l.models.length>0}]),onClick:e[2]||(e[2]=s=>u.value=!0)},[t("span",null,_(l.models.length>0?l.models[0]:"Skin"),1),e[14]||(e[14]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2),t("button",{class:B(["filter-bar__dropdown",{"has-value":l.backdrops.length>0}]),onClick:e[3]||(e[3]=s=>u.value=!0)},[t("span",null,_(l.backdrops.length>0?l.backdrops[0]:"Backdrop"),1),e[15]||(e[15]=t("svg",{class:"filter-bar__chevron",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"m6 9 6 6 6-6"})],-1))],2)]),ae.value.length>0?(n(),o("div",ft,[(n(!0),o($,null,S(ae.value,s=>(n(),o("button",{key:s.key,class:"active-filter-chip",onClick:v=>me(s)},[t("span",null,_(s.label),1),e[16]||(e[16]=t("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1))],8,pt))),128)),t("button",{class:"clear-all-btn",onClick:e[4]||(e[4]=s=>{re(),W()})},"Clear")])):C("",!0),(n(),R(oe,{to:"body"},[E(Z,{name:"sort-fade"},{default:j(()=>[L.value?(n(),o("div",{key:0,class:"sort-overlay",onClick:e[5]||(e[5]=U(s=>L.value=!1,["self"]))},[t("div",vt,[e[18]||(e[18]=t("div",{class:"sort-menu__header"},"Sort by",-1)),(n(),o($,null,S(_e,s=>t("button",{key:s.value,class:B(["sort-menu__option",{active:A.value===s.value}]),onClick:v=>ke(s.value)},[t("span",null,_(s.label),1),A.value===s.value?(n(),o("svg",ht,[...e[17]||(e[17]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):C("",!0)],10,gt)),64))])])):C("",!0)]),_:1})])),t("div",mt,[y.value?(n(),o("div",_t,[(n(),o($,null,S(12,s=>E(Ye,{key:"skeleton-"+s})),64))])):(n(),o("div",bt,[(n(!0),o($,null,S(w.value,s=>(n(),R(Je,{key:s.id,gift:s,selectable:c.value,"is-selected":k.value.includes(s.id),onClick:Be,onBuy:Me,onSelect:$e},null,8,["gift","selectable","is-selected"]))),128))])),!y.value&&F.value>1?(n(),o("div",kt,[t("button",{class:"pagination__btn",disabled:P.value<=1,onClick:ye},[...e[19]||(e[19]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1)])],8,yt),t("span",Ct,[t("span",wt,_(P.value),1),e[20]||(e[20]=t("span",{class:"pagination__sep"},"/",-1)),t("span",Pt,_(F.value),1)]),t("button",{class:"pagination__btn",disabled:P.value>=F.value,onClick:Ce},[...e[21]||(e[21]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m9 18 6-6-6-6"})],-1)])],8,xt)])):C("",!0),!y.value&&w.value.length===0?(n(),o("div",Bt,[...e[22]||(e[22]=[fe('<div class="empty-state__icon" data-v-eb463f4d><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-eb463f4d><path d="M21 8v13H3V8" data-v-eb463f4d></path><path d="M1 3h22v5H1z" data-v-eb463f4d></path><path d="M10 12h4" data-v-eb463f4d></path></svg></div><p class="empty-state__text" data-v-eb463f4d>No gifts available</p><p class="empty-state__hint" data-v-eb463f4d>Try adjusting your filters</p>',3)])])):C("",!0)]),E(Z,{name:"fab-pop"},{default:j(()=>[k.value.length>0?(n(),o("button",{key:0,class:"bulk-fab",onClick:Se},[e[23]||(e[23]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("path",{d:"M3 6h18"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),t("span",null,_(k.value.length),1)])):C("",!0)]),_:1}),(n(),R(oe,{to:"body"},[E(Z,{name:"filter-overlay"},{default:j(()=>[u.value?(n(),o("div",{key:0,class:"filter-overlay",onClick:e[9]||(e[9]=U(s=>u.value=!1,["self"]))},[E(Z,{name:"filter-slide"},{default:j(()=>[u.value?(n(),o("div",Mt,[t("div",$t,[e[25]||(e[25]=t("h3",{class:"filter-sidebar__title"},"Filters",-1)),t("button",{class:"filter-sidebar__close",onClick:e[6]||(e[6]=s=>u.value=!1)},[...e[24]||(e[24]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",St,[t("div",Ft,[e[26]||(e[26]=t("div",{class:"filter-section__title"},"Type",-1)),t("div",Lt,[(n(!0),o($,null,S(he.value,s=>(n(),o("button",{key:s,class:B(["filter-chip",{active:l.names.includes(s)}]),onClick:v=>D("names",s)},_(s),11,At))),128))])]),X.value.length?(n(),o("div",Dt,[e[27]||(e[27]=t("div",{class:"filter-section__title"},"Skin",-1)),t("div",Et,[(n(!0),o($,null,S(X.value,s=>(n(),o("button",{key:s,class:B(["filter-chip",{active:l.models.includes(s)}]),onClick:v=>D("models",s)},_(s),11,Gt))),128))])])):C("",!0),ee.value.length?(n(),o("div",Ht,[e[28]||(e[28]=t("div",{class:"filter-section__title"},"Backdrop",-1)),t("div",Tt,[(n(!0),o($,null,S(ee.value,s=>(n(),o("button",{key:s,class:B(["filter-chip",{active:l.backdrops.includes(s)}]),onClick:v=>D("backdrops",s)},_(s),11,Vt))),128))])])):C("",!0),te.value.length?(n(),o("div",Nt,[e[29]||(e[29]=t("div",{class:"filter-section__title"},"Pattern",-1)),t("div",zt,[(n(!0),o($,null,S(te.value,s=>(n(),o("button",{key:s,class:B(["filter-chip",{active:l.patterns.includes(s)}]),onClick:v=>D("patterns",s)},_(s),11,Ot))),128))])])):C("",!0),le.value.length?(n(),o("div",jt,[e[30]||(e[30]=t("div",{class:"filter-section__title"},"Symbol",-1)),t("div",Zt,[(n(!0),o($,null,S(le.value,s=>(n(),o("button",{key:s,class:B(["filter-chip",{active:l.symbols.includes(s)}]),onClick:v=>D("symbols",s)},_(s),11,It))),128))])])):C("",!0),t("div",Rt,[e[31]||(e[31]=t("div",{class:"filter-section__title"},"Rarity",-1)),t("div",Ut,[(n(),o($,null,S(se,s=>t("button",{key:s.value,class:B(["filter-chip rarity-chip",{active:l.rarities.includes(s.value)}]),style:Y(l.rarities.includes(s.value)?{background:s.color,borderColor:s.color}:{}),onClick:v=>D("rarities",s.value)},_(s.label),15,Wt)),64))])]),t("div",Kt,[e[33]||(e[33]=t("div",{class:"filter-section__title"},"Price (TON)",-1)),t("div",Jt,[t("div",qt,[ce(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>l.minPrice=s),type:"number",placeholder:"Min",class:"price-input",min:"0",step:"0.1"},null,512),[[de,l.minPrice,void 0,{number:!0}]])]),e[32]||(e[32]=t("span",{class:"price-dash"},"—",-1)),t("div",Qt,[ce(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>l.maxPrice=s),type:"number",placeholder:"Max",class:"price-input",min:"0",step:"0.1"},null,512),[[de,l.maxPrice,void 0,{number:!0}]])])])])]),t("div",Yt,[t("button",{class:"filter-sidebar__reset",onClick:re},"Reset"),t("button",{class:"filter-sidebar__apply",onClick:W},[e[34]||(e[34]=De(" Apply ",-1)),ie.value>0?(n(),o("span",Xt,_(ie.value),1)):C("",!0)])])])):C("",!0)]),_:1})])):C("",!0)]),_:1})]))]))}}),il=z(el,[["__scopeId","data-v-eb463f4d"]]);export{il as default};
