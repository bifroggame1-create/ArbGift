import{f as tt,h as et,q as at,a as n,b as e,F as B,k as I,t as h,p as $,n as A,v as P,x as R,y as V,j as st,r as i,c as g,o}from"./vue-DpDB_xhb.js";import{a as lt}from"./index-DCUERR7g.js";const nt={class:"rocket-game"},ot={class:"stars-bg"},it={class:"game-header-bar"},ut={class:"header-balance"},rt={class:"balance-val"},dt={class:"history-bar"},vt={class:"game-area"},ct={class:"rocket-canvas"},ht={class:"trail-svg",viewBox:"0 0 300 300",preserveAspectRatio:"none"},pt={id:"trailGrad",x1:"0",y1:"1",x2:"1",y2:"0"},ft=["stop-color"],mt=["d"],gt=["d","fill"],yt={class:"multiplier-display"},bt={key:0,class:"waiting-text"},_t={class:"waiting-timer"},wt={key:1,class:"flying-multiplier"},xt={key:2,class:"crashed-multiplier"},kt={class:"crash-value"},Mt={class:"bet-panel"},$t={class:"bet-row"},Ct={class:"bet-input-group"},Ft={class:"bet-input-wrap"},Bt={class:"quick-bets"},It={class:"bet-input-group"},At={class:"bet-input-wrap"},Ot=["disabled"],Tt={class:"players-bar"},Lt={class:"players-header-bar"},Dt={class:"total-pool"},St={width:"10",height:"10",viewBox:"0 0 56 56",fill:"none",style:{"vertical-align":"middle","margin-right":"2px"}},Et={class:"players-list"},Pt={class:"p-name"},Rt={class:"p-bet"},Vt={key:0,class:"p-cashout green"},Nt={key:1,class:"p-cashout red"},jt={key:2,class:"p-cashout waiting"},Gt=tt({__name:"RocketView",setup(Ht){const N=i(5),l=i("waiting"),c=i(1),y=i(0),u=i(.5),_=i(null),d=i(!1),p=i(!1),w=i(5),j=i(147),C=i(0),x=i([2.41,1.23,5.67,1.08,3.12,1.92,7.84,1.45,2.33,1.11]),b=i(0),O=i(150),T=i(280),m=i([]),G=g(()=>{const s=[],t=Math.floor(b.value*50);for(let a=0;a<=t;a++){const r=a/50,v=r*280+10,f=280-Math.pow(r,.7)*260;s.push(a===0?`M ${v} ${f}`:`L ${v} ${f}`)}return s.join(" ")}),H=g(()=>{const s=Math.floor(b.value*50);if(s<1)return"";let t="";for(let v=0;v<=s;v++){const f=v/50,S=f*280+10,E=280-Math.pow(f,.7)*260;t+=v===0?`M ${S} ${E}`:` L ${S} ${E}`}const r=s/50*280+10;return t+=` L ${r} 290 L 10 290 Z`,t}),U=g(()=>{const s=b.value,t=s*280+10,a=280-Math.pow(s,.7)*260;return O.value=t,T.value=a,{left:`${t/300*100}%`,bottom:`${(300-a)/300*100}%`}}),Z=g(()=>({left:`${O.value/300*100}%`,bottom:`${(300-T.value)/300*100}%`})),q=g(()=>l.value==="waiting"?d.value?"cancel":"bet":l.value==="flying"?d.value&&!p.value?"cashout":"disabled":"bet"),z=g(()=>l.value==="waiting"?d.value?"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ð²ÐºÑƒ":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`:l.value==="flying"?d.value&&!p.value?`Ð—Ð°Ð±Ñ€Ð°Ñ‚ÑŒ ${(u.value*c.value).toFixed(2)} TON`:"ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ...":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`),X=g(()=>l.value==="flying"&&(!d.value||p.value));function L(s){u.value=Math.max(.1,+(u.value+s).toFixed(2))}function K(){if(l.value==="waiting")d.value=!d.value;else if(l.value==="flying"&&d.value&&!p.value){p.value=!0;const s=m.value.find(t=>t.id===99);s&&(s.cashedOut=!0,s.cashoutAt=c.value)}else l.value==="crashed"&&(d.value=!0)}function W(s){return{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`}}function Y(){const s=Math.random();return Math.min(Math.max(1,(1-.03)/(1-s)),100)}function J(){const s=["CryptoKing","TonMaster","DegenBoy","Player42","LuckyGirl","BigBet","SmallFish","WhaleAlert"],t=Math.floor(Math.random()*5)+3,a=[];let r=0;for(let v=0;v<t;v++){const f=+(Math.random()*5+.1).toFixed(2);r+=f,a.push({id:v,username:s[v%s.length],amount:f,cashedOut:!1})}return C.value=r,a}let k=null,M=null;function D(){l.value="waiting",c.value=1,b.value=0,p.value=!1,w.value=5,m.value=J(),d.value&&(m.value.push({id:99,username:"Ð¢Ñ‹",amount:u.value,cashedOut:!1}),C.value+=u.value),M=window.setInterval(()=>{w.value-=.1,w.value<=0&&(clearInterval(M),Q())},100)}function Q(){l.value="flying",y.value=Y();const s=Date.now();k=window.setInterval(()=>{const t=(Date.now()-s)/1e3;c.value=Math.pow(Math.E,.06*t),b.value=Math.min(1,t/20);for(const a of m.value)if(!a.cashedOut&&a.id!==99){const r=1.1+Math.random()*(y.value-1.1)*.8;c.value>=r&&(a.cashedOut=!0,a.cashoutAt=c.value)}if(d.value&&!p.value&&_.value&&c.value>=_.value){p.value=!0;const a=m.value.find(r=>r.id===99);a&&(a.cashedOut=!0,a.cashoutAt=c.value)}c.value>=y.value&&(clearInterval(k),l.value="crashed",c.value=y.value,x.value.unshift(y.value),x.value.length>10&&x.value.pop(),setTimeout(()=>{d.value=!1,D()},3e3))},50)}let F=null;return et(()=>{D(),F=window.setInterval(()=>{j.value=Math.floor(Math.random()*50)+120},5e3)}),at(()=>{k&&clearInterval(k),M&&clearInterval(M),F&&clearInterval(F)}),(s,t)=>(o(),n("div",nt,[e("div",ot,[(o(),n(B,null,I(40,a=>e("div",{key:a,class:"star",style:A(W())},null,4)),64))]),e("header",it,[e("button",{class:"header-back",onClick:t[0]||(t[0]=a=>s.$router.push("/solo"))},[...t[9]||(t[9]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),t[12]||(t[12]=e("div",{class:"header-title"},[e("span",{class:"title-main"},"Rocket"),e("span",{class:"title-badge",style:{background:"#f59e0b"}},"x100")],-1)),e("div",ut,[t[10]||(t[10]=e("svg",{width:"16",height:"16",viewBox:"0 0 56 56",fill:"none"},[e("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),e("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),e("span",rt,h(N.value.toFixed(2)),1),t[11]||(t[11]=e("button",{class:"balance-plus"},"+",-1))])]),e("div",dt,[(o(!0),n(B,null,I(x.value,(a,r)=>(o(),n("div",{key:r,class:V(["history-item",a>=2?"green":"red"])},h(a.toFixed(2))+"x ",3))),128))]),e("div",vt,[e("div",ct,[(o(),n("svg",ht,[e("defs",null,[e("linearGradient",pt,[t[13]||(t[13]=e("stop",{offset:"0%","stop-color":"transparent"},null,-1)),e("stop",{offset:"100%","stop-color":l.value==="crashed"?"#ef4444":"#22c55e"},null,8,ft)])]),l.value!=="waiting"?(o(),n("path",{key:0,d:G.value,fill:"none",stroke:"url(#trailGrad)","stroke-width":"3","stroke-linecap":"round"},null,8,mt)):$("",!0),l.value!=="waiting"?(o(),n("path",{key:1,d:H.value,fill:l.value==="crashed"?"rgba(239,68,68,0.1)":"rgba(34,197,94,0.1)"},null,8,gt)):$("",!0)])),l.value==="flying"?(o(),n("div",{key:0,class:"rocket-sprite",style:A(U.value)}," ðŸš€ ",4)):$("",!0),l.value==="crashed"?(o(),n("div",{key:1,class:"explosion",style:A(Z.value)}," ðŸ’¥ ",4)):$("",!0),e("div",yt,[l.value==="waiting"?(o(),n("div",bt,[t[14]||(t[14]=e("span",{class:"waiting-label"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ...",-1)),e("span",_t,h(w.value.toFixed(1))+"s",1)])):l.value==="flying"?(o(),n("div",wt,h(c.value.toFixed(2))+"x ",1)):(o(),n("div",xt,[t[15]||(t[15]=e("span",{class:"crash-label"},"CRASHED",-1)),e("span",kt,h(y.value.toFixed(2))+"x",1)]))])])]),e("div",Mt,[e("div",$t,[e("div",Ct,[t[16]||(t[16]=e("label",null,"Ð¡Ñ‚Ð°Ð²ÐºÐ°",-1)),e("div",Ft,[e("button",{class:"bet-adjust",onClick:t[1]||(t[1]=a=>L(-.1))},"-"),P(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=a=>u.value=a),min:"0.1",step:"0.1"},null,512),[[R,u.value,void 0,{number:!0}]]),e("button",{class:"bet-adjust",onClick:t[3]||(t[3]=a=>L(.1))},"+")]),e("div",Bt,[e("button",{onClick:t[4]||(t[4]=a=>u.value=.1)},"0.1"),e("button",{onClick:t[5]||(t[5]=a=>u.value=.5)},"0.5"),e("button",{onClick:t[6]||(t[6]=a=>u.value=1)},"1"),e("button",{onClick:t[7]||(t[7]=a=>u.value=5)},"5")])]),e("div",It,[t[17]||(t[17]=e("label",null,"ÐÐ²Ñ‚Ð¾-Ð²Ñ‹Ð²Ð¾Ð´",-1)),e("div",At,[P(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=a=>_.value=a),min:"1.1",step:"0.1",placeholder:"x2.00"},null,512),[[R,_.value,void 0,{number:!0}]])])])]),e("button",{class:V(["action-btn",q.value]),onClick:K,disabled:X.value},h(z.value),11,Ot)]),e("div",Tt,[e("div",Lt,[e("span",null,"Ð˜Ð³Ñ€Ð¾ÐºÐ¸ ("+h(m.value.length)+")",1),e("span",Dt,[(o(),n("svg",St,[...t[18]||(t[18]=[e("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"},null,-1),e("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"},null,-1)])])),st(" "+h(C.value.toFixed(2)),1)])]),e("div",Et,[(o(!0),n(B,null,I(m.value,a=>(o(),n("div",{key:a.id,class:"player-row"},[e("span",Pt,h(a.username),1),e("span",Rt,h(a.amount.toFixed(2)),1),a.cashedOut?(o(),n("span",Vt,h(a.cashoutAt?.toFixed(2))+"x",1)):l.value==="crashed"?(o(),n("span",Nt,"-")):(o(),n("span",jt,"..."))]))),128))])])]))}}),qt=lt(Gt,[["__scopeId","data-v-103a181f"]]);export{qt as default};
