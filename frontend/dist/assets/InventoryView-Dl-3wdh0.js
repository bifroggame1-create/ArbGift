import{d as H,H as Q,o as U,b as n,e as s,F as k,v as C,t as a,u as h,k as w,x as W,y as J,f as m,r as c,c as T,D as K,a as o,E as F,n as y}from"./vue-CF-r4DcL.js";import{a as X,_ as Y}from"./index-hgAJBUmO.js";import{p as Z}from"./client-COG1KRRB.js";const ee={class:"inventory-view"},se={class:"stars-bg"},te={class:"inv-header"},le={class:"header-title"},ne={class:"items-count"},oe={class:"header-right"},ae={class:"wallet-address"},ie={class:"header-balance"},re={class:"balance-value"},ce={class:"inv-tabs"},de=["onClick"],ue={class:"tab-icon"},ve={class:"tab-label"},pe={class:"tab-count"},he={class:"filter-bar"},me={class:"search-box"},ye={key:0,class:"items-grid"},ge=["onClick"],fe={key:0,width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor"},be=["src","alt"],_e={class:"item-info"},ke={class:"item-name"},Ce={class:"item-price"},we={key:1,class:"empty-state"},xe={key:2,class:"empty-state"},Me={key:3,class:"empty-state"},$e={key:4,class:"empty-state"},Te={key:5,class:"action-bar"},Fe={class:"action-info"},Ne={class:"selected-count"},Ie={class:"selected-value"},Se=H({__name:"InventoryView",setup(Ve){const N=K(),{init:I,connect:S,isConnected:d,address:x,shortAddress:V}=X(),g=c(0),u=c("all"),v=c(""),f=c(!1),i=c([]),b=c(!1),p=c(null),B=[{id:"all",label:"–í—Å–µ",icon:"üì¶"},{id:"gift",label:"–ì–∏—Ñ—Ç—ã",icon:"üéÅ"}],r=c([]),D=t=>t>=10?"legendary":t>=3?"epic":t>=.5?"rare":"common",_=async()=>{if(x.value){b.value=!0,p.value=null;try{const t=await Z(x.value);r.value=t.map(e=>{const l=e.price_ton?parseFloat(e.price_ton):0;return{id:e.address,name:e.name,image:e.image_url||"/gifts/default.webp",price:l,rarity:D(l),bgColor:"#1a1a2e",type:"gift",collectionName:e.collection_name}}),g.value=r.value.reduce((e,l)=>e+l.price,0)}catch(t){p.value=t.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å",console.error("Inventory fetch error:",t)}finally{b.value=!1}}};Q(d,t=>{t?_():(r.value=[],g.value=0)}),U(async()=>{await I(),d.value&&_()});const L=t=>t==="all"?r.value.length:r.value.filter(e=>e.type===t).length,M=T(()=>{let t=r.value;if(u.value!=="all"&&(t=t.filter(e=>e.type===u.value)),v.value){const e=v.value.toLowerCase();t=t.filter(l=>l.name.toLowerCase().includes(e))}return t=[...t].sort((e,l)=>f.value?e.price-l.price:l.price-e.price),t}),P=T(()=>r.value.filter(t=>i.value.includes(t.id)).reduce((t,e)=>t+e.price,0)),O=t=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`}),z=()=>{f.value=!f.value},A=t=>{const e=i.value.indexOf(t);e===-1?i.value.push(t):i.value.splice(e,1)},E=()=>{alert("–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ —Ä–µ–ª–µ–µ—Ä –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ")},R=()=>{alert("–§—É–Ω–∫—Ü–∏—è –ø–æ–¥–∞—Ä–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ")},j=()=>{const t=i.value.join(",");N.push(`/pvp?gifts=${t}`)},q=async()=>{try{await S()}catch(t){console.error("Failed to connect wallet:",t)}},$=()=>{_()};return(t,e)=>(o(),n("div",ee,[s("div",se,[(o(),n(k,null,C(20,l=>s("div",{key:l,class:"star",style:F(O())},null,4)),64))]),s("header",te,[s("div",le,[e[2]||(e[2]=s("h1",null,"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å",-1)),s("span",ne,a(h(d)?`${r.value.length} NFT`:"–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ"),1)]),s("div",oe,[h(d)?(o(),n("div",{key:0,class:"wallet-badge",onClick:$},[e[3]||(e[3]=s("span",{class:"wallet-icon"},"üëõ",-1)),s("span",ae,a(h(V)),1)])):w("",!0),s("div",ie,[e[4]||(e[4]=s("span",{class:"balance-icon"},"üíé",-1)),s("span",re,a(g.value.toFixed(2)),1)])])]),s("div",ce,[(o(),n(k,null,C(B,l=>s("button",{key:l.id,class:y(["tab-btn",{active:u.value===l.id}]),onClick:G=>u.value=l.id},[s("span",ue,a(l.icon),1),s("span",ve,a(l.label),1),s("span",pe,a(L(l.id)),1)],10,de)),64))]),s("div",he,[s("div",me,[e[5]||(e[5]=s("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("circle",{cx:"11",cy:"11",r:"8"}),s("path",{d:"M21 21l-4.35-4.35"})],-1)),W(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."},null,512),[[J,v.value]])]),s("button",{class:"sort-btn",onClick:z},[...e[6]||(e[6]=[s("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l4 4 4-4M7 3v18"})],-1)])])]),M.value.length>0?(o(),n("div",ye,[(o(!0),n(k,null,C(M.value,l=>(o(),n("div",{key:l.id,class:y(["item-card",{selected:i.value.includes(l.id)}]),onClick:G=>A(l.id)},[s("div",{class:y(["item-checkbox",{checked:i.value.includes(l.id)}])},[i.value.includes(l.id)?(o(),n("svg",fe,[...e[7]||(e[7]=[s("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])):w("",!0)],2),s("div",{class:"item-image",style:F({background:l.bgColor})},[s("img",{src:l.image,alt:l.name},null,8,be)],4),s("div",_e,[s("span",ke,a(l.name),1),s("span",Ce,[e[8]||(e[8]=s("span",{class:"price-icon"},"üíé",-1)),m(" "+a(l.price)+" TON ",1)])]),s("div",{class:y(["item-rarity",l.rarity])},a(l.rarity),3)],10,ge))),128))])):b.value?(o(),n("div",we,[...e[9]||(e[9]=[s("div",{class:"loading-spinner"},null,-1),s("h3",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è...",-1),s("p",null,"–ü–æ–ª—É—á–∞–µ–º NFT –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞",-1)])])):h(d)?p.value?(o(),n("div",Me,[e[13]||(e[13]=s("div",{class:"empty-icon"},"‚ö†Ô∏è",-1)),e[14]||(e[14]=s("h3",null,"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",-1)),s("p",null,a(p.value),1),s("button",{class:"btn-shop",onClick:$}," –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ ")])):(o(),n("div",$e,[e[15]||(e[15]=s("div",{class:"empty-icon"},"üì¶",-1)),e[16]||(e[16]=s("h3",null,"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç",-1)),e[17]||(e[17]=s("p",null,"–ö—É–ø–∏—Ç–µ –≥–∏—Ñ—Ç—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ –∏–ª–∏ –≤—ã–∏–≥—Ä–∞–π—Ç–µ –≤ –∏–≥—Ä–∞—Ö",-1)),s("button",{class:"btn-shop",onClick:e[1]||(e[1]=l=>t.$router.push("/shop"))}," –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω ")])):(o(),n("div",xe,[e[10]||(e[10]=s("div",{class:"empty-icon"},"üîó",-1)),e[11]||(e[11]=s("h3",null,"–ö–æ—à–µ–ª—ë–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω",-1)),e[12]||(e[12]=s("p",null,"–ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON –∫–æ—à–µ–ª—ë–∫ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –≥–∏—Ñ—Ç—ã",-1)),s("button",{class:"btn-connect",onClick:q}," –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫ ")])),i.value.length>0?(o(),n("div",Te,[s("div",Fe,[s("span",Ne,a(i.value.length)+" –≤—ã–±—Ä–∞–Ω–æ",1),s("span",Ie,a(P.value.toFixed(2))+" TON",1)]),s("div",{class:"action-buttons"},[s("button",{class:"btn-sell",onClick:E},[...e[18]||(e[18]=[s("span",null,"üí∞",-1),m(" –ü—Ä–æ–¥–∞—Ç—å ",-1)])]),s("button",{class:"btn-gift",onClick:R},[...e[19]||(e[19]=[s("span",null,"üéÅ",-1),m(" –ü–æ–¥–∞—Ä–∏—Ç—å ",-1)])]),s("button",{class:"btn-pvp",onClick:j},[...e[20]||(e[20]=[s("span",null,"‚öîÔ∏è",-1),m(" –í PvP ",-1)])])])])):w("",!0)]))}}),Pe=Y(Se,[["__scopeId","data-v-2ec7cd9e"]]);export{Pe as default};
