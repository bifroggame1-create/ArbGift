import{_ as vs}from"./ton_symbol-CfLG12-S.js";import{u as us,a as ps}from"./index-DCUERR7g.js";import{s as ms,a as gs}from"./client-Byqmzb3A.js";import{f as hs,h as ks,q as ws,a as fs,b as s,t as a,u as l,i as v,j as h,d as bs,w as ys,n as r,r as e,c as $,e as xs,o as Bs}from"./vue-DpDB_xhb.js";import"./index-D5GkNzM3.js";const Cs={class:"earn-view"},Ls={class:"earn-header"},Ms={class:"earn-header__content"},Ps={class:"countdown"},Rs={class:"countdown__group"},Es={class:"countdown__digit"},Ss={class:"countdown__digit"},$s={class:"countdown__group"},js={class:"countdown__digit"},Ts={class:"countdown__digit"},Vs={class:"countdown__group"},Fs={class:"countdown__digit"},Ds={class:"countdown__digit"},Is={class:"countdown__group"},As={class:"countdown__digit"},Gs={class:"countdown__digit"},Hs={class:"farming-pool"},Ns={class:"farming-pool__amount"},Us={class:"farming-pool__value"},zs={class:"action-buttons"},Os={class:"user-card"},qs={class:"user-card__top"},Ws={class:"user-card__info"},Zs={class:"user-card__avatar"},Js={class:"user-card__details"},Ks={class:"user-card__name"},Qs={class:"user-card__balance"},Xs={class:"user-card__rank"},Ys={class:"user-card__rank-total"},st={class:"modules"},tt={class:"modules__list"},et={class:"module-card__header"},at={class:"module-card__bp"},ot={class:"module-card__subtitle"},dt={class:"module-card__progress"},lt={class:"progress-bar progress-bar--staking"},nt={class:"module-card__header"},it={class:"module-card__badge"},rt={class:"module-card__progress"},ct={class:"progress-bar"},_t={class:"module-card__subtitle"},vt={class:"module-card__header"},ut={class:"module-card__badge"},pt={class:"module-card__rate"},mt={class:"module-card__progress"},gt={class:"progress-bar"},ht={class:"module-card__earned"},kt={class:"module-card__header"},wt={class:"module-card__badge"},ft={class:"module-card__rate"},bt={class:"module-card__progress"},yt={class:"progress-bar"},xt={class:"module-card__earned"},Bt={class:"module-card__header"},Ct={class:"module-card__badge"},Lt={class:"module-card__rate"},Mt={class:"module-card__progress"},Pt={class:"progress-bar"},Rt={class:"module-card__earned"},Et={class:"module-card__header"},St={class:"module-card__badge"},$t={class:"module-card__rate"},jt={class:"module-card__progress"},Tt={class:"progress-bar"},Vt={class:"module-card__earned"},Ft={class:"module-card__header"},Dt={class:"module-card__badge"},It={class:"module-card__rate"},At={class:"module-card__progress"},Gt={class:"progress-bar"},Ht={class:"module-card__earned"},Nt=hs({__name:"EarnView",setup(Ut){const{user:i,initWebApp:j,hapticImpact:d}=us(),b=e(3441.017),T=e(Date.now()+3*24*60*60*1e3),y=e(Date.now());let p=null;const n=$(()=>{const c=Math.max(0,T.value-y.value),t=Math.floor(c/1e3),u=Math.floor(t/86400),o=Math.floor(t%86400/3600),g=Math.floor(t%3600/60),f=t%60,_=_s=>String(_s).padStart(2,"0"),P=_(u),R=_(o),E=_(g),S=_(f);return{d1:P[0],d2:P[1],h1:R[0],h2:R[1],m1:E[0],m2:E[1],s1:S[0],s2:S[1]}}),m=e("user"),V=$(()=>(m.value[0]||"U").toUpperCase()),x=e(0),F=e(0),D=e(0),k=e(0),B=e(0),C=e(0),w=e(0),L=e(10),I=e(0),A=e(0),M=e(0),G=e(0),H=e(0),N=e(50),U=e(.5),z=e(1),O=e(0),q=e(0),W=e(0),Z=e(0),J=e(0),K=e(0),Q=e(0),X=e(0),Y=e(0),ss=e(0),ts=e(0),es=e(0),as=e(0),os=e(0),ds=e(0),ls=e(0),ns=e(0),is=e(0),rs=e(0),cs=e(0);return ks(async()=>{if(j(),p=setInterval(()=>{y.value=Date.now()},1e3),i.value?.username?m.value=i.value.username:i.value?.first_name&&(m.value=i.value.first_name),!!i.value?.id)try{const[c,t]=await Promise.all([ms(i.value.id),gs(i.value.id,"active")]);if(k.value=parseFloat(c.total_rewards_earned_ton||"0"),b.value=parseFloat(c.total_staked_ton||"3441.017"),t.length>0){const u=t.reduce((o,g)=>{const f=parseFloat(g.estimated_reward_ton||"0"),_=g.period_days||30;return o+f/_},0);B.value=parseFloat(u.toFixed(4)),I.value=Math.min(Math.floor(t.length/2),10),A.value=Math.round(B.value*100),G.value=Math.round(k.value*100),M.value=Math.min(100,t.length/10*100)}x.value=Math.round(k.value*100),t.length>0&&(w.value=Math.min(t.length,L.value),C.value=w.value*10)}catch{}}),ws(()=>{p&&(clearInterval(p),p=null)}),(c,t)=>{const u=xs("router-link");return Bs(),fs("div",Cs,[s("div",Ls,[s("div",Ms,[s("div",Ps,[s("div",Rs,[s("span",Es,a(n.value.d1),1),s("span",Ss,a(n.value.d2),1)]),t[11]||(t[11]=s("span",{class:"countdown__sep"},":",-1)),s("div",$s,[s("span",js,a(n.value.h1),1),s("span",Ts,a(n.value.h2),1)]),t[12]||(t[12]=s("span",{class:"countdown__sep"},":",-1)),s("div",Vs,[s("span",Fs,a(n.value.m1),1),s("span",Ds,a(n.value.m2),1)]),t[13]||(t[13]=s("span",{class:"countdown__sep"},":",-1)),s("div",Is,[s("span",As,a(n.value.s1),1),s("span",Gs,a(n.value.s2),1)])]),s("div",Hs,[t[15]||(t[15]=s("div",{class:"farming-pool__label"},"Farming Pool",-1)),s("div",Ns,[t[14]||(t[14]=s("svg",{class:"farming-pool__ton-icon",viewBox:"0 0 56 56",fill:"none"},[s("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),s("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),s("span",Us,a(b.value.toFixed(3)),1)])]),s("div",zs,[s("button",{class:"action-btn",onClick:t[0]||(t[0]=o=>l(d)("light"))},[...t[16]||(t[16]=[v('<div class="action-btn__icon" data-v-ce765152><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" data-v-ce765152></path><polyline points="14 2 14 8 20 8" data-v-ce765152></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-ce765152></line><line x1="16" y1="17" x2="8" y2="17" data-v-ce765152></line><line x1="10" y1="9" x2="8" y2="9" data-v-ce765152></line></svg></div><span class="action-btn__label" data-v-ce765152>Onboarding</span>',2)])]),s("button",{class:"action-btn",onClick:t[1]||(t[1]=o=>l(d)("light"))},[...t[17]||(t[17]=[v('<div class="action-btn__icon" data-v-ce765152><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><path d="M8 21h8" data-v-ce765152></path><path d="M12 17v4" data-v-ce765152></path><path d="M7 4h10" data-v-ce765152></path><path d="M5 8h14" data-v-ce765152></path><rect x="3" y="12" width="18" height="5" rx="1" data-v-ce765152></rect></svg></div><span class="action-btn__label" data-v-ce765152>Leaderboard</span>',2)])])])])]),s("div",Os,[s("div",qs,[s("div",Ws,[s("div",Zs,[s("span",null,a(V.value),1)]),s("div",Js,[s("div",Ks,"@"+a(m.value),1),s("div",Qs,[t[18]||(t[18]=h("Balance: ",-1)),s("span",null,a(x.value)+" BP",1)])])]),s("div",Xs,[h(" Top "+a(F.value)+" ",1),s("span",Ys,"/"+a(D.value),1)])]),s("button",{class:"user-card__cta",onClick:t[2]||(t[2]=o=>l(d)("medium"))}," Farm more to win the prize ")]),s("div",st,[t[40]||(t[40]=s("h2",{class:"modules__title"},"Modules",-1)),s("div",tt,[s("div",{class:"module-card module-card--tasks",onClick:t[3]||(t[3]=o=>l(d)("light"))},[s("div",et,[t[19]||(t[19]=s("div",{class:"module-card__icon-wrap module-card__icon-wrap--tasks"},[s("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("path",{d:"M9 11l3 3L22 4"}),s("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})])],-1)),s("div",at,a(C.value)+" BP",1)]),t[20]||(t[20]=s("div",{class:"module-card__title"},"Tasks",-1)),s("div",ot,a(w.value)+" / "+a(L.value)+" tasks completed",1),t[21]||(t[21]=s("div",{class:"module-card__link"},"Open Tasks",-1))]),bs(u,{to:"/staking",class:"module-card module-card--staking",onClick:t[4]||(t[4]=o=>l(d)("medium"))},{default:ys(()=>[t[22]||(t[22]=s("div",{class:"module-card__header"},[s("div",{class:"module-card__icon-wrap module-card__icon-wrap--staking"}," ðŸŽ "),s("div",{class:"module-card__apr"},"ðŸ”¥ 600% APR")],-1)),t[23]||(t[23]=s("div",{class:"module-card__title"},"Gift Staking",-1)),t[24]||(t[24]=s("div",{class:"module-card__subtitle--hot"},"Stake gifts, earn up to 3000% effective APR!",-1)),s("div",dt,[s("div",lt,[s("div",{class:"progress-bar__fill progress-bar__fill--staking",style:r({width:M.value+"%"})},null,4)])]),t[25]||(t[25]=s("div",{class:"module-card__link"},"Open Staking â†’",-1))]),_:1}),s("div",{class:"module-card",onClick:t[5]||(t[5]=o=>l(d)("light"))},[s("div",nt,[t[26]||(t[26]=s("div",{class:"module-card__icon-wrap"},[s("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})])],-1)),s("div",it,"LvL "+a(H.value),1)]),t[29]||(t[29]=s("div",{class:"module-card__title"},"Ice Arena",-1)),s("div",rt,[s("div",ct,[s("div",{class:"progress-bar__fill",style:r({width:N.value+"%"})},null,4)])]),s("div",_t,[h(a(U.value)+" / "+a(z.value)+" ",1),t[27]||(t[27]=s("img",{src:vs,width:"10",height:"10",style:{display:"inline-block","vertical-align":"middle"}},null,-1)),t[28]||(t[28]=h(" next LvL",-1))])]),s("div",{class:"module-card",onClick:t[6]||(t[6]=o=>l(d)("light"))},[s("div",vt,[t[30]||(t[30]=v('<div class="module-card__icon-wrap" data-v-ce765152><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><circle cx="12" cy="12" r="10" data-v-ce765152></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" data-v-ce765152></path><path d="M2 12h20" data-v-ce765152></path></svg></div>',1)),s("div",ut,"LvL "+a(O.value),1)]),t[31]||(t[31]=s("div",{class:"module-card__title"},"Ball Race",-1)),s("div",pt,a(q.value)+" BP/h",1),s("div",mt,[s("div",gt,[s("div",{class:"progress-bar__fill",style:r({width:W.value+"%"})},null,4)])]),s("div",ht,"+"+a(Z.value)+" BP",1)]),s("div",{class:"module-card",onClick:t[7]||(t[7]=o=>l(d)("light"))},[s("div",kt,[t[32]||(t[32]=s("div",{class:"module-card__icon-wrap"},[s("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s("polyline",{points:"16 7 22 7 22 13"})])],-1)),s("div",wt,"LvL "+a(J.value),1)]),t[33]||(t[33]=s("div",{class:"module-card__title"},"Trading PnL",-1)),s("div",ft,a(K.value)+" BP/h",1),s("div",bt,[s("div",yt,[s("div",{class:"progress-bar__fill",style:r({width:Q.value+"%"})},null,4)])]),s("div",xt,"+"+a(X.value)+" BP",1)]),s("div",{class:"module-card",onClick:t[8]||(t[8]=o=>l(d)("light"))},[s("div",Bt,[t[34]||(t[34]=v('<div class="module-card__icon-wrap" data-v-ce765152><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" data-v-ce765152></path><polyline points="16 17 21 12 16 7" data-v-ce765152></polyline><line x1="21" y1="12" x2="9" y2="12" data-v-ce765152></line></svg></div>',1)),s("div",Ct,"LvL "+a(Y.value),1)]),t[35]||(t[35]=s("div",{class:"module-card__title"},"Ball Escape",-1)),s("div",Lt,a(ss.value)+" BP/h",1),s("div",Mt,[s("div",Pt,[s("div",{class:"progress-bar__fill",style:r({width:ts.value+"%"})},null,4)])]),s("div",Rt,"+"+a(es.value)+" BP",1)]),s("div",{class:"module-card",onClick:t[9]||(t[9]=o=>l(d)("light"))},[s("div",Et,[t[36]||(t[36]=v('<div class="module-card__icon-wrap" data-v-ce765152><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><circle cx="12" cy="12" r="10" data-v-ce765152></circle><line x1="12" y1="8" x2="12" y2="12" data-v-ce765152></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-ce765152></line></svg></div>',1)),s("div",St,"LvL "+a(as.value),1)]),t[37]||(t[37]=s("div",{class:"module-card__title"},"Gift Plinko",-1)),s("div",$t,a(os.value)+" BP/h",1),s("div",jt,[s("div",Tt,[s("div",{class:"progress-bar__fill",style:r({width:ds.value+"%"})},null,4)])]),s("div",Vt,"+"+a(ls.value)+" BP",1)]),s("div",{class:"module-card",onClick:t[10]||(t[10]=o=>l(d)("light"))},[s("div",Ft,[t[38]||(t[38]=v('<div class="module-card__icon-wrap" data-v-ce765152><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ce765152><path d="M17 8h1a4 4 0 1 1 0 8h-1" data-v-ce765152></path><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V8z" data-v-ce765152></path><line x1="6" y1="2" x2="6" y2="4" data-v-ce765152></line><line x1="10" y1="2" x2="10" y2="4" data-v-ce765152></line><line x1="14" y1="2" x2="14" y2="4" data-v-ce765152></line></svg></div>',1)),s("div",Dt,"LvL "+a(ns.value),1)]),t[39]||(t[39]=s("div",{class:"module-card__title"},"Gonka",-1)),s("div",It,a(is.value)+" BP/h",1),s("div",At,[s("div",Gt,[s("div",{class:"progress-bar__fill",style:r({width:rs.value+"%"})},null,4)])]),s("div",Ht,"+"+a(cs.value)+" BP",1)])])]),t[41]||(t[41]=s("div",{class:"earn-view__spacer"},null,-1))])}}}),Jt=ps(Nt,[["__scopeId","data-v-ce765152"]]);export{Jt as default};
