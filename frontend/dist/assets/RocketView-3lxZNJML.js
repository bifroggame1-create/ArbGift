import{f as tt,h as et,q as at,a as n,b as e,F as B,k as I,t as h,p as $,n as O,s as R,v as E,x as N,r as i,c as g,o}from"./vue-DjRH996n.js";import{a as st}from"./index-DYmP8bWk.js";const lt={class:"rocket-game"},nt={class:"stars-bg"},ot={class:"game-header-bar"},it={class:"header-balance"},ut={class:"balance-val"},rt={class:"history-bar"},dt={class:"game-area"},vt={class:"rocket-canvas"},ct={class:"trail-svg",viewBox:"0 0 300 300",preserveAspectRatio:"none"},ht={id:"trailGrad",x1:"0",y1:"1",x2:"1",y2:"0"},pt=["stop-color"],ft=["d"],mt=["d","fill"],gt={class:"multiplier-display"},yt={key:0,class:"waiting-text"},bt={class:"waiting-timer"},_t={key:1,class:"flying-multiplier"},kt={key:2,class:"crashed-multiplier"},wt={class:"crash-value"},xt={class:"bet-panel"},Mt={class:"bet-row"},$t={class:"bet-input-group"},Ct={class:"bet-input-wrap"},Ft={class:"quick-bets"},Bt={class:"bet-input-group"},It={class:"bet-input-wrap"},Ot=["disabled"],Tt={class:"players-bar"},At={class:"players-header-bar"},Dt={class:"total-pool"},St={class:"players-list"},Lt={class:"p-name"},Pt={class:"p-bet"},Rt={key:0,class:"p-cashout green"},Et={key:1,class:"p-cashout red"},Nt={key:2,class:"p-cashout waiting"},Vt=tt({__name:"RocketView",setup(Gt){const V=i(5),l=i("waiting"),c=i(1),y=i(0),u=i(.5),_=i(null),d=i(!1),p=i(!1),k=i(5),G=i(147),C=i(0),w=i([2.41,1.23,5.67,1.08,3.12,1.92,7.84,1.45,2.33,1.11]),b=i(0),T=i(150),A=i(280),m=i([]),j=g(()=>{const s=[],t=Math.floor(b.value*50);for(let a=0;a<=t;a++){const r=a/50,v=r*280+10,f=280-Math.pow(r,.7)*260;s.push(a===0?`M ${v} ${f}`:`L ${v} ${f}`)}return s.join(" ")}),U=g(()=>{const s=Math.floor(b.value*50);if(s<1)return"";let t="";for(let v=0;v<=s;v++){const f=v/50,L=f*280+10,P=280-Math.pow(f,.7)*260;t+=v===0?`M ${L} ${P}`:` L ${L} ${P}`}const r=s/50*280+10;return t+=` L ${r} 290 L 10 290 Z`,t}),q=g(()=>{const s=b.value,t=s*280+10,a=280-Math.pow(s,.7)*260;return T.value=t,A.value=a,{left:`${t/300*100}%`,bottom:`${(300-a)/300*100}%`}}),z=g(()=>({left:`${T.value/300*100}%`,bottom:`${(300-A.value)/300*100}%`})),H=g(()=>l.value==="waiting"?d.value?"cancel":"bet":l.value==="flying"?d.value&&!p.value?"cashout":"disabled":"bet"),X=g(()=>l.value==="waiting"?d.value?"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ð²ÐºÑƒ":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`:l.value==="flying"?d.value&&!p.value?`Ð—Ð°Ð±Ñ€Ð°Ñ‚ÑŒ ${(u.value*c.value).toFixed(2)} TON`:"ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ...":`ÐŸÐ¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ${u.value.toFixed(2)} TON`),Z=g(()=>l.value==="flying"&&(!d.value||p.value));function D(s){u.value=Math.max(.1,+(u.value+s).toFixed(2))}function K(){if(l.value==="waiting")d.value=!d.value;else if(l.value==="flying"&&d.value&&!p.value){p.value=!0;const s=m.value.find(t=>t.id===99);s&&(s.cashedOut=!0,s.cashoutAt=c.value)}else l.value==="crashed"&&(d.value=!0)}function W(s){return{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`}}function Y(){const s=Math.random();return Math.min(Math.max(1,(1-.03)/(1-s)),100)}function J(){const s=["CryptoKing","TonMaster","DegenBoy","Player42","LuckyGirl","BigBet","SmallFish","WhaleAlert"],t=Math.floor(Math.random()*5)+3,a=[];let r=0;for(let v=0;v<t;v++){const f=+(Math.random()*5+.1).toFixed(2);r+=f,a.push({id:v,username:s[v%s.length],amount:f,cashedOut:!1})}return C.value=r,a}let x=null,M=null;function S(){l.value="waiting",c.value=1,b.value=0,p.value=!1,k.value=5,m.value=J(),d.value&&(m.value.push({id:99,username:"Ð¢Ñ‹",amount:u.value,cashedOut:!1}),C.value+=u.value),M=window.setInterval(()=>{k.value-=.1,k.value<=0&&(clearInterval(M),Q())},100)}function Q(){l.value="flying",y.value=Y();const s=Date.now();x=window.setInterval(()=>{const t=(Date.now()-s)/1e3;c.value=Math.pow(Math.E,.06*t),b.value=Math.min(1,t/20);for(const a of m.value)if(!a.cashedOut&&a.id!==99){const r=1.1+Math.random()*(y.value-1.1)*.8;c.value>=r&&(a.cashedOut=!0,a.cashoutAt=c.value)}if(d.value&&!p.value&&_.value&&c.value>=_.value){p.value=!0;const a=m.value.find(r=>r.id===99);a&&(a.cashedOut=!0,a.cashoutAt=c.value)}c.value>=y.value&&(clearInterval(x),l.value="crashed",c.value=y.value,w.value.unshift(y.value),w.value.length>10&&w.value.pop(),setTimeout(()=>{d.value=!1,S()},3e3))},50)}let F=null;return et(()=>{S(),F=window.setInterval(()=>{G.value=Math.floor(Math.random()*50)+120},5e3)}),at(()=>{x&&clearInterval(x),M&&clearInterval(M),F&&clearInterval(F)}),(s,t)=>(o(),n("div",lt,[e("div",nt,[(o(),n(B,null,I(40,a=>e("div",{key:a,class:"star",style:O(W())},null,4)),64))]),e("header",ot,[e("button",{class:"header-back",onClick:t[0]||(t[0]=a=>s.$router.push("/solo"))},[...t[9]||(t[9]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),t[12]||(t[12]=e("div",{class:"header-title"},[e("span",{class:"title-main"},"Rocket"),e("span",{class:"title-badge",style:{background:"#f59e0b"}},"x100")],-1)),e("div",it,[t[10]||(t[10]=e("svg",{width:"16",height:"16",viewBox:"0 0 56 56",fill:"none"},[e("circle",{cx:"28",cy:"28",r:"28",fill:"#0098EA"}),e("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5765 22.4861C43.3045 19.4202 41.0761 15.6277 37.5603 15.6277Z",fill:"white"})],-1)),e("span",ut,h(V.value.toFixed(2)),1),t[11]||(t[11]=e("button",{class:"balance-plus"},"+",-1))])]),e("div",rt,[(o(!0),n(B,null,I(w.value,(a,r)=>(o(),n("div",{key:r,class:N(["history-item",a>=2?"green":"red"])},h(a.toFixed(2))+"x ",3))),128))]),e("div",dt,[e("div",vt,[(o(),n("svg",ct,[e("defs",null,[e("linearGradient",ht,[t[13]||(t[13]=e("stop",{offset:"0%","stop-color":"transparent"},null,-1)),e("stop",{offset:"100%","stop-color":l.value==="crashed"?"#ef4444":"#22c55e"},null,8,pt)])]),l.value!=="waiting"?(o(),n("path",{key:0,d:j.value,fill:"none",stroke:"url(#trailGrad)","stroke-width":"3","stroke-linecap":"round"},null,8,ft)):$("",!0),l.value!=="waiting"?(o(),n("path",{key:1,d:U.value,fill:l.value==="crashed"?"rgba(239,68,68,0.1)":"rgba(34,197,94,0.1)"},null,8,mt)):$("",!0)])),l.value==="flying"?(o(),n("div",{key:0,class:"rocket-sprite",style:O(q.value)}," ðŸš€ ",4)):$("",!0),l.value==="crashed"?(o(),n("div",{key:1,class:"explosion",style:O(z.value)}," ðŸ’¥ ",4)):$("",!0),e("div",gt,[l.value==="waiting"?(o(),n("div",yt,[t[14]||(t[14]=e("span",{class:"waiting-label"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ...",-1)),e("span",bt,h(k.value.toFixed(1))+"s",1)])):l.value==="flying"?(o(),n("div",_t,h(c.value.toFixed(2))+"x ",1)):(o(),n("div",kt,[t[15]||(t[15]=e("span",{class:"crash-label"},"CRASHED",-1)),e("span",wt,h(y.value.toFixed(2))+"x",1)]))])])]),e("div",xt,[e("div",Mt,[e("div",$t,[t[16]||(t[16]=e("label",null,"Ð¡Ñ‚Ð°Ð²ÐºÐ°",-1)),e("div",Ct,[e("button",{class:"bet-adjust",onClick:t[1]||(t[1]=a=>D(-.1))},"-"),R(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=a=>u.value=a),min:"0.1",step:"0.1"},null,512),[[E,u.value,void 0,{number:!0}]]),e("button",{class:"bet-adjust",onClick:t[3]||(t[3]=a=>D(.1))},"+")]),e("div",Ft,[e("button",{onClick:t[4]||(t[4]=a=>u.value=.1)},"0.1"),e("button",{onClick:t[5]||(t[5]=a=>u.value=.5)},"0.5"),e("button",{onClick:t[6]||(t[6]=a=>u.value=1)},"1"),e("button",{onClick:t[7]||(t[7]=a=>u.value=5)},"5")])]),e("div",Bt,[t[17]||(t[17]=e("label",null,"ÐÐ²Ñ‚Ð¾-Ð²Ñ‹Ð²Ð¾Ð´",-1)),e("div",It,[R(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=a=>_.value=a),min:"1.1",step:"0.1",placeholder:"x2.00"},null,512),[[E,_.value,void 0,{number:!0}]])])])]),e("button",{class:N(["action-btn",H.value]),onClick:K,disabled:Z.value},h(X.value),11,Ot)]),e("div",Tt,[e("div",At,[e("span",null,"Ð˜Ð³Ñ€Ð¾ÐºÐ¸ ("+h(m.value.length)+")",1),e("span",Dt,h(C.value.toFixed(2))+" TON",1)]),e("div",St,[(o(!0),n(B,null,I(m.value,a=>(o(),n("div",{key:a.id,class:"player-row"},[e("span",Lt,h(a.username),1),e("span",Pt,h(a.amount.toFixed(2)),1),a.cashedOut?(o(),n("span",Rt,h(a.cashoutAt?.toFixed(2))+"x",1)):l.value==="crashed"?(o(),n("span",Et,"-")):(o(),n("span",Nt,"..."))]))),128))])])]))}}),qt=st(Vt,[["__scopeId","data-v-6f33b4ab"]]);export{qt as default};
