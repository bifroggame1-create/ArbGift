import{d as st,o as at,E as nt,b as n,e as t,F as p,j as m,t as o,B as G,n as x,h as B,w as T,r,c as A,g as lt,a as l,D as W}from"./vue-Cjsr3efg.js";import{_ as ot}from"./index-BJMxcBRC.js";const it={class:"trading-view"},rt={class:"stars-bg"},ut={class:"trading-header"},ct={class:"header-balance"},dt={class:"balance-value"},vt={class:"connection-bar"},ht={class:"game-info"},pt={class:"hash-text"},mt={class:"chart-container"},_t=["viewBox"],gt=["y1","y2"],yt=["x1","x2"],xt=["x1","y1","x2","y2","stroke"],ft=["x","y","width","height","fill"],kt=["y1","y2"],wt=["d","stroke"],bt=["d"],Mt={key:0,class:"multiplier-active"},Ct={key:1,class:"multiplier-crashed"},$t={class:"crash-value"},Bt={class:"next-game"},Tt={key:2,class:"multiplier-waiting"},Ft={class:"y-axis"},Dt={class:"crashes-strip"},It={class:"traders-panel"},St={class:"traders-header"},Ht={class:"traders-count"},Pt={class:"traders-list"},Vt={class:"trader-info"},At={class:"trader-name"},Nt={class:"trader-bet"},Et={key:0,class:"status-won"},Ot={key:1},zt={key:2,class:"status-waiting"},Gt={class:"bet-controls"},Rt={class:"bet-amounts"},jt=["onClick"],Lt={class:"amount-value"},Ut={class:"action-buttons"},Wt=["disabled"],Xt={class:"btn-text"},Yt=["disabled"],qt={class:"btn-text"},Jt={class:"auto-cashout"},Kt={class:"auto-options"},Qt=["onClick"],Zt={class:"bottom-nav"},f=340,k=180,w=16,te=st({__name:"TradingView",setup(ee){const N=r(4.16),c=r(1),u=r("pending"),F=r(0),D=r(5),R=r(28392),j=r("3d07...f8da"),b=r([]),h=r([]),X=Math.floor(f/w)-2,Y=()=>{const a=[];let e=1;for(let i=0;i<15;i++){const s=e,v=(Math.random()-.45)*.3,y=Math.max(.5,e+v),tt=Math.max(s,y)+Math.random()*.1,et=Math.min(s,y)-Math.random()*.1;a.push({open:s,high:tt,low:et,close:y,time:Date.now()-(15-i)*5e3}),e=y}return a};b.value=Y();const I=A(()=>b.value.slice(-X)),E=A(()=>{const a=I.value.flatMap(e=>[e.low,e.high]);return h.value.length>0&&a.push(...h.value),Math.max(.5,Math.min(...a)-.2)}),O=A(()=>{const a=I.value.flatMap(e=>[e.low,e.high]);return h.value.length>0&&a.push(...h.value),Math.max(...a)+.5}),_=a=>{const e=O.value-E.value;return k-(a-E.value)/e*k},z=a=>(a+1)*w,S=A(()=>{if(h.value.length<2)return"";const a=(I.value.length+1)*w;return`M ${h.value.map((i,s)=>{const v=a+s*3,y=_(i);return`${v},${y}`}).join(" L ")}`}),H=r([2.34,1.12,5.67,1.89,3.21,1.05,8.92,2.11]),M=r([{id:1,name:"trader1",bet:2.5,color:"#22c55e",status:"playing",multiplier:1.45},{id:2,name:"winner99",bet:1,color:"#3b82f6",status:"won",profit:1.8},{id:3,name:"lucky_star",bet:5,color:"#ec4899",status:"waiting"}]),q=[.5,1,2,5],g=r(1),J=[1.5,2,3,5,10],C=r(null),d=r(null),P=r(!1),V=r(!1),K=a=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*2+2}s`});let $=null;const L=()=>{u.value="active",c.value=1,h.value=[1];const a=Math.random(),e=a<.3?1+Math.random()*.5:a<.7?1.5+Math.random()*2:3+Math.random()*7;$=window.setInterval(()=>{if(u.value!=="active")return;const i=.01+Math.random()*.03;c.value+=i,h.value.push(c.value),M.value.forEach(s=>{s.status==="playing"&&(s.multiplier=c.value)}),c.value>=e&&Q(),C.value&&d.value&&c.value>=C.value&&U()},80)},Q=()=>{F.value=c.value,u.value="crashed",H.value.unshift(F.value),H.value=H.value.slice(0,10);const a=b.value[b.value.length-1];b.value.push({open:a?.close||1,high:F.value,low:a?.close||1,close:1,time:Date.now()}),d.value&&(d.value=null),$&&clearInterval($),D.value=5;const e=setInterval(()=>{D.value--,D.value<=0&&(clearInterval(e),u.value="pending",R.value++,h.value=[],j.value=Math.random().toString(36).substring(2,10),setTimeout(L,2e3))},1e3)},Z=async()=>{u.value==="pending"&&(P.value=!0,await new Promise(a=>setTimeout(a,300)),d.value={amount:g.value},N.value-=g.value,M.value.unshift({id:Date.now(),name:"you",bet:g.value,color:"#facc15",status:"waiting"}),P.value=!1)},U=async()=>{if(!d.value||u.value!=="active")return;V.value=!0,await new Promise(i=>setTimeout(i,200));const a=d.value.amount*c.value;N.value+=a;const e=M.value.find(i=>i.name==="you");e&&(e.status="won",e.profit=a-d.value.amount),d.value=null,V.value=!1};return at(()=>{setTimeout(L,2e3)}),nt(()=>{$&&clearInterval($)}),(a,e)=>{const i=lt("router-link");return l(),n("div",it,[t("div",rt,[(l(),n(p,null,m(20,s=>t("div",{key:s,class:"star",style:W(K())},null,4)),64))]),t("header",ut,[t("button",{class:"header-back",onClick:e[0]||(e[0]=s=>a.$router.push("/solo"))},[...e[1]||(e[1]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e[4]||(e[4]=t("div",{class:"header-title"},[t("span",{class:"title-main"},"Trading"),t("span",{class:"title-badge"},"CRASH")],-1)),t("div",ct,[e[2]||(e[2]=t("span",{class:"balance-icon"},"ðŸ’Ž",-1)),t("span",dt,o(N.value.toFixed(2)),1),e[3]||(e[3]=t("button",{class:"balance-add"},"+",-1))])]),t("div",vt,[e[5]||(e[5]=t("div",{class:"connection-status connected"},[t("span",{class:"status-dot"}),t("span",null,"Connected")],-1)),t("div",ht,[t("span",null,"Ð˜Ð“Ð Ð #"+o(R.value),1),t("span",pt,o(j.value),1)])]),t("div",mt,[(l(),n("svg",{class:"candlestick-chart",viewBox:`0 0 ${f} ${k}`,preserveAspectRatio:"none"},[(l(),n(p,null,m(5,s=>t("line",{key:"h"+s,x1:"0",y1:k*s/5,x2:f,y2:k*s/5,stroke:"rgba(255,255,255,0.05)","stroke-width":"1"},null,8,gt)),64)),(l(),n(p,null,m(8,s=>t("line",{key:"v"+s,x1:f*s/8,y1:"0",x2:f*s/8,y2:k,stroke:"rgba(255,255,255,0.03)","stroke-width":"1"},null,8,yt)),64)),(l(!0),n(p,null,m(I.value,(s,v)=>(l(),n("g",{key:v},[t("line",{x1:z(v)+w/2,y1:_(s.high),x2:z(v)+w/2,y2:_(s.low),stroke:s.close>=s.open?"#22c55e":"#ef4444","stroke-width":"1"},null,8,xt),t("rect",{x:z(v),y:_(Math.max(s.open,s.close)),width:w-2,height:Math.max(2,Math.abs(_(s.open)-_(s.close))),fill:s.close>=s.open?"#22c55e":"#ef4444",rx:"1"},null,8,ft)]))),128)),u.value==="active"?(l(),n("line",{key:0,x1:"0",y1:_(c.value),x2:f,y2:_(c.value),stroke:"#3b82f6","stroke-width":"1","stroke-dasharray":"4,4",opacity:"0.7"},null,8,kt)):G("",!0),S.value?(l(),n("path",{key:1,d:S.value,fill:"none",stroke:u.value==="crashed"?"#ef4444":"#22c55e","stroke-width":"2","stroke-linecap":"round"},null,8,wt)):G("",!0),S.value&&u.value==="active"?(l(),n("path",{key:2,d:S.value,fill:"none",stroke:"#22c55e","stroke-width":"6","stroke-linecap":"round",opacity:"0.3",filter:"blur(4px)"},null,8,bt)):G("",!0)],8,_t)),t("div",{class:x(["multiplier-overlay",{crashed:u.value==="crashed"}])},[u.value==="active"?(l(),n("div",Mt,[t("span",{class:x(["multiplier-value",{high:c.value>=2}])},o(c.value.toFixed(2))+"x ",3),e[6]||(e[6]=t("span",{class:"multiplier-label"},"ÐœÐÐžÐ–Ð˜Ð¢Ð•Ð›Ð¬",-1))])):u.value==="crashed"?(l(),n("div",Ct,[t("span",$t,o(F.value.toFixed(2))+"x",1),e[7]||(e[7]=t("span",{class:"crash-label"},"CRASHED!",-1)),t("span",Bt,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ Ð¸Ð³Ñ€Ð° Ñ‡ÐµÑ€ÐµÐ· "+o(D.value)+"Ñ",1)])):(l(),n("div",Tt,[...e[8]||(e[8]=[t("span",{class:"waiting-text"},"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²...",-1),t("span",{class:"waiting-sub"},"Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð°Ð²ÐºÑƒ",-1)])]))],2),t("div",Ft,[(l(),n(p,null,m(5,s=>t("span",{key:s,class:"y-label"},o((O.value-(O.value-E.value)*(s-1)/4).toFixed(2))+"x",1)),64))])]),t("div",Dt,[(l(!0),n(p,null,m(H.value,(s,v)=>(l(),n("div",{key:v,class:x(["crash-badge",s>=2?"high":"low"])},o(s.toFixed(2))+"x ",3))),128))]),t("div",It,[t("div",St,[e[9]||(e[9]=t("span",{class:"traders-title"},"Ð˜Ð³Ñ€Ð¾ÐºÐ¸",-1)),t("span",Ht,o(M.value.length),1)]),t("div",Pt,[(l(!0),n(p,null,m(M.value,s=>(l(),n("div",{key:s.id,class:"trader-item"},[t("div",{class:"trader-avatar",style:W({background:s.color})},o(s.name.charAt(0).toUpperCase()),5),t("div",Vt,[t("span",At,"@"+o(s.name),1),t("span",Nt,o(s.bet)+" TON",1)]),t("div",{class:x(["trader-status",s.status])},[s.status==="won"?(l(),n("span",Et,"+"+o(s.profit?.toFixed(2)),1)):s.status==="playing"?(l(),n("span",Ot,o(s.multiplier?.toFixed(2))+"x",1)):(l(),n("span",zt,"â³"))],2)]))),128))])]),t("div",Gt,[t("div",Rt,[(l(),n(p,null,m(q,s=>t("button",{key:s,class:x(["bet-amount",{active:g.value===s}]),onClick:v=>g.value=s},[t("span",Lt,o(s),1),e[10]||(e[10]=t("span",{class:"amount-icon"},"ðŸ’Ž",-1))],10,jt)),64))]),t("div",Ut,[t("button",{class:"btn-buy",disabled:u.value!=="pending"||P.value,onClick:Z},[e[11]||(e[11]=t("span",{class:"btn-icon"},"ðŸ“ˆ",-1)),t("span",Xt,o(P.value?"ÐŸÐ¾ÐºÑƒÐ¿Ð°ÐµÐ¼...":`ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ ${g.value} TON`),1)],8,Wt),t("button",{class:"btn-sell",disabled:!d.value||u.value!=="active"||V.value,onClick:U},[e[12]||(e[12]=t("span",{class:"btn-icon"},"ðŸ“‰",-1)),t("span",qt,o(V.value?"ÐŸÑ€Ð¾Ð´Ð°Ñ‘Ð¼...":d.value?`ÐŸÑ€Ð¾Ð´Ð°Ñ‚ÑŒ +${(d.value.amount*c.value-d.value.amount).toFixed(2)}`:"ÐŸÑ€Ð¾Ð´Ð°Ñ‚ÑŒ"),1)],8,Yt)]),t("div",Jt,[e[13]||(e[13]=t("span",{class:"auto-label"},"ÐÐ²Ñ‚Ð¾-Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð°:",-1)),t("div",Kt,[(l(),n(p,null,m(J,s=>t("button",{key:s,class:x(["auto-btn",{active:C.value===s}]),onClick:v=>C.value=C.value===s?null:s},o(s)+"x ",11,Qt)),64))])])]),t("nav",Zt,[B(i,{to:"/pvp",class:"nav-item"},{default:T(()=>[...e[14]||(e[14]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 4l4 4m8 8l4 4M4 20l4-4m8-8l4-4M12 12l-8 8m16 0l-8-8m0 0l8-8M4 4l8 8"})],-1),t("span",null,"ÐŸÐ²ÐŸ",-1)])]),_:1}),B(i,{to:"/solo",class:"nav-item active"},{default:T(()=>[...e[15]||(e[15]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),t("span",null,"Ð¡Ð¾Ð»Ð¾",-1)])]),_:1}),B(i,{to:"/inventory",class:"nav-item"},{default:T(()=>[...e[16]||(e[16]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),t("path",{d:"M3 9h18M9 21V9"})],-1),t("span",null,"Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ",-1)])]),_:1}),B(i,{to:"/shop",class:"nav-item"},{default:T(()=>[...e[17]||(e[17]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),t("span",null,"ÐœÐ°Ð³Ð°Ð·Ð¸Ð½",-1)])]),_:1}),B(i,{to:"/profile",class:"nav-item"},{default:T(()=>[...e[18]||(e[18]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),t("circle",{cx:"12",cy:"7",r:"4"})],-1),t("span",null,"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",-1)])]),_:1})])])}}}),ne=ot(te,[["__scopeId","data-v-0ca3a647"]]);export{ne as default};
