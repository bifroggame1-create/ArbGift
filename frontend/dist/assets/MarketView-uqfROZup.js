import{o as ve,r as h,d as Fe,b as u,e as t,F as B,v as M,n as _,t as m,k as w,x as U,y as j,z as ae,A as oe,j as re,h as ne,w as ce,T as ue,B as Te,c as F,C as De,a as r,f as Ae,D as Ge,E as Ee}from"./vue-CF-r4DcL.js";import{G as Oe}from"./GiftCard-PpCPlk87.js";import{u as Ve,_ as Ne}from"./index-BrllXF1s.js";import{s as Le,g as de,a as ze}from"./client-COG1KRRB.js";const J="market_prices_cache",R=5*60*1e3;function q(g){return g.length===0?0:Math.min(...g.map(a=>a.price))}function pe(g){if(g.length===0)return 0;const a=[...g].sort((p,f)=>p.price-f.price),n=Math.floor(a.length/2);return a.length%2!==0?a[n].price:(a[n-1].price+a[n].price)/2}function he(g){return g.length===0?null:g.reduce((a,n)=>n.price<a.price?n:a)}class He{cache={};constructor(){this.loadCache()}loadCache(){try{const a=localStorage.getItem(J);a&&(this.cache=JSON.parse(a),this.cleanExpiredCache())}catch(a){console.warn("Failed to load price cache:",a),this.cache={}}}persistCache(){try{localStorage.setItem(J,JSON.stringify(this.cache))}catch(a){console.warn("Failed to persist price cache:",a)}}cleanExpiredCache(){const a=Date.now();for(const[n,p]of Object.entries(this.cache))a-p.timestamp>R&&delete this.cache[n]}clearCache(){this.cache={},localStorage.removeItem(J)}getCachedPrice(a){const n=this.cache[a];return n?Date.now()-n.timestamp>R?(delete this.cache[a],0):q(n.prices):0}setCachedPrice(a,n){this.cache[a]={prices:n,timestamp:Date.now()}}async fetchFromApi(a){try{const n=await fetch(`/api/v1/gifts/${a}`);if(!n.ok)return null;const p=await n.json();return p.min_price_ton&&parseFloat(p.min_price_ton)>0?{source:"api",price:parseFloat(p.min_price_ton),currency:"TON",updatedAt:new Date}:null}catch{return null}}async getAggregatedPrice(a){const n=this.cache[a];if(n&&Date.now()-n.timestamp<R)return n.prices;const f=(await Promise.allSettled([this.fetchFromApi(a)])).filter(k=>k.status==="fulfilled").map(k=>k.value).filter(k=>k!==null&&k.price>0);return f.length>0&&this.setCachedPrice(a,f),f}async getAggregatedGifts(a){const n=new Map,p=10;for(let f=0;f<a.length;f+=p){const k=a.slice(f,f+p);await Promise.all(k.map(async T=>{const C=await this.getAggregatedPrice(T);C.length>0&&n.set(T,{giftId:T,name:"",model:"",prices:C,minPrice:q(C),medianPrice:pe(C),bestDeal:he(C)})}))}return n}}const V=new He;function Ue(){const g=h(!1),a=h(null),n=h([]),p=h(new Map);ve(()=>{V.loadCache()});const f=d=>V.getCachedPrice(d),k=async d=>{g.value=!0,a.value=null;try{p.value=await V.getAggregatedGifts(d),V.persistCache()}catch(o){a.value="Failed to load prices",console.error("Preload prices error:",o)}finally{g.value=!1}};return{isLoading:g,error:a,gifts:n,aggregatedData:p,getCachedPrice:f,preloadPrices:k,getGiftPrices:async d=>{try{return await V.getAggregatedPrice(d)}catch(o){return console.error("Get gift prices error:",o),[]}},getBestPrice:d=>{const o=f(d);if(o>0)return o;const y=p.value.get(d);return y?y.minPrice:0},getPriceDisplay:d=>{const o=p.value.get(d);if(o&&o.bestDeal)return{price:o.minPrice.toFixed(2),source:o.bestDeal.source};const y=f(d);return y>0?{price:y.toFixed(2),source:"cached"}:{price:"‚Äî",source:"unavailable"}},enrichGiftsWithPrices:d=>d.map(o=>{const y=o.id||o.gift_id||"",E=p.value.get(y);let P=0,b=[],x=null,A="api";if(E)P=E.minPrice,b=E.prices,x=E.bestDeal,A=x?.source||"aggregated";else if(o.floor_price)P=typeof o.floor_price=="string"?parseFloat(o.floor_price):o.floor_price,A="api";else{const L=f(y);L>0&&(P=L,A="cached")}return{id:y,name:o.name||"",model:o.model||"",image:o.image,floorPrice:P,prices:b,bestDeal:x,priceSource:A}}),refreshPrices:async d=>{V.clearCache(),await k(d)},getPriceComparison:d=>{const o=p.value.get(d);return!o||o.prices.length===0?null:{min:o.minPrice,median:o.medianPrice,sources:o.prices.map(y=>y.source)}},calculateMinPrice:q,calculateMedianPrice:pe,getBestDeal:he}}const je={class:"market-view"},Ke={class:"market-nav"},We=["onClick"],Je={class:"market-toolbar"},Re={key:0,class:"filter-badge"},qe={class:"search-box"},Qe={class:"sort-content"},Ye={class:"sort-value"},Xe={class:"view-modes"},Ze={key:0,class:"active-filters"},Ie=["onClick"],et={class:"af-label"},tt={class:"sort-menu"},st=["onClick"],lt={key:2,class:"loading-container"},it={key:3,class:"gift-grid-container"},at={key:0,class:"pagination"},ot={class:"page-controls"},rt=["disabled"],nt={class:"page-info"},ct={class:"current-page"},ut={class:"total-pages"},dt=["disabled"],vt=["max"],pt={key:2,class:"empty-state"},ht={key:0,class:"filter-sidebar"},ft={class:"filter-header"},mt={class:"filter-body"},gt={class:"filter-section"},bt={class:"filter-chips"},kt=["onClick"],yt={key:0,class:"filter-section"},wt={class:"filter-chips"},_t=["onClick"],Ct={key:1,class:"filter-section"},Pt={class:"filter-chips"},xt=["onClick"],Bt={key:2,class:"filter-section"},Mt={class:"filter-chips"},$t=["onClick"],St={key:3,class:"filter-section"},Ft={class:"filter-chips"},Tt=["onClick"],Dt={class:"filter-section"},At={class:"filter-chips"},Gt=["onClick"],Et={class:"filter-section"},Ot={class:"price-range"},Vt={class:"price-input-wrap"},Nt={class:"price-input-wrap"},Lt={class:"filter-footer"},zt={key:0,class:"filter-apply-count"},Ht={class:"market-footer"},Ut={class:"footer-left"},jt={class:"ton-price"},Kt={class:"price-value"},Wt={class:"volume-info"},Jt={class:"volume-value"},K=50,Rt=Fe({__name:"MarketView",setup(g){const a=Ge(),{hapticImpact:n}=Ve(),{preloadPrices:p,enrichGiftsWithPrices:f}=Ue(),k=[{id:"all",label:"–í—Å–µ –ø–æ–¥–∞—Ä–∫–∏"},{id:"collections",label:"–ö–æ–ª–ª–µ–∫—Ü–∏–∏"},{id:"bundles",label:"–ë–∞–Ω–¥–ª—ã"}],T=h("all"),C=h(!0),D=h([]),H=h(""),N=h("listed_at desc"),G=h("large"),d=h(!1),o=h(!1),y=h(!1),E=h(!1),P=h([]),b=h(1),x=h(50),A=h("1.33"),L=h("247.5K"),i=De({names:[],models:[],backdrops:[],patterns:[],symbols:[],rarities:[],minPrice:null,maxPrice:null}),$=h([]),fe=F(()=>[...new Set($.value.map(l=>l.name).filter(Boolean))].sort()),Q=F(()=>[...new Set($.value.map(l=>l.model).filter(Boolean))].sort()),Y=F(()=>[...new Set($.value.map(l=>l.backdrop).filter(Boolean))].sort()),X=F(()=>[...new Set($.value.map(l=>l.pattern).filter(Boolean))].sort()),Z=F(()=>[...new Set($.value.map(l=>l.symbol).filter(Boolean))].sort()),I=[{value:"common",label:"Common",color:"#6b7280"},{value:"uncommon",label:"Uncommon",color:"#22c55e"},{value:"rare",label:"Rare",color:"#3b82f6"},{value:"epic",label:"Epic",color:"#a855f7"},{value:"legendary",label:"Legendary",color:"#f59e0b"},{value:"mythic",label:"Mythic",color:"#ef4444"}],z=F(()=>{let l=0;return l+=i.names.length,l+=i.models.length,l+=i.backdrops.length,l+=i.patterns.length,l+=i.symbols.length,l+=i.rarities.length,i.minPrice!==null&&l++,i.maxPrice!==null&&l++,l}),ee=F(()=>{const l=[];return i.names.forEach(e=>l.push({key:`name-${e}`,group:"names",value:e,label:e})),i.models.forEach(e=>l.push({key:`model-${e}`,group:"models",value:e,label:`–ú–æ–¥–µ–ª—å: ${e}`})),i.backdrops.forEach(e=>l.push({key:`backdrop-${e}`,group:"backdrops",value:e,label:`–§–æ–Ω: ${e}`})),i.patterns.forEach(e=>l.push({key:`pattern-${e}`,group:"patterns",value:e,label:`–ü–∞—Ç—Ç–µ—Ä–Ω: ${e}`})),i.symbols.forEach(e=>l.push({key:`symbol-${e}`,group:"symbols",value:e,label:`–°–∏–º–≤–æ–ª: ${e}`})),i.rarities.forEach(e=>{const s=I.find(c=>c.value===e);l.push({key:`rarity-${e}`,group:"rarities",value:e,label:s?.label||e})}),i.minPrice!==null&&l.push({key:"minPrice",group:"minPrice",value:String(i.minPrice),label:`–æ—Ç ${i.minPrice} TON`}),i.maxPrice!==null&&l.push({key:"maxPrice",group:"maxPrice",value:String(i.maxPrice),label:`–¥–æ ${i.maxPrice} TON`}),l}),O=(l,e)=>{const s=i[l],c=s.indexOf(e);c>-1?s.splice(c,1):s.push(e)},me=l=>{if(l.group==="minPrice")i.minPrice=null;else if(l.group==="maxPrice")i.maxPrice=null;else{const e=i[l.group],s=e.indexOf(l.value);s>-1&&e.splice(s,1)}W()},te=()=>{i.names=[],i.models=[],i.backdrops=[],i.patterns=[],i.symbols=[],i.rarities=[],i.minPrice=null,i.maxPrice=null},W=()=>{o.value=!1,b.value=1,S()},se=[{value:"listed_at desc",label:"–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ"},{value:"listed_at asc",label:"–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ"},{value:"price asc",label:"–î–µ—à–µ–≤–ª–µ"},{value:"price desc",label:"–î–æ—Ä–æ–∂–µ"}],ge=F(()=>se.find(l=>l.value===N.value)?.label||"–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ"),be=l=>{n("light"),T.value=l,l==="collections"?a.push("/collection-list"):l==="bundles"&&a.push("/bundles")},ke=l=>{n("light"),N.value=l,d.value=!1,S()};let le;const ye=()=>{clearTimeout(le),le=setTimeout(()=>{S()},300)},we=()=>{b.value>1&&(b.value--,S())},_e=()=>{b.value<x.value&&(b.value++,S())},S=async()=>{C.value=!0;try{const l=(b.value-1)*K,e=H.value?.trim();let s;if(e)s=await Le(e,{limit:K,collection_id:void 0});else{const v={is_on_sale:!0,sort:N.value,limit:K,offset:l};i.rarities.length===1&&(v.rarity=i.rarities[0]),i.models.length===1&&(v.model=i.models[0]),i.backdrops.length===1&&(v.backdrop=i.backdrops[0]),i.patterns.length===1&&(v.pattern=i.patterns[0]),i.symbols.length===1&&(v.symbol=i.symbols[0]),i.minPrice!==null&&(v.min_price=i.minPrice),i.maxPrice!==null&&(v.max_price=i.maxPrice),s=await de(v)}let c=s.items||s||[];i.names.length>0&&(c=c.filter(v=>i.names.includes(v.name))),i.rarities.length>1&&(c=c.filter(v=>i.rarities.includes(v.rarity))),i.models.length>1&&(c=c.filter(v=>i.models.includes(v.model))),i.backdrops.length>1&&(c=c.filter(v=>i.backdrops.includes(v.backdrop))),i.patterns.length>1&&(c=c.filter(v=>i.patterns.includes(v.pattern))),i.symbols.length>1&&(c=c.filter(v=>i.symbols.includes(v.symbol))),$.value.length===0&&c.length>0&&($.value=c),s.total&&(x.value=Math.ceil(s.total/K));const ie=c.map(v=>v.id||v.gift_id).filter(Boolean);ie.length>0?(D.value=c,p(ie).then(()=>{D.value=f(c)})):D.value=c}catch(l){console.error("Fetch gifts error:",l),D.value=[]}finally{C.value=!1}},Ce=async()=>{try{const l=await de({is_on_sale:!0,limit:500}),e=l.items||l||[];e.length>0&&($.value=e)}catch{}},Pe=async()=>{try{const l=await ze();l.volume_24h&&(L.value=xe(l.volume_24h)),l.ton_price&&(A.value=l.ton_price.toFixed(2))}catch{}},xe=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),Be=l=>{n("light"),a.push(`/gift/${l.id}`)},Me=l=>{n("medium")},$e=l=>{n("light");const e=P.value.indexOf(l.id);e>-1?P.value.splice(e,1):P.value.push(l.id)},Se=()=>{n("heavy")};return ve(()=>{S(),Pe(),Ce()}),(l,e)=>(r(),u("div",je,[t("nav",Ke,[(r(),u(B,null,M(k,s=>t("button",{key:s.id,class:_(["nav-tab",{active:T.value===s.id}]),onClick:c=>be(s.id)},m(s.label),11,We)),64))]),t("div",Je,[t("button",{class:_(["toolbar-btn filter-btn",{"has-filters":z.value>0}]),onClick:e[0]||(e[0]=s=>o.value=!0)},[e[13]||(e[13]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z"})],-1)),e[14]||(e[14]=t("span",null,"–§–∏–ª—å—Ç—Ä—ã",-1)),z.value>0?(r(),u("span",Re,m(z.value),1)):w("",!0)],2),t("div",qe,[e[15]||(e[15]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"m21 21-4.35-4.35"})],-1)),U(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>H.value=s),type:"text",placeholder:"–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫",class:"search-input",onInput:ye},null,544),[[j,H.value]])]),t("button",{class:"toolbar-btn sort-btn",onClick:e[2]||(e[2]=s=>d.value=!d.value)},[t("div",Qe,[e[16]||(e[16]=t("span",{class:"sort-label"},"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ",-1)),t("span",Ye,m(ge.value),1)]),e[17]||(e[17]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m6 9 6 6 6-6"})],-1))]),t("button",{class:"toolbar-btn activity-btn",onClick:e[3]||(e[3]=s=>y.value=!0)},[...e[18]||(e[18]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})],-1),t("span",null,"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",-1)])]),t("div",Xe,[t("button",{class:_(["view-btn",{active:G.value==="small"}]),onClick:e[4]||(e[4]=s=>G.value="small")},[...e[19]||(e[19]=[ae('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-v-d859174b><rect x="3" y="3" width="7" height="7" data-v-d859174b></rect><rect x="14" y="3" width="7" height="7" data-v-d859174b></rect><rect x="3" y="14" width="7" height="7" data-v-d859174b></rect><rect x="14" y="14" width="7" height="7" data-v-d859174b></rect></svg>',1)])],2),t("button",{class:_(["view-btn",{active:G.value==="large"}]),onClick:e[5]||(e[5]=s=>G.value="large")},[...e[20]||(e[20]=[ae('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-v-d859174b><rect x="3" y="3" width="8" height="8" data-v-d859174b></rect><rect x="13" y="3" width="8" height="8" data-v-d859174b></rect><rect x="3" y="13" width="8" height="8" data-v-d859174b></rect><rect x="13" y="13" width="8" height="8" data-v-d859174b></rect></svg>',1)])],2)]),t("button",{class:"toolbar-btn refresh-btn",onClick:S},[...e[21]||(e[21]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M23 4v6h-6"}),t("path",{d:"M1 20v-6h6"}),t("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)])])]),ee.value.length>0?(r(),u("div",Ze,[(r(!0),u(B,null,M(ee.value,s=>(r(),u("button",{key:s.key,class:"active-filter-chip",onClick:c=>me(s)},[t("span",et,m(s.label),1),e[22]||(e[22]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1))],8,Ie))),128)),t("button",{class:"clear-all-btn",onClick:e[6]||(e[6]=s=>{te(),W()})},"–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë")])):w("",!0),d.value?(r(),u("div",{key:1,class:"sort-dropdown",onClick:e[7]||(e[7]=oe(s=>d.value=!1,["self"]))},[t("div",tt,[(r(),u(B,null,M(se,s=>t("button",{key:s.value,class:_(["sort-option",{active:N.value===s.value}]),onClick:c=>ke(s.value)},m(s.label),11,st)),64))])])):w("",!0),C.value?(r(),u("div",lt,[...e[23]||(e[23]=[t("div",{class:"loading-spinner"},null,-1)])])):(r(),u("div",it,[t("div",{class:_(["gift-grid",G.value])},[(r(!0),u(B,null,M(D.value,s=>(r(),re(Oe,{key:s.id,gift:s,selectable:E.value,"is-selected":P.value.includes(s.id),onClick:Be,onBuy:Me,onSelect:$e},null,8,["gift","selectable","is-selected"]))),128))],2),x.value>0?(r(),u("div",at,[t("div",ot,[t("button",{class:"page-btn",disabled:b.value<=1,onClick:we},[...e[24]||(e[24]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1)])],8,rt),t("div",nt,[t("span",ct,m(b.value),1),e[25]||(e[25]=t("span",{class:"page-divider"},"/",-1)),t("span",ut,m(x.value),1)]),t("button",{class:"page-btn",disabled:b.value>=x.value,onClick:_e},[...e[26]||(e[26]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m9 18 6-6-6-6"})],-1)])],8,dt)]),U(t("input",{type:"range",class:"page-slider",min:1,max:x.value,"onUpdate:modelValue":e[8]||(e[8]=s=>b.value=s),onChange:S},null,40,vt),[[j,b.value,void 0,{number:!0}]])])):w("",!0),P.value.length>0?(r(),u("button",{key:1,class:"bulk-buy-btn",onClick:Se},[e[27]||(e[27]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("path",{d:"M3 6h18"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),t("span",null,m(P.value.length),1)])):w("",!0),!C.value&&D.value.length===0?(r(),u("div",pt,[...e[28]||(e[28]=[t("span",{class:"empty-icon"},"üéÅ",-1),t("p",{class:"empty-text"},"–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–∏—Ñ—Ç–æ–≤",-1),t("p",{class:"empty-hint"},"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã",-1)])])):w("",!0)])),(r(),re(Te,{to:"body"},[ne(ue,{name:"filter-overlay"},{default:ce(()=>[o.value?(r(),u("div",{key:0,class:"filter-overlay",onClick:e[12]||(e[12]=oe(s=>o.value=!1,["self"]))},[ne(ue,{name:"filter-slide"},{default:ce(()=>[o.value?(r(),u("div",ht,[t("div",ft,[e[30]||(e[30]=t("h3",{class:"filter-title"},"–§–∏–ª—å—Ç—Ä—ã",-1)),t("button",{class:"filter-close",onClick:e[9]||(e[9]=s=>o.value=!1)},[...e[29]||(e[29]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",mt,[t("div",gt,[e[31]||(e[31]=t("div",{class:"filter-section-title"},"–ü–æ–¥–∞—Ä–æ–∫",-1)),t("div",bt,[(r(!0),u(B,null,M(fe.value,s=>(r(),u("button",{key:s,class:_(["filter-chip",{active:i.names.includes(s)}]),onClick:c=>O("names",s)},m(s),11,kt))),128))])]),Q.value.length?(r(),u("div",yt,[e[32]||(e[32]=t("div",{class:"filter-section-title"},"–ú–æ–¥–µ–ª—å",-1)),t("div",wt,[(r(!0),u(B,null,M(Q.value,s=>(r(),u("button",{key:s,class:_(["filter-chip",{active:i.models.includes(s)}]),onClick:c=>O("models",s)},m(s),11,_t))),128))])])):w("",!0),Y.value.length?(r(),u("div",Ct,[e[33]||(e[33]=t("div",{class:"filter-section-title"},"–§–æ–Ω",-1)),t("div",Pt,[(r(!0),u(B,null,M(Y.value,s=>(r(),u("button",{key:s,class:_(["filter-chip",{active:i.backdrops.includes(s)}]),onClick:c=>O("backdrops",s)},m(s),11,xt))),128))])])):w("",!0),X.value.length?(r(),u("div",Bt,[e[34]||(e[34]=t("div",{class:"filter-section-title"},"–ü–∞—Ç—Ç–µ—Ä–Ω",-1)),t("div",Mt,[(r(!0),u(B,null,M(X.value,s=>(r(),u("button",{key:s,class:_(["filter-chip",{active:i.patterns.includes(s)}]),onClick:c=>O("patterns",s)},m(s),11,$t))),128))])])):w("",!0),Z.value.length?(r(),u("div",St,[e[35]||(e[35]=t("div",{class:"filter-section-title"},"–°–∏–º–≤–æ–ª",-1)),t("div",Ft,[(r(!0),u(B,null,M(Z.value,s=>(r(),u("button",{key:s,class:_(["filter-chip",{active:i.symbols.includes(s)}]),onClick:c=>O("symbols",s)},m(s),11,Tt))),128))])])):w("",!0),t("div",Dt,[e[36]||(e[36]=t("div",{class:"filter-section-title"},"–†–µ–¥–∫–æ—Å—Ç—å",-1)),t("div",At,[(r(),u(B,null,M(I,s=>t("button",{key:s.value,class:_(["filter-chip rarity-chip",{active:i.rarities.includes(s.value)}]),style:Ee(i.rarities.includes(s.value)?{background:s.color,borderColor:s.color}:{}),onClick:c=>O("rarities",s.value)},m(s.label),15,Gt)),64))])]),t("div",Et,[e[38]||(e[38]=t("div",{class:"filter-section-title"},"–¶–µ–Ω–∞ (TON)",-1)),t("div",Ot,[t("div",Vt,[U(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.minPrice=s),type:"number",placeholder:"–ú–∏–Ω",class:"price-input",min:"0",step:"0.1"},null,512),[[j,i.minPrice,void 0,{number:!0}]])]),e[37]||(e[37]=t("span",{class:"price-dash"},"‚Äî",-1)),t("div",Nt,[U(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.maxPrice=s),type:"number",placeholder:"–ú–∞–∫—Å",class:"price-input",min:"0",step:"0.1"},null,512),[[j,i.maxPrice,void 0,{number:!0}]])])])])]),t("div",Lt,[t("button",{class:"filter-reset",onClick:te},"–°–±—Ä–æ—Å–∏—Ç—å"),t("button",{class:"filter-apply",onClick:W},[e[39]||(e[39]=Ae(" –ü–æ–∫–∞–∑–∞—Ç—å ",-1)),z.value>0?(r(),u("span",zt,m(z.value),1)):w("",!0)])])])):w("",!0)]),_:1})])):w("",!0)]),_:1})])),t("footer",Ht,[t("div",Ut,[t("div",jt,[e[40]||(e[40]=t("img",{src:"https://ton.org/download/ton_symbol.svg",alt:"TON",class:"ton-logo"},null,-1)),t("span",Kt,m(A.value)+"$",1)]),t("div",Wt,[e[41]||(e[41]=t("span",{class:"volume-label"},"–û–±—â–∏–π –æ–±—ä–µ–º 24H",-1)),t("span",Jt,m(L.value),1),e[42]||(e[42]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",class:"volume-icon"},[t("path",{d:"M12 2L2 7l10 5 10-5-10-5z"})],-1))])]),e[43]||(e[43]=t("div",{class:"footer-right"},[t("button",{class:"footer-btn"},"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"),t("a",{href:"https://t.me/portals_sup",target:"_blank",class:"footer-btn"},"–ü–æ–¥–¥–µ—Ä–∂–∫–∞"),t("a",{href:"https://t.me/portals",target:"_blank",class:"footer-btn"},"Telegram")],-1))])]))}}),Zt=Ne(Rt,[["__scopeId","data-v-d859174b"]]);export{Zt as default};
